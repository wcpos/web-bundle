__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=C(r);if(s&&s.has(e))return s.get(e);var a={__proto__:null},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var o=t?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]}return a.default=e,s&&s.set(e,a),a})(_r(d[1])),s=e(_r(d[2])),a=_r(d[3]),t=_r(d[4]),n=_r(d[5]),o=_r(d[6]),c=_r(d[7]),i=_r(d[8]),l=_r(d[9]),u=_r(d[10]),p=_r(d[11]),x=e(_r(d[12])),j=e(_r(d[13])),h=_r(d[14]),S=_r(d[15]),f=_r(d[16]),y=e(_r(d[17])),w=_r(d[18]),b=_r(d[19]),O=_r(d[20]),P=e(_r(d[21])),_=_r(d[22]),v=e(_r(d[23])),I=_r(d[24]),L=e(_r(d[25])),k=_r(d[26]),B=_r(d[27]),N=_r(d[28]),R=_r(d[29]),z=_r(d[30]),D=_r(d[31]),E=_r(d[32]);function C(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,s=new WeakMap;return(C=function(e){return e?s:r})(e)}const U=r.lazy((()=>_r(d[34])(d[33],d.paths))),M=r.lazy((()=>_r(d[34])(d[35],d.paths))),T=r.lazy((()=>_r(d[34])(d[36],d.paths))),q=r.lazy((()=>_r(d[34])(d[37],d.paths))),Q=(0,t.createStackNavigator)(),W=(0,a.createDrawerNavigator)(),A=({navigation:e})=>{const a=(0,s.default)();(0,y.default)();const t=(0,R.useT)(),{isPro:n}=(0,w.useLicense)(),[o,u]=r.useState(!n),p=a.width>=1024;return(0,E.jsxs)(W.Navigator,{initialRouteName:"POSStack",screenOptions:{header:e=>(0,E.jsx)(j.default,Object.assign({},e,{showUpgrade:o,setShowUpgrade:u})),drawerType:p?'permanent':'front',drawerStyle:{backgroundColor:'#243B53',width:p?'auto':void 0,borderRightColor:'rgba(0, 0, 0, 0.2)'},sceneContainerStyle:{height:'100%'}},drawerContent:e=>(0,E.jsx)(x.default,Object.assign({},e,{largeScreen:p})),children:[(0,E.jsx)(W.Screen,{name:"POSStack",options:{title:t('POS',{_tags:'core'}),drawerLabel:t('POS',{_tags:'core'}),drawerIcon:({focused:e})=>(0,E.jsx)(i.Icon,{size:"xl",name:"cashRegister",className:e&&'text-primary'})},children:e=>(0,E.jsx)(c.ErrorBoundary,{children:(0,E.jsx)(l.Suspense,{children:(0,E.jsx)(v.default,Object.assign({},e))})})}),(0,E.jsx)(W.Screen,{name:"ProductsStack",options:{title:t('Products',{_tags:'core'}),drawerLabel:t('Products',{_tags:'core'}),drawerIcon:({focused:e})=>(0,E.jsx)(i.Icon,{size:"xl",name:"gifts",className:e&&'text-primary'})},children:e=>n?(0,E.jsx)(c.ErrorBoundary,{children:(0,E.jsx)(l.Suspense,{children:(0,E.jsx)(T,Object.assign({},e))})}):(0,E.jsx)(_.PageUpgrade,{page:"products"})}),(0,E.jsx)(W.Screen,{name:"OrdersStack",options:{title:t('Orders',{_tags:'core'}),drawerLabel:t('Orders',{_tags:'core'}),drawerIcon:({focused:e})=>(0,E.jsx)(i.Icon,{size:"xl",name:"receipt",className:e&&'text-primary'})},children:e=>n?(0,E.jsx)(c.ErrorBoundary,{children:(0,E.jsx)(l.Suspense,{children:(0,E.jsx)(M,Object.assign({},e))})}):(0,E.jsx)(_.PageUpgrade,{page:"orders"})}),(0,E.jsx)(W.Screen,{name:"CustomersStack",options:{title:t('Customers',{_tags:'core'}),drawerLabel:t('Customers',{_tags:'core'}),drawerIcon:({focused:e})=>(0,E.jsx)(i.Icon,{size:"xl",name:"users",className:e&&'text-primary'})},children:e=>n?(0,E.jsx)(c.ErrorBoundary,{children:(0,E.jsx)(l.Suspense,{children:(0,E.jsx)(U,Object.assign({},e))})}):(0,E.jsx)(_.PageUpgrade,{page:"customers"})}),(0,E.jsx)(W.Screen,{name:"ReportsStack",options:{title:t('Reports',{_tags:'core'}),drawerLabel:t('Reports',{_tags:'core'}),drawerIcon:({focused:e})=>(0,E.jsx)(i.Icon,{size:"xl",name:"chartMixedUpCircleDollar",className:e&&'text-primary'})},children:e=>n?(0,E.jsx)(c.ErrorBoundary,{children:(0,E.jsx)(l.Suspense,{children:(0,E.jsx)(q,Object.assign({},e))})}):(0,E.jsx)(_.PageUpgrade,{page:"reports"})}),(0,E.jsx)(W.Screen,{name:"LogsStack",options:{title:t('Logs',{_tags:'core'}),drawerLabel:t('Logs',{_tags:'core'}),drawerIcon:({focused:e})=>(0,E.jsx)(i.Icon,{size:"xl",name:"heartPulse",className:e&&'text-primary'}),drawerItemStyle:{marginTop:'auto'}},children:e=>(0,E.jsx)(c.ErrorBoundary,{children:(0,E.jsx)(l.Suspense,{children:(0,E.jsx)(P.default,Object.assign({},e))})})}),(0,E.jsx)(W.Screen,{name:"SupportStack",options:{title:t('Support',{_tags:'core'}),drawerLabel:t('Support',{_tags:'core'}),drawerIcon:({focused:e})=>(0,E.jsx)(i.Icon,{size:"xl",name:"commentQuestion",className:e&&'text-primary'})},children:e=>(0,E.jsx)(c.ErrorBoundary,{children:(0,E.jsx)(l.Suspense,{children:(0,E.jsx)(L.default,Object.assign({},e))})})})]})},V=()=>{const e=(0,p.useQuery)({queryKeys:['tax-rates'],collectionName:'taxes',initialParams:{}});return(0,E.jsx)(c.ErrorBoundary,{children:(0,E.jsx)(l.Suspense,{children:(0,E.jsx)(k.TaxRates,{query:e})})})};_e.default=()=>{const{site:e,storeDB:r,fastStoreDB:s}=(0,N.useAppState)(),a=(0,n.useObservableEagerState)(e.wp_api_url$),{locale:t}=(0,z.useLocale)(),{wcposVersionPass:c}=(0,D.useVersionCheck)({site:e}),i=(0,b.useRestHttpClient)();return c?(0,o.isRxDatabase)(r)?(0,E.jsx)(h.ExtraDataProvider,{children:(0,E.jsxs)(p.QueryProvider,{localDB:r,fastLocalDB:s,http:i,locale:t,children:[(0,E.jsx)(S.UISettingsProvider,{children:(0,E.jsx)(u.OnlineStatusProvider,{wpAPIURL:a,children:(0,E.jsxs)(Q.Navigator,{screenOptions:{headerShown:!1},children:[(0,E.jsx)(Q.Screen,{name:"MainDrawer",component:A}),(0,E.jsxs)(Q.Group,{screenOptions:{presentation:'transparentModal'},children:[(0,E.jsx)(Q.Screen,{name:"Settings",component:I.SettingsTabs}),(0,E.jsx)(Q.Screen,{name:"Login",component:O.Login}),(0,E.jsx)(Q.Screen,{name:"TaxRates",component:V})]})]})})}),(0,E.jsx)(f.Errors,{})," "]})}):null:(0,E.jsx)(B.UpgradeRequired,{})}}),3710,{"0":1,"1":17,"2":469,"3":3712,"4":2097,"5":1170,"6":1398,"7":888,"8":898,"9":2155,"10":3735,"11":2168,"12":3746,"13":3750,"14":3430,"15":2382,"16":3758,"17":3759,"18":3762,"19":2300,"20":3763,"21":3764,"22":3770,"23":3771,"24":3884,"25":3898,"26":3906,"27":3909,"28":1168,"29":2083,"30":2087,"31":3530,"32":483,"33":3910,"34":2166,"35":3911,"36":3912,"37":3913,"paths":{"3910":"https://cdn.jsdelivr.net/gh/wcpos/web-bundle@1.7/bundles/index-9296cd0dda388cb914cba17a8c292096.js","3911":"https://cdn.jsdelivr.net/gh/wcpos/web-bundle@1.7/bundles/index-72e19e0c2ae948594d48db73d1d9f112.js","3912":"https://cdn.jsdelivr.net/gh/wcpos/web-bundle@1.7/bundles/index-86ad7fbf36c6b4c614d69b1f3a2ff280.js","3913":"https://cdn.jsdelivr.net/gh/wcpos/web-bundle@1.7/bundles/index-2dca7087017287c1e0996f4f8b8733fb.js"}});
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DrawerContent",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"DrawerContentScrollView",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"DrawerGestureContext",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"DrawerItem",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"DrawerItemList",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"DrawerProgressContext",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"DrawerStatusContext",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"DrawerToggleButton",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"DrawerView",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"createDrawerNavigator",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"getDrawerStatusFromState",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"useDrawerProgress",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"useDrawerStatus",{enumerable:!0,get:function(){return O.default}});var n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6])),b=t(r(d[7])),P=t(r(d[8])),w=t(r(d[9])),j=t(r(d[10])),p=t(r(d[11])),y=t(r(d[12])),O=t(r(d[13]))}),3712,[1,3713,3719,3720,3722,3721,3723,3714,3732,3728,3717,3718,3733,3734]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=u(_r(d[2])),a=_r(d[3]),n=(u(_r(d[4])),e(_r(d[5]))),o=e(_r(d[6]));const i=["id","initialRouteName","defaultStatus","backBehavior","children","screenListeners","screenOptions"],s=["openByDefault","lazy","drawerContentOptions"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c.apply(this,arguments)}_e.default=(0,a.createNavigatorFactory)((function(e){let{id:l,initialRouteName:u,defaultStatus:p,backBehavior:f,children:v,screenListeners:y,screenOptions:O}=e,w=(0,t.default)(e,i);const{openByDefault:h,lazy:b,drawerContentOptions:S}=w,D=(0,t.default)(w,s);let P={};S&&(Object.assign(P,{drawerPosition:S.drawerPosition,drawerType:S.drawerType,swipeEdgeWidth:S.edgeWidth,drawerHideStatusBarOnOpen:S.hideStatusBar,keyboardDismissMode:S.keyboardDismissMode,swipeMinDistance:S.minSwipeDistance,overlayColor:S.overlayColor,drawerStatusBarAnimation:S.statusBarAnimation,gestureHandlerProps:S.gestureHandlerProps}),Object.keys(P).forEach((e=>{void 0===P[e]&&delete P[e]})),(0,n.default)(S,`Drawer Navigator: 'drawerContentOptions' is deprecated. Migrate the options to 'screenOptions' instead.\n\nPlace the following in 'screenOptions' in your code to keep current behavior:\n\n${JSON.stringify(P,null,2)}\n\nSee https://reactnavigation.org/docs/drawer-navigator#options for more details.`)),'boolean'==typeof b&&(P.lazy=b,(0,n.default)(!0,"Drawer Navigator: 'lazy' in props is deprecated. Move it to 'screenOptions' instead.\n\nSee https://reactnavigation.org/docs/drawer-navigator/#lazy for more details.")),'boolean'==typeof h&&(0,n.default)(!0,"Drawer Navigator: 'openByDefault' is deprecated. Use 'defaultStatus' and set it to 'open' or 'closed' instead.\n\nSee https://reactnavigation.org/docs/drawer-navigator/#defaultstatus for more details.");const j=void 0!==p?p:h?'open':'closed',{state:B,descriptors:k,navigation:M,NavigationContent:N}=(0,a.useNavigationBuilder)(a.DrawerRouter,{id:l,initialRouteName:u,defaultStatus:j,backBehavior:f,children:v,screenListeners:y,screenOptions:O,defaultScreenOptions:P});return r.createInteropElement(N,null,r.createInteropElement(o.default,c({},D,{defaultStatus:j,state:B,descriptors:k,navigation:M})))}))}),3713,[1,31,293,487,17,2104,3714]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){let{navigation:a}=e,o=(0,t.default)(e,S);return r.createInteropElement(n.SafeAreaProviderCompat,null,r.createInteropElement(P,{style:M.content},r.createInteropElement(D,I({navigation:a},o))))};var t=e(_r(d[1])),r=E(_r(d[2])),n=_r(d[3]),a=_r(d[4]),o=E(_r(d[5])),i=e(_r(d[6])),l=(e(_r(d[7])),e(_r(d[8]))),s=e(_r(d[9])),u=E(_r(d[10])),c=_r(d[11]),p=_r(d[12]),f=e(_r(d[13])),h=e(_r(d[14])),y=e(_r(d[15])),b=e(_r(d[16])),v=e(_r(d[17])),w=_r(d[18]),O=_r(d[19]);const S=["navigation"];function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(k=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=k(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}const C=e=>{let{height:t,width:r}=e;const n=Math.min(t,r),a=n>=600?320:280;return Math.min(n-56,a)},P=w.GestureHandlerRootView??s.default;function D(e){var t;let{state:s,navigation:w,descriptors:S,defaultStatus:k,drawerContent:E=e=>r.createInteropElement(b.default,e),detachInactiveScreens:P=!0,useLegacyImplementation:D=!(null!==(t=u.isConfigured)&&void 0!==t&&t.call(u))}=e;const j=void 0===_r(d[10]).abs;if(D&&j)throw new Error('The `useLegacyImplementation` prop is not available with Reanimated 3 as it no longer includes support for Reanimated 1 legacy API. Remove the `useLegacyImplementation` prop from `Drawer.Navigator` to be able to use it.');const L=D?_r(d[20]).default:_r(d[21]).default,T=s.routes[s.index].key,{drawerHideStatusBarOnOpen:_=!1,drawerPosition:A=(i.default.getConstants().isRTL?'right':'left'),drawerStatusBarAnimation:B="slide",drawerStyle:W,drawerType:H="front",gestureHandlerProps:R,keyboardDismissMode:x="on-drag",overlayColor:z="rgba(0, 0, 0, 0.5)",swipeEdgeWidth:F=32,swipeEnabled:V=!1,swipeMinDistance:G=60,overlayAccessibilityLabel:N}=S[T].options,[q,J]=o.useState([T]);q.includes(T)||J([...q,T]);const K=(0,c.useSafeAreaFrame)(),{colors:Q}=(0,a.useTheme)(),U=(0,y.default)(s),X=o.useCallback((()=>{w.dispatch(Object.assign({},a.DrawerActions.openDrawer(),{target:s.key}))}),[w,s.key]),Y=o.useCallback((()=>{w.dispatch(Object.assign({},a.DrawerActions.closeDrawer(),{target:s.key}))}),[w,s.key]);o.useEffect((()=>{if(U===k||'permanent'===H)return;return(0,p.addCancelListener)((()=>!!w.isFocused()&&('open'===k?X():Y(),!0)))}),[k,U,H,Y,X,w]);return r.createInteropElement(h.default.Provider,{value:U},r.createInteropElement(L,{open:'closed'!==U,onOpen:X,onClose:Y,gestureHandlerProps:R,swipeEnabled:V,swipeEdgeWidth:F,swipeVelocityThreshold:500,swipeDistanceThreshold:G,hideStatusBarOnOpen:_,statusBarAnimation:B,keyboardDismissMode:x,drawerType:H,overlayAccessibilityLabel:N,drawerPosition:A,drawerStyle:[{width:C(K),backgroundColor:Q.card},'permanent'===H&&('left'===A?{borderRightColor:Q.border,borderRightWidth:l.default.hairlineWidth}:{borderLeftColor:Q.border,borderLeftWidth:l.default.hairlineWidth}),W],overlayStyle:{backgroundColor:z},renderDrawerContent:()=>r.createInteropElement(f.default.Provider,{value:A},E({state:s,navigation:w,descriptors:S})),renderSceneContent:()=>r.createInteropElement(O.MaybeScreenContainer,{enabled:P,hasTwoStates:!0,style:M.content},s.routes.map(((e,t)=>{const a=S[e.key],{lazy:o=!0,unmountOnBlur:i}=a.options,u=s.index===t;if(i&&!u)return null;if(o&&!q.includes(e.key)&&!u)return null;const{freezeOnBlur:c,header:p=t=>{let{layout:a,options:o}=t;return r.createInteropElement(n.Header,I({},o,{layout:a,title:(0,n.getHeaderTitle)(o,e.name),headerLeft:o.headerLeft??(e=>r.createInteropElement(v.default,e))}))},headerShown:f,headerStatusBarHeight:h,headerTransparent:y,sceneContainerStyle:b}=a.options;return r.createInteropElement(O.MaybeScreen,{key:e.key,style:[l.default.absoluteFill,{zIndex:u?0:-1}],visible:u,enabled:P,freezeOnBlur:c},r.createInteropElement(n.Screen,{focused:u,route:a.route,navigation:a.navigation,headerShown:f,headerStatusBarHeight:h,headerTransparent:y,header:p({layout:K,route:a.route,navigation:a.navigation,options:a.options}),style:b},a.render()))}))),dimensions:K}))}const M=l.default.create({content:{flex:1}})}),3714,[1,31,293,291,487,17,420,86,30,320,688,476,3715,3716,3717,3718,3719,3723,3725,3726,3727,3730]);
__d((function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.addCancelListener=void 0;_e.addCancelListener=e=>{var n,l,o;const u=n=>{'Escape'===n.key&&e()};return null===(n=document)||void 0===n||null===(l=n.body)||void 0===l||null===(o=l.addEventListener)||void 0===o||o.call(l,'keyup',u),()=>{var e,n,l;null===(e=document)||void 0===e||null===(n=e.body)||void 0===n||null===(l=n.removeEventListener)||void 0===l||l.call(n,'keyup',u)}}}),3715,[]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.createContext(void 0)}),3716,[17]);
__d((function(g,_r,_i,_a,m,_e,d){function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;const t=(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in t)if("default"!==f&&{}.hasOwnProperty.call(t,f)){var a=u?Object.getOwnPropertyDescriptor(t,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=t[f]}return o.default=t,n&&n.set(t,o),o})(_r(d[0])).createContext(void 0);_e.default=t}),3717,[17]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(null==t.history)throw new Error("Couldn't find the drawer status in the state object. Is it a valid state object of drawer navigator?");const o=t.history.find((t=>'drawer'===t.type));return(null==o?void 0:o.status)??t.default??'closed'}}),3718,[]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){let{descriptors:u,state:i}=e,c=(0,t.default)(e,a);const f=i.routes[i.index],s=u[f.key].options,{drawerContentStyle:p,drawerContentContainerStyle:y}=s;return r.createInteropElement(n.default,l({},c,{contentContainerStyle:y,style:p}),r.createInteropElement(o.default,l({descriptors:u,state:i},c)))};var t=e(_r(d[1])),r=i(_r(d[2])),n=(i(_r(d[3])),e(_r(d[4]))),o=e(_r(d[5]));const a=["descriptors","state"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}}),3719,[1,31,293,17,3720,3721]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=s(_r(d[2])),r=s(_r(d[3])),a=e(_r(d[4])),o=e(_r(d[5])),f=e(_r(d[6])),l=_r(d[7]),i=e(_r(d[8]));const u=["contentContainerStyle","style","children"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var f=a?Object.getOwnPropertyDescriptor(e,o):null;f&&(f.get||f.set)?Object.defineProperty(r,o,f):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function y(e,f){let{contentContainerStyle:c,style:s,children:y}=e,O=(0,t.default)(e,u);const b=r.useContext(i.default),_=(0,l.useSafeAreaInsets)(),h=a.default.getConstants().isRTL?'left'===b:'right'===b;return n.createInteropElement(o.default,p({},O,{ref:f,contentContainerStyle:[{paddingTop:_.top+4,paddingStart:h?0:_.left,paddingEnd:h?_.right:0},c],style:[v.container,s]}),y)}_e.default=r.forwardRef(y);const v=f.default.create({container:{flex:1}})}),3720,[1,31,293,17,420,343,30,476,3716]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){let{state:a,navigation:o,descriptors:i}=e;const l=(0,r.useLinkBuilder)(),c=a.routes[a.index],u=i[c.key].options,{drawerActiveTintColor:s,drawerInactiveTintColor:f,drawerActiveBackgroundColor:p,drawerInactiveBackgroundColor:v}=u;return a.routes.map(((e,c)=>{const u=c===a.index,{title:y,drawerLabel:w,drawerIcon:k,drawerLabelStyle:b,drawerItemStyle:P,drawerAllowFontScaling:_}=i[e.key].options;return t.createInteropElement(n.default,{key:e.key,label:void 0!==w?w:void 0!==y?y:e.name,icon:k,focused:u,activeTintColor:s,inactiveTintColor:f,activeBackgroundColor:p,inactiveBackgroundColor:v,allowFontScaling:_,labelStyle:b,style:P,to:l(e.name,e.params),onPress:()=>{o.emit({type:'drawerItemPress',target:e.key,canPreventDefault:!0}).defaultPrevented||o.dispatch(Object.assign({},u?r.DrawerActions.closeDrawer():r.CommonActions.navigate({name:e.name,merge:!0}),{target:a.key}))}})}))};var t=o(_r(d[1])),r=_r(d[2]),n=(o(_r(d[3])),e(_r(d[4])));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}}),3721,[1,293,487,17,3722]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){const{colors:n}=(0,o.useTheme)(),{icon:u,label:p,labelStyle:y,to:O,focused:I=!1,allowFontScaling:h,activeTintColor:w=n.primary,inactiveTintColor:C=(0,l.default)(n.text).alpha(.68).rgb().string(),activeBackgroundColor:_=(0,l.default)(w).alpha(.12).rgb().string(),inactiveBackgroundColor:j="transparent",style:k,onPress:L,pressColor:E,pressOpacity:R,testID:D,accessibilityLabel:S}=e,M=(0,t.default)(e,f),{borderRadius:T=4}=s.default.flatten(k||{}),x=I?w:C,B=I?_:j,F=u?u({size:24,focused:I,color:x}):null;return r.createInteropElement(c.default,b({collapsable:!1},M,{style:[v.container,{borderRadius:T,backgroundColor:B},k]}),r.createInteropElement(P,{testID:D,onPress:L,style:[v.wrapper,{borderRadius:T}],accessibilityLabel:S,accessibilityRole:"button",accessibilityState:{selected:I},pressColor:E,pressOpacity:R,to:O},r.createInteropElement(a.Fragment,null,F,r.createInteropElement(c.default,{style:[v.label,{marginLeft:F?32:0,marginVertical:5}]},'string'==typeof p?r.createInteropElement(i.default,{numberOfLines:1,allowFontScaling:h,style:[{color:x,fontWeight:'500'},y]},p):p({color:x,focused:I})))))};var t=e(_r(d[1])),r=y(_r(d[2])),n=_r(d[3]),o=_r(d[4]),l=e(_r(d[5])),a=y(_r(d[6])),s=(e(_r(d[7])),e(_r(d[8]))),i=e(_r(d[9])),c=e(_r(d[10]));const u=["children","style","onPress","onLongPress","onPressIn","onPressOut","to","accessibilityRole"],f=["icon","label","labelStyle","to","focused","allowFontScaling","activeTintColor","inactiveTintColor","activeBackgroundColor","inactiveBackgroundColor","style","onPress","pressColor","pressOpacity","testID","accessibilityLabel"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var a=o?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}const P=e=>{let{children:l,style:a,onPress:s,onLongPress:i,onPressIn:f,onPressOut:p,to:y,accessibilityRole:P}=e,O=(0,t.default)(e,u);return y?r.createInteropElement(o.Link,b({},O,{to:y,style:[v.button,a],onPress:e=>{e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||null!=e.button&&0!==e.button||(e.preventDefault(),null==s||s(e))},onLongPress:i??void 0,onPressIn:f??void 0,onPressOut:p??void 0}),l):r.createInteropElement(n.PlatformPressable,b({},O,{accessibilityRole:P,onPress:s}),r.createInteropElement(c.default,{style:a},l))};const v=s.default.create({container:{marginHorizontal:10,marginVertical:4,overflow:'hidden'},wrapper:{flexDirection:'row',alignItems:'center',padding:8},label:{marginRight:32,flex:1},button:{display:'flex'}})}),3722,[1,31,293,291,487,2114,17,86,30,395,320]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){let{tintColor:i}=e,c=(0,t.default)(e,l);const u=(0,o.useNavigation)();return r.createInteropElement(n.PlatformPressable,s({},c,{accessible:!0,accessibilityRole:"button",android_ripple:{borderless:!0},onPress:()=>u.dispatch(o.DrawerActions.toggleDrawer()),style:f.touchable,hitSlop:{top:16,right:16,bottom:16,left:16}}),r.createInteropElement(a.default,{style:[f.icon,i?{tintColor:i}:null],source:_r(d[9]),fadeDuration:0}))};var t=e(_r(d[1])),r=u(_r(d[2])),n=_r(d[3]),o=_r(d[4]),a=(u(_r(d[5])),e(_r(d[6]))),i=(e(_r(d[7])),e(_r(d[8])));const l=["tintColor"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}const f=i.default.create({icon:{height:24,width:24,margin:3,resizeMode:'contain'},touchable:{marginHorizontal:11}})}),3723,[1,31,293,291,487,17,385,86,30,3724]);
__d((function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/__node_modules/@react-navigation/drawer/lib/module/views/assets",width:96,height:96,scales:[1],hash:"ae74bb20586a731af545e6b00fe14a09",name:"toggle-drawer-icon.ae74bb20586a731af545e6b00fe14a09",type:"png",fileHashes:["ae74bb20586a731af545e6b00fe14a09"]})}),3724,[386]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TapGestureHandler=_e.PanGestureHandler=_e.GestureState=_e.GestureHandlerRootView=void 0;var t=u(_r(d[1])),r=u(_r(d[2])),n=e(_r(d[3]));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var l=u?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}const o=e=>{let{children:n}=e;return t.createInteropElement(r.Fragment,null,n)};_e.PanGestureHandler=o,_e.TapGestureHandler=o,_e.GestureHandlerRootView=n.default;let l=_e.GestureState=void 0;!(function(e){e[e.UNDETERMINED=0]="UNDETERMINED",e[e.FAILED=1]="FAILED",e[e.BEGAN=2]="BEGAN",e[e.CANCELLED=3]="CANCELLED",e[e.ACTIVE=4]="ACTIVE",e[e.END=5]="END"})(l||(_e.GestureState=l={}))}),3725,[1,293,17,320]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MaybeScreen=function(e){var a,l;let{visible:o,children:c}=e,p=(0,t.default)(e,i);if(null!==(a=f)&&void 0!==a&&null!==(l=a.screensEnabled)&&void 0!==l&&l.call(a))return n.createInteropElement(f.Screen,u({activityState:o?2:0},p),c);return n.createInteropElement(r.ResourceSavingView,u({visible:o},p),c)},_e.MaybeScreenContainer=void 0;var t=e(_r(d[1])),n=c(_r(d[2])),r=_r(d[3]),a=(c(_r(d[4])),e(_r(d[5])));const l=["enabled"],i=["visible","children"];function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}let f;try{f=_r(d[6])}catch(e){}_e.MaybeScreenContainer=e=>{var r,i;let{enabled:o}=e,c=(0,t.default)(e,l);return null!==(r=f)&&void 0!==r&&null!==(i=r.screensEnabled)&&void 0!==i&&i.call(r)?n.createInteropElement(f.ScreenContainer,u({enabled:o},c)):n.createInteropElement(a.default,c)}}),3726,[1,31,293,291,17,320,2126]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=f(_r(d[1])),i=f(_r(d[2])),n=e(_r(d[3])),s=e(_r(d[4])),r=e(_r(d[5])),a=(e(_r(d[6])),e(_r(d[7]))),o=e(_r(d[8])),h=e(_r(d[9])),l=e(_r(d[10])),p=e(_r(d[11])),c=_r(d[12]),u=e(_r(d[13]));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(w=function(e){return e?i:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=w(t);if(i&&i.has(e))return i.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var a=s?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,i&&i.set(e,n),n}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},y.apply(this,arguments)}const{Clock:v,Value:O,onChange:S,clockRunning:X,startClock:b,stopClock:T,spring:D,abs:V,add:E,and:I,block:W,call:P,cond:C,divide:k,eq:x,event:H,greaterThan:B,lessThan:j,max:F,min:L,multiply:_,neq:G,or:A,set:M,sub:q}=l.default,N='80%',R={stiffness:1e3,damping:500,mass:3,overshootClamping:!0,restDisplacementThreshold:.01,restSpeedThreshold:.01},U=new l.default.Value(0),z=new l.default.Value(1);class Y extends i.Component{componentDidUpdate(e){const{open:t,drawerPosition:i,drawerType:n,swipeDistanceThreshold:s,swipeVelocityThreshold:r,hideStatusBarOnOpen:a}=this.props;'boolean'==typeof this.pendingOpenValue&&t===this.pendingOpenValue||this.toggleDrawer(t),this.pendingOpenValue=void 0,t!==e.open&&a&&this.toggleStatusBar(t),e.drawerPosition!==i&&this.drawerPosition.setValue('right'===i?-1:1),e.drawerType!==n&&this.isDrawerTypeFront.setValue('front'===n?1:0),e.swipeDistanceThreshold!==s&&this.swipeDistanceThreshold.setValue(s),e.swipeVelocityThreshold!==r&&this.swipeVelocityThreshold.setValue(r)}componentWillUnmount(){this.toggleStatusBar(!1),this.handleEndInteraction()}handleEndInteraction=()=>{void 0!==this.interactionHandle&&(s.default.clearInteractionHandle(this.interactionHandle),this.interactionHandle=void 0)};handleStartInteraction=()=>{void 0===this.interactionHandle&&(this.interactionHandle=s.default.createInteractionHandle())};getDrawerWidth=()=>{const{drawerStyle:e,dimensions:t}=this.props,{width:i=N}=o.default.flatten(e)||{};if('string'==typeof i&&i.endsWith('%')){const e=Number(i.replace(/%$/,''));if(Number.isFinite(e))return t.width*(e/100)}return'number'==typeof i?i:0};clock=new v;isDrawerTypeFront=new O('front'===this.props.drawerType?1:0);isOpen=new O(this.props.open?1:0);nextIsOpen=new O(-1);isSwiping=new O(0);initialDrawerWidth=this.getDrawerWidth();gestureState=new O(c.GestureState.UNDETERMINED);touchX=new O(0);velocityX=new O(0);gestureX=new O(0);offsetX=new O(0);position=new O(this.props.open?this.initialDrawerWidth*('right'===this.props.drawerPosition?-1:1):0);containerWidth=new O(this.props.dimensions.width);drawerWidth=new O(this.initialDrawerWidth);drawerOpacity=new O('permanent'===this.props.drawerType?1:0);drawerPosition=new O('right'===this.props.drawerPosition?-1:1);touchDistanceFromDrawer=C(this.isDrawerTypeFront,C(x(this.drawerPosition,1),F(q(q(this.touchX,this.gestureX),this.drawerWidth),0),L(_(q(q(this.containerWidth,this.drawerWidth),q(this.touchX,this.gestureX)),-1),0)),0);swipeDistanceThreshold=new O(this.props.swipeDistanceThreshold);swipeVelocityThreshold=new O(this.props.swipeVelocityThreshold);currentOpenValue=this.props.open;isStatusBarHidden=!1;manuallyTriggerSpring=new O(0);transitionTo=e=>{const t=new O(0),i=new O(0),n={position:this.position,time:new O(0),finished:new O(0),velocity:new O(0)};return W([C(X(this.clock),0,[M(t,_(e,this.drawerWidth,this.drawerPosition)),M(i,0),M(n.time,0),M(n.finished,0),M(n.velocity,this.velocityX),M(this.isOpen,e),b(this.clock),P([],this.handleStartInteraction),M(this.manuallyTriggerSpring,0)]),D(this.clock,n,Object.assign({},R,{toValue:t})),C(n.finished,[M(this.touchX,0),M(this.gestureX,0),M(this.velocityX,0),M(this.offsetX,0),T(this.clock),P([this.isOpen],(e=>{let[t]=e;const i=Boolean(t);this.handleEndInteraction(),i!==this.props.open&&this.toggleDrawer(this.props.open)}))])])};dragX=W([S(this.isOpen,P([this.isOpen],(e=>{let[t]=e;const i=Boolean(t);this.currentOpenValue=i,i!==this.props.open&&(i?this.props.onOpen():this.props.onClose(),this.pendingOpenValue=i,this.forceUpdate())}))),S(this.nextIsOpen,C(G(this.nextIsOpen,-1),[C(X(this.clock),T(this.clock)),M(this.isOpen,this.nextIsOpen),M(this.gestureX,0),M(this.nextIsOpen,-1)])),S(this.isSwiping,P([this.isSwiping],(e=>{let[t]=e;const{keyboardDismissMode:i}=this.props;1===t?('on-drag'===i&&r.default.dismiss(),this.toggleStatusBar(!0)):this.toggleStatusBar(this.currentOpenValue)}))),S(this.gestureState,C(x(this.gestureState,c.GestureState.ACTIVE),P([],this.handleStartInteraction))),C(x(this.gestureState,c.GestureState.ACTIVE),[C(this.isSwiping,0,[M(this.isSwiping,1),M(this.offsetX,this.position)]),M(this.position,E(this.offsetX,this.gestureX,this.touchDistanceFromDrawer)),T(this.clock)],[M(this.isSwiping,0),M(this.touchX,0),this.transitionTo(C(this.manuallyTriggerSpring,this.isOpen,C(A(I(B(V(this.gestureX),5),B(V(this.velocityX),this.swipeVelocityThreshold)),B(V(this.gestureX),this.swipeDistanceThreshold)),C(x(this.drawerPosition,1),B(C(x(this.velocityX,0),this.gestureX,this.velocityX),0),j(C(x(this.velocityX,0),this.gestureX,this.velocityX),0)),this.isOpen)))]),this.position]);translateX=C(x(this.drawerPosition,-1),L(F(_(this.drawerWidth,-1),this.dragX),0),F(L(this.drawerWidth,this.dragX),0));progress=C(x(this.drawerWidth,0),0,V(k(this.translateX,this.drawerWidth)));handleGestureEvent=H([{nativeEvent:{x:this.touchX,translationX:this.gestureX,velocityX:this.velocityX}}]);handleGestureStateChange=H([{nativeEvent:{state:e=>M(this.gestureState,e)}}]);handleContainerLayout=e=>this.containerWidth.setValue(e.nativeEvent.layout.width);handleDrawerLayout=e=>{this.drawerWidth.setValue(e.nativeEvent.layout.width),this.toggleDrawer(this.props.open),requestAnimationFrame((()=>requestAnimationFrame((()=>this.drawerOpacity.setValue(1)))))};toggleDrawer=e=>{this.currentOpenValue!==e&&(this.nextIsOpen.setValue(e?1:0),this.currentOpenValue=e)};toggleStatusBar=e=>{const{hideStatusBarOnOpen:t,statusBarAnimation:i}=this.props;t&&this.isStatusBarHidden!==e&&(this.isStatusBarHidden=e,a.default.setHidden(e,i))};render(){const{open:e,swipeEnabled:i,drawerPosition:s,drawerType:r,swipeEdgeWidth:a,drawerStyle:o,overlayStyle:w,renderDrawerContent:f,renderSceneContent:v,gestureHandlerProps:O,overlayAccessibilityLabel:X}=this.props,b='permanent'===r||e,T='right'===s,D='front'===r?U:this.translateX,V='back'===r?n.default.getConstants().isRTL?_(q(this.containerWidth,this.drawerWidth),T?1:-1):U:this.translateX,E='back'===r?0:n.default.getConstants().isRTL?'100%':_(this.drawerWidth,-1),I=T?{right:0,width:b?void 0:a}:{left:0,width:b?void 0:a},k='permanent'===r?z:this.progress;return t.createInteropElement(p.default.Provider,{value:k},t.createInteropElement(c.PanGestureHandler,y({activeOffsetX:[-5,5],failOffsetY:[-5,5],onGestureEvent:this.handleGestureEvent,onHandlerStateChange:this.handleGestureStateChange,hitSlop:I,enabled:'permanent'!==r&&i},O),t.createInteropElement(l.default.View,{onLayout:this.handleContainerLayout,style:[$.main,{flexDirection:'permanent'!==r||T?'row':'row-reverse'}]},t.createInteropElement(l.default.View,{style:[$.content,{transform:'permanent'===r?[]:[{translateX:D}]}]},t.createInteropElement(h.default,{accessibilityElementsHidden:b&&'permanent'!==r,importantForAccessibility:b&&'permanent'!==r?'no-hide-descendants':'auto',style:$.content},v()),'permanent'===r?null:t.createInteropElement(u.default,{progress:k,onPress:()=>this.toggleDrawer(!1),accessibilityLabel:X,style:w,accessibilityElementsHidden:!b,importantForAccessibility:b?'auto':'no-hide-descendants'})),t.createInteropElement(l.default.Code,{exec:this.containerWidth}),'permanent'===r?null:t.createInteropElement(l.default.Code,{exec:W([S(this.manuallyTriggerSpring,[C(x(this.manuallyTriggerSpring,1),[M(this.nextIsOpen,0),P([],(()=>this.currentOpenValue=!1))])])])}),t.createInteropElement(l.default.View,{removeClippedSubviews:!0,onLayout:this.handleDrawerLayout,style:[$.container,{transform:'permanent'===r?[]:[{translateX:V}],opacity:this.drawerOpacity},'permanent'===r?T?{right:0}:{left:0}:[$.nonPermanent,T?{right:E}:{left:E},{zIndex:'back'===r?-1:0}],o]},f()))))}}_e.default=Y;const $=o.default.create({container:{backgroundColor:'white',maxWidth:'100%'},nonPermanent:{position:'absolute',top:0,bottom:0,width:N},content:{flex:1},main:Object.assign({flex:1},null)})}),3727,[1,293,17,420,351,421,86,452,30,320,688,3728,3725,3729]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.createContext(void 0)}),3728,[17]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=u(_r(d[2])),n=u(_r(d[3])),a=(e(_r(d[4])),e(_r(d[5]))),o=e(_r(d[6])),l=e(_r(d[7]));const i=["progress","onPress","style","accessibilityLabel"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}const{interpolate:f,interpolateNode:p,cond:b,greaterThan:y}=l.default,v=p??f,O=n.forwardRef((function(e,n){let{progress:o,onPress:s,style:u,accessibilityLabel:f="Close drawer"}=e,p=(0,t.default)(e,i);const O={opacity:v(o,{inputRange:[.05,1],outputRange:[0,1]}),zIndex:b(y(o,.05),0,-1)};return r.createInteropElement(l.default.View,c({},p,{ref:n,style:[P.overlay,j,O,u]}),r.createInteropElement(a.default,{onPress:s,style:P.pressable,accessibilityRole:"button",accessibilityLabel:f}))})),j={WebkitTapHighlightColor:'transparent'},P=o.default.create({overlay:Object.assign({},o.default.absoluteFillObject,{backgroundColor:'rgba(0, 0, 0, 0.5)'}),pressable:{flex:1}});_e.default=O}),3729,[1,31,293,17,86,445,30,688]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){let{dimensions:w,drawerPosition:p,drawerStyle:X,drawerType:C,gestureHandlerProps:k,hideStatusBarOnOpen:N,keyboardDismissMode:H,onClose:G,onOpen:V,open:A,overlayStyle:U,renderDrawerContent:j,renderSceneContent:F,statusBarAnimation:L,swipeDistanceThreshold:R,swipeEdgeWidth:B,swipeEnabled:z,swipeVelocityThreshold:Y,overlayAccessibilityLabel:$}=e;const q=(()=>{const{width:e=S}=s.default.flatten(X)||{};if('string'==typeof e&&e.endsWith('%')){const t=Number(e.replace(/%$/,''));if(Number.isFinite(t))return w.width*(t/100)}return'number'==typeof e?e:0})(),K='permanent'===C||A,Q='right'===p,Z=n.useCallback((function(){const e=function(e){return'left'===p?e?0:-q:e?0:q};return e.__closure={drawerPosition:p,drawerWidth:q},e.__workletHash=5445475024156,e.__initData=D,e})(),[p,q]),ee=n.useCallback((e=>{N&&o.default.setHidden(e,L)}),[N,L]);n.useEffect((()=>(ee(K),()=>ee(!1))),[K,N,L,ee]);const te=n.useRef(null),ne=()=>{te.current=a.default.createInteractionHandle(),'on-drag'===H&&i.default.dismiss(),ee(!0)},re=()=>{null!=te.current&&(a.default.clearInteractionHandle(te.current),te.current=null)},ae=Q?{right:0,width:K?void 0:B}:{left:0,width:K?void 0:B},ie=(0,u.useSharedValue)(0),oe=(0,u.useSharedValue)(0),se=(0,u.useSharedValue)(Z(A)),le=(0,u.useSharedValue)(h.GestureState.UNDETERMINED),ue=n.useCallback((function(){const e=function(e){let{open:t,isUserInitiated:n,velocity:r}=e;const a=Z(t);ie.value=0,oe.value=0,se.value=(0,u.withSpring)(a,{velocity:r,stiffness:1e3,damping:500,mass:3,overshootClamping:!0,restDisplacementThreshold:.01,restSpeedThreshold:.01,reduceMotion:'never'}),n&&(t?(0,u.runOnJS)(V)():(0,u.runOnJS)(G)())};return e.__closure={getDrawerTranslationX:Z,touchStartX:ie,touchX:oe,translationX:se,withSpring:u.withSpring,runOnJS:u.runOnJS,onOpen:V,onClose:G},e.__workletHash=0x9eadf2f2018,e.__initData=O,e})(),[Z,G,V,ie,oe,se]);n.useEffect((()=>ue({open:A,isUserInitiated:!1})),[A,ue]);const ce=(0,u.useAnimatedGestureHandler)({onStart:(function(){const e=function(e,t){t.hasCalledOnStart=!1,t.startX=se.value,le.value=e.state,ie.value=e.x};return e.__closure={translationX:se,gestureState:le,touchStartX:ie},e.__workletHash=0xebb4b442aa8,e.__initData=T,e})(),onActive:(function(){const e=function(e,t){oe.value=e.x,se.value=t.startX+e.translationX,le.value=e.state,t.hasCalledOnStart||(t.hasCalledOnStart=!0,(0,u.runOnJS)(ne)())};return e.__closure={touchX:oe,translationX:se,gestureState:le,runOnJS:u.runOnJS,onGestureStart:ne},e.__workletHash=5533027387283,e.__initData=b,e})(),onEnd:(function(){const e=function(e){le.value=e.state;const t=Math.abs(e.translationX)>_&&Math.abs(e.translationX)>Y||Math.abs(e.translationX)>R?'left'===p?(0===e.velocityX?e.translationX:e.velocityX)>0:(0===e.velocityX?e.translationX:e.velocityX)<0:A;ue({open:t,isUserInitiated:!0,velocity:e.velocityX})};return e.__closure={gestureState:le,SWIPE_DISTANCE_MINIMUM:_,swipeVelocityThreshold:Y,swipeDistanceThreshold:R,drawerPosition:p,open:A,toggleDrawer:ue},e.__workletHash=9689627174109,e.__initData=I,e})(),onFinish:(function(){const e=function(){(0,u.runOnJS)(re)()};return e.__closure={runOnJS:u.runOnJS,onGestureFinish:re},e.__workletHash=0xc6076491ec4,e.__initData=P,e})()}),de=(0,u.useDerivedValue)((function(){const e=function(){const e='front'===C&&le.value===h.GestureState.ACTIVE?y('left'===p?ie.value-q:w.width-q-ie.value,0,w.width):0;return'left'===p?y(se.value+e,-q,0):y(se.value-e,0,q)};return e.__closure={drawerType:C,gestureState:le,GestureState:h.GestureState,minmax:y,drawerPosition:p,touchStartX:ie,drawerWidth:q,dimensions:w,translationX:se},e.__workletHash=0xf7e49508c3d,e.__initData=x,e})()),he=r.default.getConstants().isRTL,fe=(0,u.useAnimatedStyle)((function(){const e=function(){const e=w.width-q;return{transform:'permanent'===C?[]:[{translateX:('back'===C?0:de.value)+('left'===p?he?-e:0:he?0:e)}]}};return e.__closure={dimensions:w,drawerWidth:q,drawerType:C,translateX:de,drawerPosition:p,isRTL:he},e.__workletHash=4199598167100,e.__initData=E,e})()),we=(0,u.useAnimatedStyle)((function(){const e=function(){return{transform:'permanent'===C?[]:[{translateX:'front'===C?0:de.value+q*('left'===p?1:-1)}]}};return e.__closure={drawerType:C,translateX:de,drawerWidth:q,drawerPosition:p},e.__workletHash=2918097545253,e.__initData=J,e})()),pe=(0,u.useDerivedValue)((function(){const e=function(){return'permanent'===C?1:(0,u.interpolate)(de.value,[Z(!1),Z(!0)],[0,1])};return e.__closure={drawerType:C,interpolate:u.interpolate,translateX:de,getDrawerTranslationX:Z},e.__workletHash=9956515678806,e.__initData=M,e})());return t.createInteropElement(c.default.Provider,{value:pe},t.createInteropElement(h.PanGestureHandler,v({activeOffsetX:[-5,_],failOffsetY:[-5,_],hitSlop:ae,enabled:'permanent'!==C&&z,onGestureEvent:ce},k),t.createInteropElement(u.default.View,{style:[W.main,{flexDirection:'permanent'!==C||Q?'row':'row-reverse'}]},t.createInteropElement(u.default.View,{style:[W.content,we]},t.createInteropElement(l.default,{accessibilityElementsHidden:K&&'permanent'!==C,importantForAccessibility:K&&'permanent'!==C?'no-hide-descendants':'auto',style:W.content},F()),'permanent'!==C?t.createInteropElement(f.default,{progress:pe,onPress:()=>ue({open:!1,isUserInitiated:!0}),style:U,accessibilityLabel:$}):null),t.createInteropElement(u.default.View,{removeClippedSubviews:!0,style:[W.container,{position:'permanent'===C?'relative':'absolute',zIndex:'back'===C?-1:0},fe,X]},j()))))};var t=p(_r(d[1])),n=p(_r(d[2])),r=e(_r(d[3])),a=e(_r(d[4])),i=e(_r(d[5])),o=(e(_r(d[6])),e(_r(d[7]))),s=e(_r(d[8])),l=e(_r(d[9])),u=p(_r(d[10])),c=e(_r(d[11])),h=_r(d[12]),f=e(_r(d[13]));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}const _=5,S='80%',X={code:"function reactNavigation_DrawerJs1(value,start,end){return Math.min(Math.max(value,start),end);}"},y=(function(){const e=function(e,t,n){return Math.min(Math.max(e,t),n)};return e.__closure={},e.__workletHash=2769030569286,e.__initData=X,e})(),D={code:"function reactNavigation_DrawerJs2(open){const{drawerPosition,drawerWidth}=this.__closure;if(drawerPosition==='left'){return open?0:-drawerWidth;}return open?0:drawerWidth;}"},O={code:"function reactNavigation_DrawerJs3(_ref2){const{getDrawerTranslationX,touchStartX,touchX,translationX,withSpring,runOnJS,onOpen,onClose}=this.__closure;let{open:open,isUserInitiated:isUserInitiated,velocity:velocity}=_ref2;const translateX=getDrawerTranslationX(open);touchStartX.value=0;touchX.value=0;translationX.value=withSpring(translateX,{velocity:velocity,stiffness:1000,damping:500,mass:3,overshootClamping:true,restDisplacementThreshold:0.01,restSpeedThreshold:0.01,reduceMotion:'never'});if(!isUserInitiated){return;}if(open){runOnJS(onOpen)();}else{runOnJS(onClose)();}}"},T={code:"function reactNavigation_DrawerJs4(event,ctx){const{translationX,gestureState,touchStartX}=this.__closure;ctx.hasCalledOnStart=false;ctx.startX=translationX.value;gestureState.value=event.state;touchStartX.value=event.x;}"},b={code:"function reactNavigation_DrawerJs5(event,ctx){const{touchX,translationX,gestureState,runOnJS,onGestureStart}=this.__closure;touchX.value=event.x;translationX.value=ctx.startX+event.translationX;gestureState.value=event.state;if(!ctx.hasCalledOnStart){ctx.hasCalledOnStart=true;runOnJS(onGestureStart)();}}"},I={code:"function reactNavigation_DrawerJs6(event){const{gestureState,SWIPE_DISTANCE_MINIMUM,swipeVelocityThreshold,swipeDistanceThreshold,drawerPosition,open,toggleDrawer}=this.__closure;gestureState.value=event.state;const nextOpen=Math.abs(event.translationX)>SWIPE_DISTANCE_MINIMUM&&Math.abs(event.translationX)>swipeVelocityThreshold||Math.abs(event.translationX)>swipeDistanceThreshold?drawerPosition==='left'?(event.velocityX===0?event.translationX:event.velocityX)>0:(event.velocityX===0?event.translationX:event.velocityX)<0:open;toggleDrawer({open:nextOpen,isUserInitiated:true,velocity:event.velocityX});}"},P={code:"function reactNavigation_DrawerJs7(){const{runOnJS,onGestureFinish}=this.__closure;runOnJS(onGestureFinish)();}"},x={code:"function reactNavigation_DrawerJs8(){const{drawerType,gestureState,GestureState,minmax,drawerPosition,touchStartX,drawerWidth,dimensions,translationX}=this.__closure;const touchDistance=drawerType==='front'&&gestureState.value===GestureState.ACTIVE?minmax(drawerPosition==='left'?touchStartX.value-drawerWidth:dimensions.width-drawerWidth-touchStartX.value,0,dimensions.width):0;const translateX=drawerPosition==='left'?minmax(translationX.value+touchDistance,-drawerWidth,0):minmax(translationX.value-touchDistance,0,drawerWidth);return translateX;}"},E={code:"function reactNavigation_DrawerJs9(){const{dimensions,drawerWidth,drawerType,translateX,drawerPosition,isRTL}=this.__closure;const distanceFromEdge=dimensions.width-drawerWidth;return{transform:drawerType==='permanent'?[]:[{translateX:(drawerType==='back'?0:translateX.value)+(drawerPosition==='left'?isRTL?-distanceFromEdge:0:isRTL?0:distanceFromEdge)}]};}"},J={code:"function reactNavigation_DrawerJs10(){const{drawerType,translateX,drawerWidth,drawerPosition}=this.__closure;return{transform:drawerType==='permanent'?[]:[{translateX:drawerType==='front'?0:translateX.value+drawerWidth*(drawerPosition==='left'?1:-1)}]};}"},M={code:"function reactNavigation_DrawerJs11(){const{drawerType,interpolate,translateX,getDrawerTranslationX}=this.__closure;return drawerType==='permanent'?1:interpolate(translateX.value,[getDrawerTranslationX(false),getDrawerTranslationX(true)],[0,1]);}"};const W=s.default.create({container:{top:0,bottom:0,maxWidth:'100%',width:S},content:{flex:1},main:Object.assign({flex:1},null)})}),3730,[1,293,17,420,351,421,86,452,30,320,688,3728,3725,3731]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=l(_r(d[2])),n=l(_r(d[3])),o=(e(_r(d[4])),e(_r(d[5]))),a=e(_r(d[6])),s=l(_r(d[7]));const i=["progress","onPress","style","accessibilityLabel"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}const f=.05,p={code:"function reactNavigation_OverlayJs1(){const{progress,PROGRESS_EPSILON}=this.__closure;return{opacity:progress.value,zIndex:progress.value>PROGRESS_EPSILON?0:-1};}"},_={code:"function reactNavigation_OverlayJs2(){const{progress,PROGRESS_EPSILON}=this.__closure;const active=progress.value>PROGRESS_EPSILON;return{pointerEvents:active?'auto':'none',accessibilityElementsHidden:!active,importantForAccessibility:active?'auto':'no-hide-descendants'};}"},b=n.forwardRef((function(e,n){let{progress:a,onPress:c,style:l,accessibilityLabel:b="Close drawer"}=e,O=(0,t.default)(e,i);const P=(0,s.useAnimatedStyle)((function(){const e=function(){return{opacity:a.value,zIndex:a.value>f?0:-1}};return e.__closure={progress:a,PROGRESS_EPSILON:f},e.__workletHash=0xb9d39776ad8,e.__initData=p,e})()),E=(0,s.useAnimatedProps)((function(){const e=function(){const e=a.value>f;return{pointerEvents:e?'auto':'none',accessibilityElementsHidden:!e,importantForAccessibility:e?'auto':'no-hide-descendants'}};return e.__closure={progress:a,PROGRESS_EPSILON:f},e.__workletHash=0xcf9f38f4ae0,e.__initData=_,e})());return r.createInteropElement(s.default.View,u({},O,{ref:n,style:[y.overlay,v,P,l],animatedProps:E}),r.createInteropElement(o.default,{onPress:c,style:y.pressable,accessibilityRole:"button",accessibilityLabel:b}))})),v={WebkitTapHighlightColor:'transparent'},y=a.default.create({overlay:Object.assign({},a.default.absoluteFillObject,{backgroundColor:'rgba(0, 0, 0, 0.5)'}),pressable:{flex:1,pointerEvents:'auto'}});_e.default=b}),3731,[1,31,293,17,86,445,30,688]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=o?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(u,f,a):u[f]=e[f]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.default=e.createContext(null)}),3732,[17]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){const e=r.useContext(t.default);if(void 0===e)throw new Error("Couldn't find a drawer. Is your component inside a drawer navigator?");return e};var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o})(_r(d[1])),t=e(_r(d[2]));function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}}),3733,[1,17,3728]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){const e=r.useContext(t.default);if(void 0===e)throw new Error("Couldn't find a drawer. Is your component inside a drawer navigator?");return e};var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o})(_r(d[1])),t=e(_r(d[2]));function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}}),3734,[1,17,3717]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"OnlineStatusProvider",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return u.default}});var n=t(r(d[1])),u=t(r(d[2]))}),3735,[1,3736,3745]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.OnlineStatusContext=void 0;var e=a(_r(d[0])),t=a(_r(d[1])),n=_r(d[2]),r=_r(d[3]);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(r,s,i):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}const s={type:t.NetInfoStateType.unknown,isConnected:null,isInternetReachable:null,details:null},i=_e.OnlineStatusContext=e.createContext(s);_e.default=({children:o,wpAPIURL:a})=>{const[u,c]=e.useState(s);return e.useEffect((()=>{t.default.configure({reachabilityUrl:a,reachabilityTest:async e=>200===e.status,reachabilityRequestTimeout:6e4});const e=t.default.addEventListener((e=>{c((t=>(!0===t.isInternetReachable&&!1===e.isInternetReachable&&(!1===e.isConnected?n.Toast.show({type:'error',text1:'No internet connection'}):n.Toast.show({type:'error',text1:'Your website is down'})),!1===t.isInternetReachable&&!0===e.isInternetReachable&&(!1===t.isConnected&&!0===e.isConnected?n.Toast.show({type:'success',text1:'Internet reconnected'}):n.Toast.show({type:'success',text1:'Your website is up'})),e)))}));return()=>{e()}}),[a]),(0,r.jsx)(i.Provider,{value:u,children:o})}}),3736,[17,3737,1139,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0});var t={configure:!0,fetch:!0,refresh:!0,addEventListener:!0,useNetInfo:!0,useNetInfoInstance:!0};_e.addEventListener=y,_e.configure=s,_e.default=void 0,_e.fetch=i,_e.refresh=p,_e.useNetInfo=b,_e.useNetInfoInstance=h;var n=_r(d[1]),r=(e(_r(d[2])),e(_r(d[3]))),u=(e(_r(d[4])),e(_r(d[5]))),f=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var o=u?Object.getOwnPropertyDescriptor(e,f):null;o&&(o.get||o.set)?Object.defineProperty(r,f,o):r[f]=e[f]}return r.default=e,n&&n.set(e,r),r})(_r(d[6]));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(t,e)||e in _e&&_e[e]===f[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return f[e]}}))}));let o=r.default,c=null;const l=()=>new u.default(o);function s(e){o=Object.assign({},r.default,e),c&&(c.tearDown(),c=l())}function i(e){return c||(c=l()),c.latest(e)}function p(){return c||(c=l()),c._fetchCurrentState()}function y(e){return c||(c=l()),c.add(e),()=>{c&&c.remove(e)}}function b(e){e&&s(e);const[t,r]=(0,n.useState)({type:f.NetInfoStateType.unknown,isConnected:null,isInternetReachable:null,details:null});return(0,n.useEffect)((()=>y(r)),[]),t}function h(e=!1,t){const[a,o]=(0,n.useState)(),[c,l]=(0,n.useState)({type:f.NetInfoStateType.unknown,isConnected:null,isInternetReachable:null,details:null});(0,n.useEffect)((()=>{if(e)return;const n=Object.assign({},r.default,t),f=new u.default(n);return o(f),f.add(l),f.tearDown}),[e,t]);return{netInfo:c,refresh:(0,n.useCallback)((()=>{a&&a._fetchCurrentState()}),[a])}}_e.default={configure:s,fetch:i,refresh:p,addEventListener:y,useNetInfo:b,useNetInfoInstance:h}}),3737,[1,17,86,3738,3739,3743,3742]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const t={reachabilityUrl:'/',reachabilityMethod:"HEAD",reachabilityHeaders:{},reachabilityTest:t=>Promise.resolve(200===t.status),reachabilityShortTimeout:5e3,reachabilityLongTimeout:6e4,reachabilityRequestTimeout:15e3,reachabilityShouldRun:()=>!0,shouldFetchWiFiSSID:!0,useNativeReachability:!0};e.default=t}),3738,[]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var E=t(r(d[1])),n=t(r(d[2])),u=r(d[3]);const _=new E.default;n.default.addListener(u.DEVICE_CONNECTIVITY_EVENT,(t=>{_.emit(u.DEVICE_CONNECTIVITY_EVENT,t)}));e.default=Object.assign({},n.default,{eventEmitter:_})}),3739,[1,94,3740,3741]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0]),t=r(d[1]);const o=window.hasOwnProperty('tizen')||window.hasOwnProperty('webOS')?void 0:window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,s={bluetooth:t.NetInfoStateType.bluetooth,cellular:t.NetInfoStateType.cellular,ethernet:t.NetInfoStateType.ethernet,none:t.NetInfoStateType.none,other:t.NetInfoStateType.other,unknown:t.NetInfoStateType.unknown,wifi:t.NetInfoStateType.wifi,wimax:t.NetInfoStateType.wimax,mixed:t.NetInfoStateType.other},l={'2g':t.NetInfoCellularGeneration['2g'],'3g':t.NetInfoCellularGeneration['3g'],'4g':t.NetInfoCellularGeneration['4g'],'slow-2g':t.NetInfoCellularGeneration['2g']},c=n=>{const c=navigator.onLine,u={isInternetReachable:null};if(!o){if(c){return Object.assign({},u,{isConnected:!0,type:t.NetInfoStateType.other,details:{isConnectionExpensive:!1}})}return Object.assign({},u,{isConnected:!1,isInternetReachable:!1,type:t.NetInfoStateType.none,details:null})}const p=o.saveData,f=o.type?s[o.type]:c?t.NetInfoStateType.other:t.NetInfoStateType.unknown;if(f===t.NetInfoStateType.bluetooth){return Object.assign({},u,{isConnected:!0,type:f,details:{isConnectionExpensive:p}})}if(f===t.NetInfoStateType.cellular){return Object.assign({},u,{isConnected:!0,type:f,details:{isConnectionExpensive:p,cellularGeneration:l[o.effectiveType]||null,carrier:null}})}if(f===t.NetInfoStateType.ethernet){return Object.assign({},u,{isConnected:!0,type:f,details:{isConnectionExpensive:p,ipAddress:null,subnet:null}})}if(f===t.NetInfoStateType.wifi){return Object.assign({},u,{isConnected:!0,type:f,details:{isConnectionExpensive:p,ssid:null,bssid:null,strength:null,ipAddress:null,subnet:null,frequency:null,linkSpeed:null,rxLinkSpeed:null,txLinkSpeed:null}})}if(f===t.NetInfoStateType.wimax){return Object.assign({},u,{isConnected:!0,type:f,details:{isConnectionExpensive:p}})}if(f===t.NetInfoStateType.none){return Object.assign({},u,{isConnected:!1,isInternetReachable:!1,type:f,details:null})}if(f===t.NetInfoStateType.unknown){return Object.assign({},u,{isConnected:c,isInternetReachable:null,type:f,details:null})}return Object.assign({},u,{isConnected:!0,type:t.NetInfoStateType.other,details:{isConnectionExpensive:p}})},u=[],p=[],f={addListener(t,s){switch(t){case n.DEVICE_CONNECTIVITY_EVENT:{const n=()=>{s(c())};o?o.addEventListener('change',n):(window.addEventListener('online',n,!1),window.addEventListener('offline',n,!1)),u.push(s),p.push(n);break}}},removeListeners(t,s){switch(t){case n.DEVICE_CONNECTIVITY_EVENT:{const n=u.indexOf(s),t=p[n];o?o.removeEventListener('change',t):(window.removeEventListener('online',t),window.removeEventListener('offline',t)),u.splice(n,1),p.splice(n,1);break}}},getCurrentState:async n=>c(),configure(){}};e.default=f}),3740,[3741,3742]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DEVICE_CONNECTIVITY_EVENT=void 0;e.DEVICE_CONNECTIVITY_EVENT='netInfo.networkStatusDidChange'}),3741,[]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.NetInfoStateType=e.NetInfoCellularGeneration=void 0;let n=e.NetInfoStateType=void 0;!(function(n){n.unknown="unknown",n.none="none",n.cellular="cellular",n.wifi="wifi",n.bluetooth="bluetooth",n.ethernet="ethernet",n.wimax="wimax",n.vpn="vpn",n.other="other"})(n||(e.NetInfoStateType=n={}));let t=e.NetInfoCellularGeneration=void 0;!(function(n){n["2g"]="2g",n["3g"]="3g",n["4g"]="4g",n["5g"]="5g"})(t||(e.NetInfoCellularGeneration=t={}))}),3742,[]);
__d((function(g,_r,_i,_a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),i=t(_r(d[2])),a=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=n(e);if(i&&i.has(t))return i.get(t);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&{}.hasOwnProperty.call(t,r)){var h=s?Object.getOwnPropertyDescriptor(t,r):null;h&&(h.get||h.set)?Object.defineProperty(a,r,h):a[r]=t[r]}return a.default=t,i&&i.set(t,a),a})(_r(d[3]));function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(n=function(t){return t?i:e})(t)}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}_e.default=class{constructor(t){s(this,"_nativeEventSubscription",null),s(this,"_subscriptions",new Set),s(this,"_latestState",null),s(this,"_internetReachability",void 0),s(this,"_handleNativeStateUpdate",(t=>{this._internetReachability.update(t);const e=this._convertState(t);this._latestState=e,this._subscriptions.forEach((t=>t(e)))})),s(this,"_handleInternetReachabilityUpdate",(t=>{if(!this._latestState)return;const e=Object.assign({},this._latestState,{isInternetReachable:t});this._latestState=e,this._subscriptions.forEach((t=>t(e)))})),s(this,"_fetchCurrentState",(async t=>{const i=await e.default.getCurrentState(t);this._internetReachability.update(i);const a=this._convertState(i);return t||(this._latestState=a,this._subscriptions.forEach((t=>t(a)))),a})),s(this,"_convertState",(t=>'boolean'==typeof t.isInternetReachable?t:Object.assign({},t,{isInternetReachable:this._internetReachability.currentState()}))),s(this,"latest",(t=>t?this._fetchCurrentState(t):this._latestState?Promise.resolve(this._latestState):this._fetchCurrentState())),s(this,"add",(t=>{this._subscriptions.add(t),this._latestState?t(this._latestState):this.latest().then(t)})),s(this,"remove",(t=>{this._subscriptions.delete(t)})),s(this,"tearDown",(()=>{this._internetReachability&&this._internetReachability.tearDown(),this._nativeEventSubscription&&this._nativeEventSubscription.remove(),this._subscriptions.clear()})),this._internetReachability=new i.default(t,this._handleInternetReachabilityUpdate),this._nativeEventSubscription=e.default.eventEmitter.addListener(a.DEVICE_CONNECTIVITY_EVENT,this._handleNativeStateUpdate),this._fetchCurrentState()}}}),3743,[1,3739,3744,3741]);
__d((function(g,r,i,a,m,e,d){function t(t,n,c){return n in t?Object.defineProperty(t,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[n]=c,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(n,c){t(this,"_configuration",void 0),t(this,"_listener",void 0),t(this,"_isInternetReachable",void 0),t(this,"_currentInternetReachabilityCheckHandler",null),t(this,"_currentTimeoutHandle",null),t(this,"_setIsInternetReachable",(t=>{this._isInternetReachable!==t&&(this._isInternetReachable=t,this._listener(this._isInternetReachable))})),t(this,"_setExpectsConnection",(t=>{null!==this._currentInternetReachabilityCheckHandler&&(this._currentInternetReachabilityCheckHandler.cancel(),this._currentInternetReachabilityCheckHandler=null),null!==this._currentTimeoutHandle&&(clearTimeout(this._currentTimeoutHandle),this._currentTimeoutHandle=null),t&&this._configuration.reachabilityShouldRun()?(this._isInternetReachable||this._setIsInternetReachable(null),this._currentInternetReachabilityCheckHandler=this._checkInternetReachability()):this._setIsInternetReachable(!1)})),t(this,"_checkInternetReachability",(()=>{const t=new AbortController,n=fetch(this._configuration.reachabilityUrl,{headers:this._configuration.reachabilityHeaders,method:this._configuration.reachabilityMethod,cache:'no-cache',signal:t.signal});let c;const h=new Promise(((t,n)=>{c=setTimeout((()=>n('timedout')),this._configuration.reachabilityRequestTimeout)}));let l=()=>{};const s=new Promise(((t,n)=>{l=()=>n('canceled')}));return{promise:Promise.race([n,h,s]).then((t=>this._configuration.reachabilityTest(t))).then((t=>{this._setIsInternetReachable(t);const n=this._isInternetReachable?this._configuration.reachabilityLongTimeout:this._configuration.reachabilityShortTimeout;this._currentTimeoutHandle=setTimeout(this._checkInternetReachability,n)})).catch((n=>{'canceled'===n?t.abort():('timedout'===n&&t.abort(),this._setIsInternetReachable(!1),this._currentTimeoutHandle=setTimeout(this._checkInternetReachability,this._configuration.reachabilityShortTimeout))})).then((()=>{clearTimeout(c)}),(t=>{throw clearTimeout(c),t})),cancel:l}})),t(this,"update",(t=>{'boolean'==typeof t.isInternetReachable&&this._configuration.useNativeReachability?this._setIsInternetReachable(t.isInternetReachable):this._setExpectsConnection(t.isConnected)})),t(this,"currentState",(()=>this._isInternetReachable)),t(this,"tearDown",(()=>{null!==this._currentInternetReachabilityCheckHandler&&(this._currentInternetReachabilityCheckHandler.cancel(),this._currentInternetReachabilityCheckHandler=null),null!==this._currentTimeoutHandle&&(clearTimeout(this._currentTimeoutHandle),this._currentTimeoutHandle=null)})),this._configuration=n,this._listener=c}}}),3744,[]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(u,i,a):u[i]=e[i]}return u.default=e,n&&n.set(e,u),u})(_r(d[0])),t=_r(d[1]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.default=()=>{const r=e.useContext(t.OnlineStatusContext);if(void 0===r)throw new Error("useOnlineStatus must be called within OnlineStatusProvider");return r}}),3745,[17,3736]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=o?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(n,a,f):n[a]=e[a]}n.default=e,r&&r.set(e,n)})(_r(d[1]));var t=_r(d[2]),r=_r(d[3]),n=e(_r(d[4])),o=e(_r(d[5])),a=_r(d[6]);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}_e.default=e=>{const u=(0,r.useSafeAreaInsets)();return(0,a.jsxs)(t.DrawerContentScrollView,Object.assign({},e,{contentContainerStyle:{paddingTop:u.top,paddingBottom:u.bottom,justifyContent:'flex-start',height:'100%'},children:[(0,a.jsx)(n.default,Object.assign({},e)),(0,a.jsx)(o.default,{largeScreen:e.largeScreen})]}))}}),3746,[1,17,3712,476,3747,3749,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({state:e,navigation:o,descriptors:a}){const i=(0,r.useLinkBuilder)(),c=e.routes[e.index],l=a[c.key].options,{drawerActiveTintColor:u,drawerInactiveTintColor:s,drawerActiveBackgroundColor:f,drawerInactiveBackgroundColor:p}=l;return e.routes.map(((c,l)=>{const v=l===e.index,{title:y,drawerLabel:w,drawerIcon:k,drawerLabelStyle:b,drawerItemStyle:_,drawerType:C}=a[c.key].options;return(0,n.jsx)(t.default,{label:void 0!==w?w:void 0!==y?y:c.name,icon:k,focused:v,activeTintColor:u,inactiveTintColor:s,activeBackgroundColor:f,inactiveBackgroundColor:p,labelStyle:b,style:_,to:i(c.name,c.params),onPress:()=>{o.dispatch(Object.assign({},v?r.DrawerActions.closeDrawer():r.CommonActions.navigate({name:c.name,merge:!0}),{target:e.key}))},drawerType:C},c.key)}))};!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}n.default=e,t&&t.set(e,n)})(_r(d[1]));var r=_r(d[2]),t=e(_r(d[3])),n=_r(d[4]);function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}}),3747,[1,17,487,3748,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=e(_r(d[1])),t=((function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,t&&t.set(e,n)})(_r(d[2])),_r(d[3])),n=_r(d[4]),o=_r(d[5]),a=_r(d[6]),s=_r(d[7]),l=_r(d[8]);const i=["label","icon","focused","onPress","drawerType","style"];function c(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:r})(e)}_e.default=e=>{let{label:c,icon:u,focused:p,onPress:f,drawerType:y,style:x}=e;(0,r.default)(e,i);return'permanent'===y?(0,l.jsxs)(s.Tooltip,{style:x,children:[(0,l.jsx)(s.TooltipTrigger,{asChild:!0,onPress:f,children:(0,l.jsx)(t.Button,{size:"xl",className:(0,o.cn)('rounded-none bg-transparent px-3 border-x-4 border-transparent h-10',p&&'border-l-primary text-primary',!p&&'hover:bg-white/10'),children:u({focused:p})})}),(0,l.jsx)(s.TooltipContent,{side:"right",children:(0,l.jsx)(a.Text,{children:c})})]}):(0,l.jsx)(t.Button,{onPress:f,size:"xl",className:(0,o.cn)('rounded-none bg-transparent px-3 border-x-4 border-transparent items-start h-10',p&&'border-l-primary text-primary',!p&&'hover:bg-white/10'),style:x,children:(0,l.jsxs)(n.HStack,{className:"gap-3",children:[u({focused:p}),(0,l.jsx)(t.ButtonText,{className:(0,o.cn)('pr-2',p&&'text-primary'),children:c})]})})}}),3748,[1,31,17,1167,891,894,1100,1103,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}n.default=e,r&&r.set(e,n)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]),n=_r(d[4]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.default=({largeScreen:a})=>(0,n.jsx)(e.Box,{className:(0,t.cn)('p-1 px-4',a&&'px-0'),paddingY:"xxSmall",children:(0,n.jsx)(r.Text,{className:(0,t.cn)('text-3xs text-primary-foreground opacity-50',a&&'text-center'),children:a?'v 1.7.5':'Version 1.7.5'})})}),3749,[17,2220,894,1100,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,r&&r.set(e,a)})(_r(d[1]));var t=e(_r(d[2])),r=_r(d[3]),a=_r(d[4]),n=_r(d[5]),o=_r(d[6]),l=_r(d[7]),u=e(_r(d[8])),i=e(_r(d[9])),s=e(_r(d[10])),f=_r(d[11]),p=_r(d[12]),c=_r(d[13]);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}_e.default=({options:e,showUpgrade:h,setShowUpgrade:b})=>{const j=(0,o.useSafeAreaInsets)(),{store:y}=(0,p.useAppState)(),v=(0,n.useObservableState)(y.name$,y.name);return(0,c.jsx)(l.ErrorBoundary,{children:(0,c.jsxs)(t.default,{id:"titlebar",children:[(0,c.jsx)(r.Header,{title:`${e.title} - ${v}`,headerTitle:e=>(0,c.jsx)(s.default,Object.assign({},e)),headerTitleAlign:"center",headerStyle:{backgroundColor:'#243B53',height:40+j.top,borderBottomColor:'rgba(0, 0, 0, 0.2)'},headerLeft:u.default,headerRight:i.default}),(0,c.jsx)(a.StatusBar,{style:"light"}),h&&(0,c.jsx)(f.UpgradeNotice,{setShowUpgrade:b})]})})}}),3750,[1,17,320,291,3751,1170,476,888,3752,3753,3756,3757,1168,483]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.StatusBar=function(){return null},e.setStatusBarBackgroundColor=function(){},e.setStatusBarHidden=function(){},e.setStatusBarNetworkActivityIndicatorVisible=function(){},e.setStatusBarStyle=function(){},e.setStatusBarTranslucent=function(){}}),3751,[]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n})(_r(d[1])),r=e(_r(d[2])),n=_r(d[3]),a=_r(d[4]),o=_r(d[5]),u=_r(d[6]),s=_r(d[7]);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}_e.default=()=>{const{width:e}=(0,r.default)(),l=(0,n.useNavigation)(),i=(0,u.useT)(),c=t.useCallback((()=>{l.dispatch(n.DrawerActions.openDrawer())}),[l]);return e>1024?null:e<640?(0,s.jsx)(a.Button,{onPress:c,className:"px-3 rounded-none bg-transparent hover:bg-white/10",children:(0,s.jsx)(o.Icon,{name:"bars"})}):(0,s.jsx)(a.Button,{onPress:c,className:"px-3 rounded-none bg-transparent hover:bg-white/10",leftIcon:"bars",children:(0,s.jsx)(a.ButtonText,{children:i('Menu',{_tags:'core'})})})}}),3752,[1,17,469,487,1167,898,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var o=u?Object.getOwnPropertyDescriptor(e,f):null;o&&(o.get||o.set)?Object.defineProperty(n,f,o):n[f]=e[f]}n.default=e,r&&r.set(e,n)})(_r(d[1]));var t=_r(d[2]),r=e(_r(d[3])),n=_r(d[4]),u=_r(d[5]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.default=()=>(0,u.jsxs)(t.HStack,{children:[(0,u.jsx)(r.default,{}),(0,u.jsx)(n.UserMenu,{})]})}),3753,[1,17,891,3754,3755,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r})(_r(d[1])),n=_r(d[2]),r=_r(d[3]),o=_r(d[4]),i=e(_r(d[5])),l=_r(d[6]),c=_r(d[7]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}_e.default=()=>{const{isConnected:e,isInternetReachable:a}=(0,i.default)(),u=(0,l.useT)(),s=t.useMemo((()=>e?a?{type:'success',tooltip:u('Online',{_tags:'core'})}:{type:'warning',tooltip:u('Site not reachable',{_tags:'core'})}:{type:'destructive',tooltip:u('No internet connection',{_tags:'core'})}),[e,a,u]);return null===a?null:(0,c.jsxs)(o.Tooltip,{children:[(0,c.jsx)(o.TooltipTrigger,{children:(0,c.jsx)(n.Icon,{name:"circle",className:`text-${s.type}`})}),(0,c.jsx)(o.TooltipContent,{side:"bottom",children:(0,c.jsx)(r.Text,{children:s.tooltip})})]})}}),3754,[1,17,898,1100,1103,3735,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.UserMenu=void 0;var r=v(_r(d[1])),n=e(_r(d[2])),t=e(_r(d[3])),s=_r(d[4]),o=_r(d[5]),a=v(_r(d[6])),c=_r(d[7]),u=_r(d[8]),i=_r(d[9]),l=_r(d[10]),p=_r(d[11]),x=_r(d[12]),h=_r(d[13]),j=_r(d[14]),w=_r(d[15]),f=_r(d[16]);function b(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:r})(e)}function v(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(r);if(n&&n.has(e))return n.get(e);var t={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(t,o,a):t[o]=e[o]}return t.default=e,n&&n.set(e,t),t}const D=({storesResource:e,switchStore:r,currentStoreID:n})=>{const t=(0,o.useObservableSuspense)(e);return(0,f.jsx)(a.default.View,{entering:a.FadeIn.duration(200),children:t.map((e=>(0,f.jsx)(i.DropdownMenuItem,{onPress:()=>r(e),disabled:e.localId===n,children:(0,f.jsx)(x.Text,{children:e.name})},e.localID)))})};_e.UserMenu=()=>{const{wpCredentials:e,isWebApp:a,site:b,store:v,logout:M,switchStore:S}=(0,h.useAppState)(),I=(0,s.useNavigation)(),_=(0,n.default)(),P=(0,o.useObservableEagerState)(e?.avatar_url$),O=(0,o.useObservableEagerState)(e?.stores$),T=(0,j.useT)(),y=(0,w.useImageAttachment)(e,P),k=r.useMemo((()=>new o.ObservableResource(e.populate$('stores'),(e=>!!e))),[e]);return(0,f.jsxs)(i.DropdownMenu,{children:[(0,f.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,f.jsx)(u.Button,{className:"px-3 rounded-none bg-transparent hover:bg-white/10",children:(0,f.jsxs)(l.HStack,{children:[(0,f.jsx)(c.Avatar,{source:y}),_.width>=640?(0,f.jsx)(u.ButtonText,{children:e?.display_name}):null,(0,f.jsx)(p.Icon,{name:"caretDown"})]})})}),(0,f.jsxs)(i.DropdownMenuContent,{children:[(0,f.jsxs)(i.DropdownMenuItem,{onPress:()=>I.navigate('Settings'),children:[(0,f.jsx)(p.Icon,{name:"gear"}),(0,f.jsx)(x.Text,{children:T('Settings',{_tags:'core'})})]}),(0,f.jsxs)(i.DropdownMenuItem,{onPress:()=>I.navigate('SupportStack'),children:[(0,f.jsx)(p.Icon,{name:"commentQuestion"}),(0,f.jsx)(x.Text,{children:T('Support',{_tags:'core'})})]}),a&&(0,f.jsxs)(i.DropdownMenuItem,{onPress:()=>t.default.openURL('https://github.com/wcpos/electron/releases'),children:[(0,f.jsx)(p.Icon,{name:"download"}),(0,f.jsx)(x.Text,{children:T('Desktop App',{_tags:'core'})})]}),(0,f.jsx)(i.DropdownMenuSeparator,{}),O?.length>1&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(i.DropdownMenuSub,{children:[(0,f.jsxs)(i.DropdownMenuSubTrigger,{children:[(0,f.jsx)(p.Icon,{name:"rightLeft"}),(0,f.jsx)(x.Text,{children:T('Switch Store',{_tags:'core'})})]}),(0,f.jsx)(i.DropdownMenuSubContent,{children:(0,f.jsx)(D,{storesResource:k,switchStore:S,currentStoreID:v.localID})})]}),(0,f.jsx)(i.DropdownMenuSeparator,{})]}),a&&(0,f.jsxs)(i.DropdownMenuItem,{onPress:()=>t.default.openURL(`${b.home}/wp-admin`),children:[(0,f.jsx)(p.Icon,{name:"wordpress"}),(0,f.jsx)(x.Text,{children:T('WordPress Admin',{_tags:'core'})})]}),(0,f.jsxs)(i.DropdownMenuItem,{onPress:M,variant:"destructive",children:[(0,f.jsx)(p.Icon,{name:"arrowRightFromBracket",className:"fill-destructive"}),(0,f.jsx)(x.Text,{children:T('Logout',{_tags:'core'})})]})]})]})}}),3755,[1,17,469,424,487,1170,688,3429,1167,2249,891,898,1100,1168,2083,2299,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(o,f,a):o[f]=e[f]}o.default=e,n&&n.set(e,o)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.default=({children:r})=>(0,t.jsx)(e.Text,{className:"text-primary-foreground text-xl",numberOfLines:1,children:r})}),3756,[17,1100,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.UpgradeNotice=void 0;var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p(r);if(t&&t.has(e))return t.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o})(_r(d[1])),t=e(_r(d[2])),o=_r(d[3]),n=_r(d[4]),a=_r(d[5]),s=_r(d[6]),u=_r(d[7]),c=_r(d[8]);function p(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(p=function(e){return e?t:r})(e)}_e.UpgradeNotice=({setShowUpgrade:e})=>{const p=(0,u.useT)(),i=r.useMemo((()=>{const e=[p('Upgrade to Pro for More Features!',{_tags:'core'}),p('Enjoy More with Pro \u2013 Upgrade Today!',{_tags:'core'}),p('Go Pro and Enjoy Exclusive Benefits \u2013 Upgrade Now!',{_tags:'core'}),p('Support Our Development \u2013 Upgrade to Pro!',{_tags:'core'}),p('Support Our Work \u2013 Go Pro Today!',{_tags:'core'}),p('Support Future Updates \u2013 Get Pro Now!',{_tags:'core'})];return e[Math.floor(Math.random()*e.length)]}),[p]);return(0,c.jsxs)(n.HStack,{className:"bg-attention",children:[(0,c.jsx)(o.Box,{className:"grow justify-center p-0 pl-7",children:(0,c.jsx)(s.Text,{className:"text-sm mx-auto",variant:"link",onPress:()=>t.default.openURL('https://wcpos.com/pro'),children:i})}),(0,c.jsx)(a.IconButton,{name:"xmark",size:"sm",onPress:()=>e(!1)})]})}}),3757,[1,17,424,2220,891,1102,1100,2083,483]);
__d((function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Errors=void 0;var s=r(d[1]),t=r(d[2]),u=r(d[3]),n=o(r(d[4]));e.Errors=()=>{const o=(0,t.useQueryManager)();return(0,s.useSubscription)(o.error$,(o=>{n.default.error(o),u.Toast.show({type:'error',text1:o.message})})),null}}),3758,[1,1170,2168,1139,1767]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),s=r(d[1]),o=r(d[2]);e.default=()=>{const u=(0,t.useNavigation)(),{logout:c}=(0,o.useAppState)();(0,s.useHotkeys)('ctrl+shift+s',((t,s)=>{u.navigate('Settings')})),(0,s.useHotkeys)('ctrl+shift+l',((t,s)=>{c()})),(0,s.useHotkeys)('ctrl+shift+a',((t,s)=>{u.navigate('POSStack')})),(0,s.useHotkeys)('ctrl+shift+p',((t,s)=>{u.navigate('ProductsStack')})),(0,s.useHotkeys)('ctrl+shift+o',((t,s)=>{u.navigate('OrdersStack')})),(0,s.useHotkeys)('ctrl+shift+c',((t,s)=>{u.navigate('CustomersStack')})),(0,s.useHotkeys)('ctrl+shift+?',((t,s)=>{u.navigate('SupportStack')}))}}),3759,[487,3760,1168]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getKeyFromEvent=function(t){if('key'in t)return t.key;if('nativeEvent'in t&&'key'in t.nativeEvent)return t.nativeEvent.key;return null},e.isAlphaNumeric=function(t){return new RegExp("^[a-zA-Z0-9]$").test(t)},Object.defineProperty(e,"useHotkeys",{enumerable:!0,get:function(){return t.useHotkeys}}),Object.defineProperty(e,"useHotkeysContext",{enumerable:!0,get:function(){return t.useHotkeysContext}}),Object.defineProperty(e,"useRecordHotkeys",{enumerable:!0,get:function(){return t.useRecordHotkeys}});var t=r(d[0])}),3760,[3761]);
__d((function(g,_r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.HotkeysProvider=void 0,_e.isHotkeyPressed=y,_e.useHotkeys=function(n,t,o,r){var c=(0,e.useState)(null),f=c[0],y=c[1],L=(0,e.useRef)(!1),A=o instanceof Array?r instanceof Array?void 0:r:o,H=v(n)?n.join(null==A?void 0:A.splitKey):n,P=o instanceof Array?o:r instanceof Array?r:void 0,x=(0,e.useCallback)(t,null!=P?P:[]),N=(0,e.useRef)(x);N.current=P?x:t;var D=K(A),M=j().enabledScopes,_=E();return O((function(){if(!1!==(null==D?void 0:D.enabled)&&C(M,null==D?void 0:D.scopes)){var e=function(e,n){var t;if(void 0===n&&(n=!1),!w(e,['input','textarea','select'])||w(e,null==D?void 0:D.enableOnFormTags)){if(null!==f){var o=f.getRootNode();if((o instanceof Document||o instanceof ShadowRoot)&&o.activeElement!==f&&!f.contains(o.activeElement))return void R(e)}(null==(t=e.target)||!t.isContentEditable||null!=D&&D.enableOnContentEditable)&&l(H,null==D?void 0:D.splitKey).forEach((function(t){var o,r=s(t,null==D?void 0:D.combinationKey);if(S(e,r,null==D?void 0:D.ignoreModifiers)||null!=(o=r.keys)&&o.includes('*')){if(null!=D&&null!=D.ignoreEventWhen&&D.ignoreEventWhen(e))return;if(n&&L.current)return;if(h(e,r,null==D?void 0:D.preventDefault),!b(e,r,null==D?void 0:D.enabled))return void R(e);N.current(e,r),n||(L.current=!0)}}))}},n=function(n){void 0!==n.key&&(p(u(n.code)),(void 0===(null==D?void 0:D.keydown)&&!0!==(null==D?void 0:D.keyup)||null!=D&&D.keydown)&&e(n))},t=function(n){void 0!==n.key&&(k(u(n.code)),L.current=!1,null!=D&&D.keyup&&e(n,!0))},o=f||(null==A?void 0:A.document)||document;return o.addEventListener('keyup',t),o.addEventListener('keydown',n),_&&l(H,null==D?void 0:D.splitKey).forEach((function(e){return _.addHotkey(s(e,null==D?void 0:D.combinationKey,null==D?void 0:D.description))})),function(){o.removeEventListener('keyup',t),o.removeEventListener('keydown',n),_&&l(H,null==D?void 0:D.splitKey).forEach((function(e){return _.removeHotkey(s(e,null==D?void 0:D.combinationKey,null==D?void 0:D.description))}))}}}),[f,H,D,M]),y},_e.useHotkeysContext=void 0,_e.useRecordHotkeys=function(){var n=(0,e.useState)(new Set),t=n[0],o=n[1],r=(0,e.useState)(!1),c=r[0],l=r[1],s=(0,e.useCallback)((function(e){void 0!==e.key&&(e.preventDefault(),e.stopPropagation(),o((function(n){var t=new Set(n);return t.add(u(e.code)),t})))}),[]),f=(0,e.useCallback)((function(){'undefined'!=typeof document&&(document.removeEventListener('keydown',s),l(!1))}),[s]),v=(0,e.useCallback)((function(){o(new Set),'undefined'!=typeof document&&(f(),document.addEventListener('keydown',s),l(!0))}),[s,f]),y=(0,e.useCallback)((function(){o(new Set)}),[]);return[t,{start:v,stop:f,resetKeys:y,isRecording:c}]};var e=_r(d[0]),n=_r(d[1]);function t(){return t=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},t.apply(null,arguments)}var o=['shift','alt','meta','mod','ctrl'],r={esc:'escape',return:'enter','.':'period',',':'comma','-':'slash',' ':'space','`':'backquote','#':'backslash','+':'bracketright',ShiftLeft:'shift',ShiftRight:'shift',AltLeft:'alt',AltRight:'alt',MetaLeft:'meta',MetaRight:'meta',OSLeft:'meta',OSRight:'meta',ControlLeft:'ctrl',ControlRight:'ctrl'};function u(e){return(e&&r[e]||e||'').trim().toLowerCase().replace(/key|digit|numpad|arrow/,'')}function c(e){return o.includes(e)}function l(e,n){return void 0===n&&(n=','),e.split(n)}function s(e,n,r){void 0===n&&(n='+');var c=e.toLocaleLowerCase().split(n).map((function(e){return u(e)}));return t({},{alt:c.includes('alt'),ctrl:c.includes('ctrl')||c.includes('control'),shift:c.includes('shift'),meta:c.includes('meta'),mod:c.includes('mod')},{keys:c.filter((function(e){return!o.includes(e)})),description:r,hotkey:e})}'undefined'!=typeof document&&(document.addEventListener('keydown',(function(e){void 0!==e.key&&p([u(e.key),u(e.code)])})),document.addEventListener('keyup',(function(e){void 0!==e.key&&k([u(e.key),u(e.code)])}))),window.addEventListener('blur',(function(){f.clear()}));var f=new Set;function v(e){return Array.isArray(e)}function y(e,n){return void 0===n&&(n=','),(v(e)?e:e.split(n)).every((function(e){return f.has(e.trim().toLowerCase())}))}function p(e){var n=Array.isArray(e)?e:[e];f.has('meta')&&f.forEach((function(e){return!c(e)&&f.delete(e.toLowerCase())})),n.forEach((function(e){return f.add(e.toLowerCase())}))}function k(e){var n=Array.isArray(e)?e:[e];'meta'===e?f.clear():n.forEach((function(e){return f.delete(e.toLowerCase())}))}function h(e,n,t){('function'==typeof t&&t(e,n)||!0===t)&&e.preventDefault()}function b(e,n,t){return'function'==typeof t?t(e,n):!0===t||void 0===t}function w(e,n){void 0===n&&(n=!1);var t,o=e.target,r=e.composed,u=null;return u=(t=o).tagName&&!t.tagName.startsWith("-")&&t.tagName.includes("-")&&r?e.composedPath()[0]&&e.composedPath()[0].tagName:o&&o.tagName,v(n)?Boolean(u&&n&&n.some((function(e){var n;return e.toLowerCase()===(null==(n=u)?void 0:n.toLowerCase())}))):Boolean(u&&n&&n)}function C(e,n){return 0===e.length&&n?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!n||(e.some((function(e){return n.includes(e)}))||e.includes('*'))}var S=function(e,n,t){void 0===t&&(t=!1);var o=n.alt,r=n.meta,c=n.mod,l=n.shift,s=n.ctrl,f=n.keys,v=e.key,p=e.code,k=e.ctrlKey,h=e.metaKey,b=e.shiftKey,w=e.altKey,C=u(p),S=v.toLowerCase();if(!(null!=f&&f.includes(C)||null!=f&&f.includes(S)||['ctrl','control','unknown','meta','alt','shift','os'].includes(C)))return!1;if(!t){if(o===!w&&'alt'!==S)return!1;if(l===!b&&'shift'!==S)return!1;if(c){if(!h&&!k)return!1}else{if(r===!h&&'meta'!==S&&'os'!==S)return!1;if(s===!k&&'ctrl'!==S&&'control'!==S)return!1}}return!(!f||1!==f.length||!f.includes(S)&&!f.includes(C))||(f?y(f):!f)},L=(0,e.createContext)(void 0),E=function(){return(0,e.useContext)(L)};function A(e){var t=e.addHotkey,o=e.removeHotkey,r=e.children;return(0,n.jsx)(L.Provider,{value:{addHotkey:t,removeHotkey:o},children:r})}function H(e,n){return e&&n&&'object'==typeof e&&'object'==typeof n?Object.keys(e).length===Object.keys(n).length&&Object.keys(e).reduce((function(t,o){return t&&H(e[o],n[o])}),!0):e===n}var P=(0,e.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),j=_e.useHotkeysContext=function(){return(0,e.useContext)(P)};_e.HotkeysProvider=function(t){var o=t.initiallyActiveScopes,r=void 0===o?['*']:o,u=t.children,c=(0,e.useState)((null==r?void 0:r.length)>0?r:['*']),l=c[0],s=c[1],f=(0,e.useState)([]),v=f[0],y=f[1],p=(0,e.useCallback)((function(e){s((function(n){return n.includes('*')?[e]:Array.from(new Set([].concat(n,[e])))}))}),[]),k=(0,e.useCallback)((function(e){s((function(n){return 0===n.filter((function(n){return n!==e})).length?['*']:n.filter((function(n){return n!==e}))}))}),[]),h=(0,e.useCallback)((function(e){s((function(n){return n.includes(e)?0===n.filter((function(n){return n!==e})).length?['*']:n.filter((function(n){return n!==e})):n.includes('*')?[e]:Array.from(new Set([].concat(n,[e])))}))}),[]),b=(0,e.useCallback)((function(e){y((function(n){return[].concat(n,[e])}))}),[]),w=(0,e.useCallback)((function(e){y((function(n){return n.filter((function(n){return!H(n,e)}))}))}),[]);return(0,n.jsx)(P.Provider,{value:{enabledScopes:l,hotkeys:v,enableScope:p,disableScope:k,toggleScope:h},children:(0,n.jsx)(A,{addHotkey:b,removeHotkey:w,children:u})})};function K(n){var t=(0,e.useRef)(void 0);return H(t.current,n)||(t.current=n),t.current}var R=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},O=e.useLayoutEffect}),3761,[17,484]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useLicense=void 0;var s=r(d[0]),t=r(d[1]);e.useLicense=()=>{const{site:n}=(0,t.useAppState)(),u=(0,s.useObservableEagerState)(n.license$);return{isPro:!!u?.key}}}),3762,[1170,1168]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Login=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r})(_r(d[1])),n=_r(d[2]),r=e(_r(d[3])),a=_r(d[4]),o=_r(d[5]),l=e(_r(d[6])),i=_r(d[7]),u=_r(d[8]),c=_r(d[9]);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}_e.Login=()=>{const{site:e,wpCredentials:s}=(0,i.useAppState)(),f=(0,n.useNavigation)(),p=(0,u.useT)(),y=t.useCallback((async e=>{const t=(0,r.default)(e,'uuid'),n=(0,r.default)(e,'jwt');try{s.uuid===t&&await s.incrementalPatch({jwt:n})}catch(e){l.default.error(e)}finally{f.goBack()}}),[f,s]);return(0,c.jsx)(a.Modal,{children:(0,c.jsxs)(a.ModalContent,{children:[(0,c.jsx)(a.ModalHeader,{children:(0,c.jsx)(a.ModalTitle,{children:p('Login',{_tags:'core'})})}),(0,c.jsx)(a.ModalBody,{children:(0,c.jsx)(o.WebView,{src:`${e.home}/wcpos-login`,style:{height:'500px'},onMessage:e=>{const t=(0,r.default)(e,'data.action'),n=(0,r.default)(e,'data.payload');'wcpos-wp-credentials'===t&&y(n)}})})]})})}}),3763,[1,17,487,899,2388,3433,1767,1168,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var a=u?Object.getOwnPropertyDescriptor(e,f):null;a&&(a.get||a.set)?Object.defineProperty(n,f,a):n[f]=e[f]}n.default=e,t&&t.set(e,n)})(_r(d[0]));var e=_r(d[1]),r=_r(d[2]),t=_r(d[3]),n=_r(d[4]);function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}_e.default=()=>(0,n.jsx)(e.ErrorBoundary,{children:(0,n.jsx)(r.Suspense,{children:(0,n.jsx)(t.Logs,{})})})}),3764,[17,888,2155,3765,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Logs=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var s=o?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(n,l,s):n[l]=e[l]}n.default=e,r&&r.set(e,n)})(_r(d[1]));var t=e(_r(d[2])),r=_r(d[3]),n=_r(d[4]),o=_r(d[5]),l=_r(d[6]),s=_r(d[7]),a=_r(d[8]),i=_r(d[9]),c=_r(d[10]),u=_r(d[11]),f=_r(d[12]),p=_r(d[13]),j=_r(d[14]),y=_r(d[15]),x=_r(d[16]),_=_r(d[17]);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}const v={context:i.Context,timestamp:c.Date,level:u.Level,code:()=>null},b=e=>(0,t.default)(v,e.column.id),S=()=>null;_e.Logs=()=>{const{uiSettings:e}=(0,x.useUISettings)('logs'),t=(0,p.useT)(),i=(0,a.useLocalQuery)({queryKeys:['logs'],collectionName:'logs',initialParams:{sort:[{[e.sortBy]:e.sortDirection}]},infiniteScroll:!0});return(0,_.jsx)(r.Box,{className:"p-2 h-full",children:(0,_.jsxs)(n.Card,{className:"flex-1",children:[(0,_.jsx)(n.CardHeader,{className:"p-2 bg-input",children:(0,_.jsx)(l.HStack,{className:"justify-end",children:(0,_.jsx)(y.UISettingsDialog,{title:t('Logs Settings',{_tags:'core'}),children:(0,_.jsx)(f.UISettingsForm,{})})})}),(0,_.jsx)(n.CardContent,{className:"flex-1 p-0",children:(0,_.jsx)(o.ErrorBoundary,{children:(0,_.jsx)(s.Suspense,{children:(0,_.jsx)(j.DataTable,{id:"logs",query:i,renderCell:b,noDataMessage:t('No logs found',{_tags:'core'}),estimatedItemSize:100,TableFooterComponent:S,keyExtractor:e=>e.original.document.logId})})})})]})})}}),3765,[1,17,899,2220,2389,888,891,2155,2168,3766,3767,3768,3769,2083,3366,3322,2382,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Context=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}o.default=e,n&&n.set(e,o)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.Context=({row:r})=>{const n=r.original.document;return(0,t.jsx)(e.Tree,{value:n.context,collapsed:!0})}}),3766,[17,2390,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Date=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(o,u,i):o[u]=e[u]}o.default=e,r&&r.set(e,o)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}_e.Date=({row:n})=>{const o=n.original.document,a=(0,t.useDateFormat)(o.timestamp);return(0,r.jsx)(e.Text,{children:a})}}),3767,[17,1100,2437,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Level=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}o.default=e,n&&n.set(e,o)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}const n={error:'ghost-error',warn:'ghost-warning',info:'ghost-secondary',debug:'ghost-success'};_e.Level=({row:r})=>{const o=r.original.document;return(0,t.jsx)(e.ButtonPill,{variant:n[o.level],size:"xs",children:(0,t.jsx)(e.ButtonText,{children:o.level})})}}),3768,[17,1167,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.schema=_e.UISettingsForm=void 0;var e=f(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),s=f(_r(d[4])),o=_r(d[5]),a=_r(d[6]),u=_r(d[7]),c=_r(d[8]),l=_r(d[9]);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}const p=_e.schema=s.object(Object.assign({},u.columnsFormSchema.shape));_e.UISettingsForm=()=>{const{uiSettings:s,getUILabel:i,patchUI:f,resetUI:b}=(0,c.useUISettings)('logs'),j=(0,r.useObservableState)(s.$,s.get()),{buttonPressHandlerRef:O}=(0,u.useDialogContext)();O.current=b;const h=(0,n.useForm)({resolver:(0,t.zodResolver)(p),defaultValues:Object.assign({},j)});return e.useEffect((()=>{h.reset(Object.assign({},j))}),[j,h]),(0,o.useFormChangeHandler)({form:h,onChange:f}),(0,l.jsx)(o.Form,Object.assign({},h,{children:(0,l.jsx)(a.VStack,{children:(0,l.jsx)(u.UISettingsColumnsForm,{columns:j.columns,getUILabel:i})})}))}}),3769,[17,3271,1170,3273,3274,3275,1130,3322,2382,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PageUpgrade=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var c=s?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o})(_r(d[1])),r=e(_r(d[2])),o=e(_r(d[3])),s=_r(d[4]),a=_r(d[5]),c=_r(d[6]),n=_r(d[7]),p=_r(d[8]),l=_r(d[9]),i=_r(d[10]),u=_r(d[11]);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}_e.PageUpgrade=({page:e})=>{const f=(0,i.useT)(),{imageURL:x,title:w,description:h,demoURL:P}=t.useMemo((()=>{switch(e){case'products':return{imageURL:'https://wcpos.com/products-upgrade.png',title:f('Upgrade to Pro',{_tags:'core'}),description:f('Adjust product prices and quantities by upgrading to WooCommerce POS Pro',{_tags:'core'}),demoURL:'https://demo.wcpos.com/pos/products'};case'orders':return{imageURL:'https://wcpos.com/orders-upgrade.png',title:f('Upgrade to Pro',{_tags:'core'}),description:f('Re-open and print receipts for older orders by upgrading to WooCommerce POS Pro',{_tags:'core'}),demoURL:'https://demo.wcpos.com/pos/orders'};case'customers':return{imageURL:'https://wcpos.com/customers-upgrade.png',title:f('Upgrade to Pro',{_tags:'core'}),description:f('Add new customers and edit existing customers by upgrading to WooCommerce POS Pro',{_tags:'core'}),demoURL:'https://demo.wcpos.com/pos/customers'};case'reports':return{imageURL:'https://wcpos.com/reports-upgrade.png',title:f('Upgrade to Pro',{_tags:'core'}),description:f('Unlock End of Day Reports by upgrading to WooCommerce POS Pro',{_tags:'core'}),demoURL:'https://demo.wcpos.com/pos/reports'};default:return{imageURL:'',title:'',description:'',demoURL:''}}}),[e,f]);return(0,u.jsx)(r.default,{className:"flex-1 items-center justify-center p-4",children:(0,u.jsxs)(r.default,{className:"w-full flex-col sm:flex-row max-w-xl sm:max-w-2xl lg:max-w-4xl",children:[(0,u.jsx)(r.default,{className:"w-full sm:w-1/2",children:(0,u.jsxs)(r.default,{className:(0,n.cn)('relative w-full','reports'!==e&&'drop-shadow-md'),children:[(0,u.jsx)(r.default,{className:"pb-[100%] w-full"}),(0,u.jsx)(c.Image,{source:x,className:"absolute top-0 left-0 w-full h-full"})]})}),(0,u.jsxs)(l.VStack,{className:"w-full sm:w-1/2 p-4 space-y-4",children:[(0,u.jsx)(p.Text,{className:"text-2xl font-bold text-center sm:text-left",children:w}),(0,u.jsx)(p.Text,{className:"text-center sm:text-left",children:h}),(0,u.jsxs)(a.HStack,{className:"space-x-2 justify-center sm:justify-start",children:[(0,u.jsx)(s.Button,{variant:"secondary",onPress:()=>o.default.openURL(P),children:f('View Demo',{_tags:'core'})}),(0,u.jsx)(s.Button,{onPress:()=>o.default.openURL('https://wcpos.com/pro'),children:f('Upgrade to Pro',{_tags:'core'})})]})]})]})})}}),3770,[1,17,320,424,1167,891,2221,894,1100,1130,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(r);if(n&&n.has(e))return n.get(e);var t={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(t,s,a):t[s]=e[s]}return t.default=e,n&&n.set(e,t),t})(_r(d[1])),n=_r(d[2]),t=_r(d[3]),o=e(_r(d[4])),s=_r(d[5]),a=_r(d[6]),u=_r(d[7]),c=_r(d[8]),i=e(_r(d[9])),l=_r(d[10]),p=e(_r(d[11])),f=_r(d[12]),j=_r(d[13]),O=_r(d[14]),h=_r(d[15]);function v(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:r})(e)}const x=(0,n.createStackNavigator)(),S=({route:e})=>{const{wpCredentials:n,store:o}=(0,f.useAppState)(),u=(0,s.useObservableEagerState)(n.id$),i=(0,s.useObservableEagerState)(o.id$),{collection:O}=(0,j.useCollection)('orders'),v=r.useMemo((()=>new s.ObservableResource(O.find({selector:{status:'pos-open'}}).$.pipe((0,a.map)((e=>{const r=e.filter((e=>{const r=e.meta_data,n=r.find((e=>'_pos_user'===e.key))?.value,t=r.find((e=>'_pos_store'===e.key))?.value;return 0===i?n===String(u):n===String(u)&&t===String(i)}));return(0,t.orderBy)(r,[e=>e.date_created_gmt],['asc']).map((e=>({id:e.uuid,document:e})))})),(0,a.distinctUntilChanged)(((e,r)=>e.length===r.length))))),[u,O,i]);return(0,h.jsx)(c.Suspense,{children:(0,h.jsx)(l.CurrentOrderProvider,{resource:v,currentOrderUUID:e.params?.orderID,children:(0,h.jsx)(c.Suspense,{children:(0,h.jsx)(p.default,{})})})})},_=({route:e})=>{const n=(0,o.default)(e,['params','orderID']),{collection:t}=(0,j.useCollection)('orders'),a=t.findOneFix(n),l=r.useMemo((()=>new s.ObservableResource(a.$)),[a]);return(0,h.jsx)(u.ErrorBoundary,{children:(0,h.jsx)(c.Suspense,{children:(0,h.jsx)(i.default,{resource:l})})})},b=({route:e})=>{const n=(0,o.default)(e,['params','orderID']),{collection:t}=(0,j.useCollection)('orders'),a=t.findOneFix(n),i=r.useMemo((()=>new s.ObservableResource(a.$)),[a]);return(0,h.jsx)(u.ErrorBoundary,{children:(0,h.jsx)(c.Suspense,{children:(0,h.jsx)(O.ReceiptModal,{resource:i})})})};_e.default=()=>(0,h.jsx)(u.ErrorBoundary,{children:(0,h.jsx)(c.Suspense,{children:(0,h.jsxs)(x.Navigator,{screenOptions:{headerShown:!1},children:[(0,h.jsx)(x.Screen,{name:"POS",component:S}),(0,h.jsxs)(x.Group,{screenOptions:{presentation:'transparentModal'},children:[(0,h.jsx)(x.Screen,{name:"Checkout",component:_}),(0,h.jsx)(x.Screen,{name:"Receipt",component:b})]})]})})})}),3771,[1,17,2097,3772,899,1170,1395,888,2155,3774,3778,3787,1168,3389,3450,483]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"compare",{enumerable:!0,get:function(){return n.compare}}),Object.defineProperty(e,"orderBy",{enumerable:!0,get:function(){return n.orderBy}});var n=r(d[0])}),3772,[3773]);
__d((function(g,r,_i,_a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.compare=function(n){var t=E(n);return M(t)},e.orderBy=function(n,t,i){if(!n||!Array.isArray(n))return[];var u=U(t),o=q(i);return T(n,u,o)};
/**
   * natural-orderby v3.0.2
   *
   * Copyright (c) Olaf Ennen
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */
var n=function(n,t){return n<t?-1:n>t?1:0},t=function(n,t){var i=n.localeCompare(t);return i?i/Math.abs(i):0},i=/(^0x[\da-fA-F]+$|^([+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?!\.\d+)(?=\D|\s|$))|\d+)/g,u=/^\s+|\s+$/g,o=/\s+/g,a=/^[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?$/,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[/-]\d{1,4}[/-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0+[1-9]{1}[0-9]*$/,f=/[^\x00-\x80]/,l=function(n,t){return n<t?-1:n>t?1:0},p=function(i,u){for(var o=i.length,a=u.length,s=Math.min(o,a),c=0;c<s;c++){var p=i[c],N=u[c];if(p.normalizedString!==N.normalizedString){if(''===p.normalizedString!=(''===N.normalizedString))return''===p.normalizedString?-1:1;if(void 0!==p.parsedNumber&&void 0!==N.parsedNumber){var b=n(p.parsedNumber,N.parsedNumber);return 0===b?l(p.normalizedString,N.normalizedString):b}return void 0!==p.parsedNumber||void 0!==N.parsedNumber?void 0!==p.parsedNumber?-1:1:f.test(p.normalizedString+N.normalizedString)?t(p.normalizedString,N.normalizedString):l(p.normalizedString,N.normalizedString)}}return o>s||a>s?o<=s?-1:1:0},N=function(n,t){return(n.chunks?!t.chunks:t.chunks)?n.chunks?-1:1:(n.isNaN?!t.isNaN:t.isNaN)?n.isNaN?-1:1:(n.isSymbol?!t.isSymbol:t.isSymbol)?n.isSymbol?-1:1:(n.isObject?!t.isObject:t.isObject)?n.isObject?-1:1:(n.isArray?!t.isArray:t.isArray)?n.isArray?-1:1:(n.isFunction?!t.isFunction:t.isFunction)?n.isFunction?-1:1:(n.isNull?!t.isNull:t.isNull)?n.isNull?-1:1:0},b=function(t,i){return t.value===i.value?0:void 0!==t.parsedNumber&&void 0!==i.parsedNumber?n(t.parsedNumber,i.parsedNumber):t.chunks&&i.chunks?p(t.chunks,i.chunks):N(t,i)},v=function(n){return n.replace(o,' ').replace(u,'')},y=function(n){if(0!==n.length){var t=Number(n);if(!Number.isNaN(t))return t}},S=function(n,t,i){if(a.test(n)&&(!c.test(n)||0===t||'.'!==i[t-1]))return y(n)||0},h=function(n,t,i){return{parsedNumber:S(n,t,i),normalizedString:v(n)}},A=function(n){return n.replace(i,'\0$1\0').replace(/\0$/,'').replace(/^\0/,'').split('\0')},z=function(n){return A(n).map(h)},j=function(n){return'function'==typeof n},k=function(n){return Number.isNaN(n)||n instanceof Number&&Number.isNaN(n.valueOf())},w=function(n){return null===n},O=function(n){return!(null===n||'object'!=typeof n||Array.isArray(n)||n instanceof Number||n instanceof String||n instanceof Boolean||n instanceof Date)},x=function(n){return'symbol'==typeof n},$=function(n){return void 0===n},D=function(n){try{var t=Date.parse(n);return!Number.isNaN(t)&&s.test(n)?t:void 0}catch(n){return}},F=function(n){var t=y(n);return void 0!==t?t:D(n)},B=function(n){return'boolean'==typeof n||n instanceof Boolean?Number(n).toString():'number'==typeof n||n instanceof Number?n.toString():n instanceof Date?n.getTime().toString():'string'==typeof n||n instanceof String?n.toLowerCase().replace(u,''):''},_=function(n){if('string'==typeof n||n instanceof String||('number'==typeof n||n instanceof Number)&&!k(n)||'boolean'==typeof n||n instanceof Boolean||n instanceof Date){var t=B(n),i=F(t);return{parsedNumber:i,chunks:z(i?""+i:t),value:n}}return{isArray:Array.isArray(n),isFunction:j(n),isNaN:k(n),isNull:w(n),isObject:O(n),isSymbol:x(n),isUndefined:$(n),value:n}},M=function(n){return function(t,i){var u=_(t),o=_(i);return b(u,o)*('desc'===n.order?-1:1)}},C=function(n){return'string'==typeof n&&('asc'===n||'desc'===n)},E=function(n){var t='asc';return'string'==typeof n&&C(n)?t=n:n&&'object'==typeof n&&n.order&&C(n.order)&&(t=n.order),{order:t}};var P=function(n,t,i){for(var u=n.index,o=n.values,a=t.index,s=t.values,c=o.length,f=i.length,l=0;l<c;l++){var p=l<f?i[l]:null;if(p&&'function'==typeof p){var N=p(o[l].value,s[l].value);if(N)return N}else{var v=b(o[l],s[l]);if(v)return v*('desc'===p?-1:1)}}return u-a},I=function(n){return'function'==typeof n?n:function(t){if(Array.isArray(t)){var i=Number(n);if(Number.isInteger(i))return t[i]}else if(t&&'object'==typeof t){var u=Object.getOwnPropertyDescriptor(t,n);return null==u?void 0:u.value}return t}},L=function(n,t){return n[t]},T=function(n,t,i){var u=t.length?t.map(I):[function(n){return n}],o=n.map((function(n,t){return{index:t,values:u.map((function(t){return t(n)})).map(_)}}));return o.sort((function(n,t){return P(n,t,i)})),o.map((function(t){return L(n,t.index)}))},U=function(n){if(!n)return[];var t=Array.isArray(n)?[].concat(n):[n];return t.some((function(n){return'string'!=typeof n&&'number'!=typeof n&&'function'!=typeof n}))?[]:t},q=function(n){if(!n)return[];var t=Array.isArray(n)?[].concat(n):[n];return t.some((function(n){return'asc'!==n&&'desc'!==n&&'function'!=typeof n}))?[]:t}}),3773,[]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=j(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n})(_r(d[1])),t=_r(d[2]),n=_r(d[3]),o=_r(d[4]),s=_r(d[5]),a=_r(d[6]),l=_r(d[7]),c=e(_r(d[8])),i=_r(d[9]),u=e(_r(d[10])),f=_r(d[11]);function j(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(j=function(e){return e?t:r})(e)}_e.default=({resource:e})=>{const j=(0,t.useObservableSuspense)(e),h=(0,t.useObservableEagerState)(j.number$),x=(0,i.useT)(),p=r.useRef(),[M,b]=r.useState(!1);(0,u.default)();const _=r.useCallback((()=>{b(!0),p.current&&p.current.contentWindow&&p.current.contentWindow.postMessage({action:'wcpos-process-payment'},'*')}),[]);return(0,n.isRxDocument)(j)?(0,f.jsx)(o.Modal,{children:(0,f.jsxs)(o.ModalContent,{size:"xl",className:"h-full",children:[(0,f.jsx)(o.ModalHeader,{children:(0,f.jsx)(o.ModalTitle,{children:(0,f.jsx)(s.Text,{children:h?x('Checkout Order #{orderNumber}',{orderNumber:h,_tags:'core'}):x('Checkout',{_tags:'core'})})})}),(0,f.jsx)(o.ModalBody,{contentContainerStyle:{height:'100%'},children:(0,f.jsxs)(a.VStack,{className:"flex-1",children:[(0,f.jsx)(c.default,{order:j}),(0,f.jsx)(l.PaymentWebview,{order:j,ref:p,setLoading:b})]})}),(0,f.jsxs)(o.ModalFooter,{children:[(0,f.jsx)(o.ModalClose,{children:x('Cancel',{_tags:'core'})}),(0,f.jsx)(o.ModalAction,{onPress:_,loading:M,children:x('Process Payment',{_tags:'core'})})]})]})}):(0,f.jsx)(o.Modal,{children:(0,f.jsx)(o.ModalContent,{size:"lg",children:(0,f.jsx)(o.ModalHeader,{children:(0,f.jsx)(o.ModalTitle,{children:(0,f.jsx)(s.Text,{children:x('No order found',{_tags:'core'})})})})})})}}),3774,[1,17,1170,1398,2388,1100,1130,3775,3777,2083,3394,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PaymentWebview=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r})(_r(d[1])),a=_r(d[2]),r=e(_r(d[3])),n=_r(d[4]),o=_r(d[5]),s=_r(d[6]),c=_r(d[7]),i=_r(d[8]),u=e(_r(d[9])),l=_r(d[10]),p=_r(d[11]),f=_r(d[12]),y=_r(d[13]);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}_e.PaymentWebview=t.forwardRef((({order:e,setLoading:w},b)=>{const v=(0,a.useNavigation)(),h=(0,n.useObservableState)(e.links$.pipe((0,o.map)((e=>(0,r.default)(e,['payment',0,'href'])))),(0,r.default)(e,['links','payment',0,'href'])),{wpCredentials:k}=(0,l.useAppState)(),_=(0,n.useObservableState)(k.jwt$,k.jwt),{stockAdjustment:j}=(0,f.useStockAdjustment)(),{uiSettings:S}=(0,p.useUISettings)('pos-cart'),O=t.useMemo((()=>{const e=new URL(h);return e.searchParams.append('token',_),e.toString()}),[h,_]),P=t.useCallback((async t=>{if('wcpos-payment-received'===t?.data?.action&&'object'==typeof t?.data?.payload)try{const r=t.data.payload,n=(r?.line_items||[]).filter((e=>e.meta_data.some((e=>'_reduced_stock'===e.key))));j(n);const o=e.getLatest(),s=o.collection.parseRestResponse(r);await o.incrementalPatch(s)&&(S.autoShowReceipt?v.dispatch(a.StackActions.replace('Receipt',{orderID:e.uuid})):v.navigate('POSStack',{screen:'POS'}))}catch(e){u.default.error(e),c.Toast.show({text1:e?.message,type:'error'})}finally{w(!1)}}),[v,e,j,S.autoShowReceipt,w]),M=t.useCallback((e=>{}),[]);return(0,y.jsx)(s.ErrorBoundary,{children:h?(0,y.jsx)(i.WebView,{ref:b,src:O,onLoad:M,onMessage:e=>{e?.data?.payload?.data?c.Toast.show({text1:e?.data?.payload?.message,type:'error'}):P(e)},className:"h-full flex-1"}):null})}))}),3775,[1,17,487,899,1170,1395,888,1139,3433,1767,1168,2382,3776,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useStockAdjustment=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&{}.hasOwnProperty.call(e,c)){var l=i?Object.getOwnPropertyDescriptor(e,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=e[c]}return o.default=e,r&&r.set(e,o),o})(_r(d[0])),t=_r(d[1]),r=_r(d[2]);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}_e.useStockAdjustment=()=>{const{collection:n}=(0,r.useCollection)('products'),{collection:o}=(0,r.useCollection)('variations'),i=(0,t.useQueryManager)(),c=i.registerCollectionReplication({collection:n,endpoint:'products'}),l=i.registerCollectionReplication({collection:o,endpoint:'products/variations'});return{stockAdjustment:e.useCallback((e=>{if(Array.isArray(e)&&e.length>0){const t=e.filter((e=>0===e.variation_id)).map((e=>e.product_id)),r=e.filter((e=>0!==e.variation_id)).map((e=>e.variation_id));try{c.sync({include:t,force:!0,greedy:!0}),l.sync({include:r,force:!0,greedy:!0})}catch(e){console.error(e)}}}),[c,l])}}}),3776,[17,2168,3389]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var f=o?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(n,u,f):n[u]=e[u]}n.default=e,r&&r.set(e,n)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]),n=_r(d[4]),o=_r(d[5]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.default=({order:a})=>{const u=(0,e.useObservableEagerState)(a.currency_symbol$),f=(0,e.useObservableEagerState)(a.total$),{format:l}=(0,n.useCurrencyFormat)({currencySymbol:u}),c=(0,r.useT)();if(!a)throw new Error('Order not found');return(0,o.jsxs)(t.Text,{className:"text-lg font-bold text-center",children:[c('Amount to Pay',{_tags:'core'}),`: ${l(f||0)}`]})}}),3777,[17,1170,1100,2083,3434,483]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CurrentOrderProvider",{enumerable:!0,get:function(){return n.CurrentOrderProvider}}),Object.defineProperty(e,"useCurrentOrder",{enumerable:!0,get:function(){return t.useCurrentOrder}});var n=r(d[0]),t=r(d[1])}),3778,[3779,3786]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.CurrentOrderProvider=_e.CurrentOrderContext=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=u?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n})(_r(d[0])),r=_r(d[1]),t=_r(d[2]),n=_r(d[3]),u=_r(d[4]);function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}const a=_e.CurrentOrderContext=e.createContext(null);_e.CurrentOrderProvider=({children:o,resource:i,currentOrderUUID:c})=>{const{newOrder:l}=(0,n.useNewOrder)(),s=(0,t.useObservableSuspense)(i);let f=s.find((e=>e.id===c))?.document;f||(f=l);const O=(0,r.useNavigation)(),p=e.useCallback((e=>{O.setParams({orderID:e})}),[O]);return(0,u.jsx)(a.Provider,{value:{currentOrder:f,openOrders:s,setCurrentOrderID:p},children:o})}}),3779,[17,487,1170,3780,483]);
__d((function(g,r,i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useNewOrder=void 0;var t=r(d[1]),o=r(d[2]),u=r(d[3]),n=r(d[4]),c=r(d[5]),l=s(r(d[6])),p=r(d[7]),_=r(d[8]),b=s(r(d[9])),O=r(d[10]),v=r(d[11]);const y=(0,n.from)((0,p.createTemporaryDB)()).pipe((0,c.shareReplay)(1)).pipe((0,c.switchMap)((s=>s.orders.findOne().$.pipe((0,c.tap)((t=>{(0,u.isRxDocument)(t)||s.orders.insert({status:'pos-open',created_via:'woocommerce-pos',billing:{},shipping:{}})})),(0,c.filter)((s=>(0,u.isRxDocument)(s)))))),(0,c.distinctUntilChanged)(((s,t)=>s?.uuid===t?.uuid))),f=new o.ObservableResource(y);e.useNewOrder=()=>{const{store:s,wpCredentials:n}=(0,_.useAppState)(),{defaultCustomerResource:c}=(0,O.useDefaultCustomer)(),p=(0,o.useObservableSuspense)(c),y=(0,o.useObservableEagerState)(s.currency$),S=(0,o.useObservableEagerState)(s.tax_based_on$),w=(0,o.useObservableEagerState)(s.store_country$),h=(0,o.useObservableSuspense)(f);return(0,l.default)((()=>{const o=(0,u.isRxDocument)(p)?p.toMutableJSON():p,c=(0,v.transformCustomerJSONToOrderJSON)(o,w);c.currency=y;const l=b.default.find((s=>s.code===y))||{};c.currency_symbol=(0,t.decode)(l.symbol||''),c.prices_include_tax=!1,c.meta_data=[{key:'_woocommerce_pos_tax_based_on',value:S},{key:'_pos_user',value:String(n.id)}],0!==s.id&&c.meta_data.push({key:'_pos_store',value:String(s.id)}),h.incrementalPatch(c)}),[h,p,y,S,w]),{newOrder:h}}}),3780,[1,3390,1170,1398,1171,1395,3781,1765,1168,3438,3783,3785]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(r,t){return e.useEffect(r,n(t))},_e.useDeepCompareEffectNoCheck=function(r,t){return e.useEffect(r,n(t))},_e.useDeepCompareMemoize=n;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var c=f?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(u,o,c):u[o]=e[o]}return u.default=e,n&&n.set(e,u),u})(_r(d[0])),r=_r(d[1]);function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function n(t){var n=e.useRef(t),u=e.useRef(0);return(0,r.dequal)(t,n.current)||(n.current=t,u.current+=1),e.useMemo((function(){return n.current}),[u.current])}}),3781,[17,3782]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.dequal=f;var t=Object.prototype.hasOwnProperty;function n(t,n,o){for(o of t.keys())if(f(o,n))return o}function f(o,u){var y,c,s;if(o===u)return!0;if(o&&u&&(y=o.constructor)===u.constructor){if(y===Date)return o.getTime()===u.getTime();if(y===RegExp)return o.toString()===u.toString();if(y===Array){if((c=o.length)===u.length)for(;c--&&f(o[c],u[c]););return-1===c}if(y===Set){if(o.size!==u.size)return!1;for(c of o){if((s=c)&&'object'==typeof s&&!(s=n(u,s)))return!1;if(!u.has(s))return!1}return!0}if(y===Map){if(o.size!==u.size)return!1;for(c of o){if((s=c[0])&&'object'==typeof s&&!(s=n(u,s)))return!1;if(!f(c[1],u.get(s)))return!1}return!0}if(y===ArrayBuffer)o=new Uint8Array(o),u=new Uint8Array(u);else if(y===DataView){if((c=o.byteLength)===u.byteLength)for(;c--&&o.getInt8(c)===u.getInt8(c););return-1===c}if(ArrayBuffer.isView(o)){if((c=o.byteLength)===u.byteLength)for(;c--&&o[c]===u[c];);return-1===c}if(!y||'object'==typeof o){for(y in c=0,o){if(t.call(o,y)&&++c&&!t.call(u,y))return!1;if(!(y in u)||!f(o[y],u[y]))return!1}return Object.keys(u).length===c}}return o!=o&&u!=u}}),3782,[]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useDefaultCustomer=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(u,n,a):u[n]=e[n]}return u.default=e,r&&r.set(e,u),u})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),u=_r(d[3]),o=_r(d[4]),n=_r(d[5]);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}_e.useDefaultCustomer=()=>{const s=(0,n.useGuestCustomer)(),a=(0,o.useDefaultCustomerID)(),l=(0,u.useQuery)({queryKeys:['customers','defaultCustomer'],collectionName:'customers',initialParams:{selector:{id:a}},infiniteScroll:!0});e.useEffect((()=>{l.where('id').equals(a).exec()}),[a,l]);const f=(0,t.useObservable)((()=>l.result$.pipe((0,r.map)((e=>1===e.count?e.hits[0].document:s)))),[l,s]),c=e.useMemo((()=>new t.ObservableResource(f)),[f]);return{defaultCustomer$:f,defaultCustomerResource:c}}}),3783,[17,1170,1395,2168,3784,3439]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useDefaultCustomerID=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var f=a?Object.getOwnPropertyDescriptor(e,o):null;f&&(f.get||f.set)?Object.defineProperty(n,o,f):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}_e.useDefaultCustomerID=()=>{const{store:u,wpCredentials:n}=(0,r.useAppState)(),a=(0,t.useObservableEagerState)(u.default_customer_is_cashier$),o=(0,t.useObservableEagerState)(u.default_customer$);return e.useMemo((()=>a?n.id:o),[o,a,n.id])}}),3784,[17,1170,1168]);
__d((function(g,r,i,a,_m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.extractShippingLineData=e.extractLineItemPrices=e.extractLineItemData=e.extractFeeLineData=e.convertVariationToLineItemWithoutTax=e.convertProductToLineItemWithoutTax=e.calculateDefaultAmount=void 0,e.findByMetaDataUUID=function(t,n){return t.find((t=>Array.isArray(t.meta_data)&&t.meta_data.some((t=>'_woocommerce_pos_uuid'===t.key&&t.value===n))))||null},e.transformCustomerJSONToOrderJSON=e.sanitizePrice=e.parsePosData=e.getUuidFromLineItemMetaData=e.getUuidFromLineItem=e.getTaxStatusFromMetaData=e.getMetaDataValueByKey=e.findByProductVariationID=void 0,e.updatePosDataMeta=function(t,n){const o=t.meta_data??[];let u=!1;const s=o.map((t=>{if('_woocommerce_pos_data'===t.key){const o=t.value?JSON.parse(t.value):{};return Object.assign(o,n),u=!0,Object.assign({},t,{value:JSON.stringify(o)})}return t}));u||s.push({key:'_woocommerce_pos_data',value:JSON.stringify(n)});return Object.assign({},t,{meta_data:s})};var n=t(r(d[1])),o=t(r(d[2]));const u=t=>'string'==typeof t?'true'===t||'1'===t:Boolean(t),s=t=>t&&''!==t?String(t):'0';e.sanitizePrice=s;const c=t=>{if(!Array.isArray(t))return void o.default.error('metaData is not an array');const n=t.find((t=>'_woocommerce_pos_uuid'===t.key));return n?n.value:void 0};e.getUuidFromLineItemMetaData=c;e.getTaxStatusFromMetaData=t=>{if(!Array.isArray(t))return void o.default.error('metaData is not an array');const n=t.find((t=>'_woocommerce_pos_tax_status'===t.key));return n?.value??'taxable'};const l=(t,n)=>{if(!Array.isArray(t))return void o.default.error('metaData is not an array');const u=t.find((t=>t.key===n));return u?u.value:void 0};e.getMetaDataValueByKey=l;e.getUuidFromLineItem=t=>c(t.meta_data);e.findByProductVariationID=(t,n,u=0)=>{if(!Array.isArray(t))return void o.default.error('lineItems is not an array');return t.filter((t=>t.product_id===n&&(t.variation_id??0)===u))};e.transformCustomerJSONToOrderJSON=(t,n)=>({customer_id:t.id,billing:Object.assign({},t.billing||{},{email:t?.billing?.email||t?.email,first_name:t?.billing?.first_name||t.first_name||t?.username,last_name:t?.billing?.last_name||t?.last_name,country:t?.billing?.country||n}),shipping:t.shipping||{}});e.convertProductToLineItemWithoutTax=(t,n)=>{const o=s(t.price),u=s(t.regular_price),c=t.tax_status||'taxable',l=[...(t.meta_data||[]).filter((t=>t.key&&(n||[]).includes(t.key))).map((({key:t,value:n})=>({key:t,value:n})))];return l.push({key:'_woocommerce_pos_data',value:JSON.stringify({price:o,regular_price:u,tax_status:c})}),{product_id:t.id,name:t.name,quantity:1,sku:t.sku,tax_class:t.tax_class,meta_data:l}};e.convertVariationToLineItemWithoutTax=(t,n,o,u)=>{const c=s(t.price),l=s(t.regular_price),_=t.tax_status||'taxable';let m=o;m||(m=(t.attributes||[]).map((t=>({key:t.name,value:t.option,attr_id:t.id,display_key:t.name,display_value:t.option}))));const p=[...(t.meta_data||[]).filter((t=>t.key&&(u||[]).includes(t.key))).map((({key:t,value:n})=>({key:t,value:n})))];return p.push({key:'_woocommerce_pos_data',value:JSON.stringify({price:c,regular_price:l,tax_status:_})}),p.push(...m),{product_id:n.id,name:n.name,variation_id:t.id,quantity:1,sku:t.sku,tax_class:t.tax_class,meta_data:p}};const _=t=>{try{const n=l(t.meta_data,'_woocommerce_pos_data');if(n)return JSON.parse(n)}catch(t){o.default.error('Error parsing posData:',t)}return null};e.parsePosData=_;const m=(t,o)=>{const u=t.quantity??0,s=(0,n.default)(t.total??0),c=(0,n.default)(t.subtotal??0),l=(0,n.default)(t.total_tax??0),_=(0,n.default)(t.subtotal_tax??0);return{price:o?(s+l)/u:s/u,regularPrice:o?(c+_)/u:c/u}};e.extractLineItemPrices=m;e.extractLineItemData=(t,o)=>{const{price:u,regularPrice:s}=m(t,o),{price:c=u,regular_price:l=s,tax_status:p="taxable"}=_(t)||{};return{price:(0,n.default)(c),regular_price:(0,n.default)(l),tax_status:p}};const p=(t,o)=>{const u=(0,n.default)(t.total??0),s=(0,n.default)(t.total_tax??0);return o?u+s:u};e.calculateDefaultAmount=p;e.extractFeeLineData=(t,o)=>{const s=p(t,o),{amount:c=s,percent:l=!1,prices_include_tax:m=o,percent_of_cart_total_with_tax:y=o}=_(t)||{};return{amount:(0,n.default)(c),percent:u(l),prices_include_tax:u(m),percent_of_cart_total_with_tax:u(y)}};e.extractShippingLineData=(t,o,s)=>{const c=p(t,o),l='inherit'===s?'':s,m='taxable',{amount:y=c,tax_status:f=m,tax_class:x=l,prices_include_tax:v=o}=_(t)||{};return{amount:(0,n.default)(y),tax_status:f,tax_class:x,prices_include_tax:u(v)}}}),3785,[1,1781,1767]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useCurrentOrder=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var f=o?Object.getOwnPropertyDescriptor(e,i):null;f&&(f.get||f.set)?Object.defineProperty(u,i,f):u[i]=e[i]}return u.default=e,n&&n.set(e,u),u})(_r(d[0])),r=_r(d[1]);function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.useCurrentOrder=()=>{if(void 0===r.CurrentOrderContext)throw new Error("useCurrentOrder must be called within CurrentOrderProvider");return e.useContext(r.CurrentOrderContext)}}),3786,[17,3779]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=u?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n)})(_r(d[1]));var r=e(_r(d[2])),t=_r(d[3]),n=_r(d[4]),u=_r(d[5]),a=e(_r(d[6])),o=_r(d[7]),l=e(_r(d[8])),f=_r(d[9]),i=_r(d[10]);function c(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:r})(e)}_e.default=()=>{const e=(0,r.default)(),{currentOrder:c}=(0,o.useCurrentOrder)(),s=(0,u.useQuery)({queryKeys:['tax-rates'],collectionName:'taxes'});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t.ErrorBoundary,{children:(0,i.jsx)(f.TaxRatesProvider,{taxQuery:s,order:c,children:(0,i.jsx)(n.Suspense,{children:e.width>=640?(0,i.jsx)(a.default,{}):(0,i.jsx)(l.default,{})})})})})}}),3787,[1,17,469,888,2155,2168,3788,3778,3883,3473,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,t&&t.set(e,n)})(_r(d[1]));var r=_r(d[2]),t=_r(d[3]),n=_r(d[4]),u=e(_r(d[5])),i=e(_r(d[6])),l=_r(d[7]),o=_r(d[8]);function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}_e.default=()=>{const{uiSettings:e,patchUI:a}=(0,l.useUISettings)('pos-products');return(0,o.jsxs)(t.PanelGroup,{onResize:({width:e})=>a({width:e}),children:[(0,o.jsx)(t.Panel,{defaultSize:e.width,children:(0,o.jsx)(n.Suspense,{children:(0,o.jsx)(r.ErrorBoundary,{children:(0,o.jsx)(i.default,{isColumn:!0})})})}),(0,o.jsx)(t.PanelResizeHandle,{}),(0,o.jsx)(t.Panel,{children:(0,o.jsx)(n.Suspense,{children:(0,o.jsx)(r.ErrorBoundary,{children:(0,o.jsx)(u.default,{isColumn:!0})})})})]})}}),3788,[1,17,888,3529,2155,3789,3855,2382,483]);
__d((function(g,_r,_i,_a,m,_e,d){var r=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(r,e){if(!e&&r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var t=O(e);if(t&&t.has(r))return t.get(r);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in r)if("default"!==s&&{}.hasOwnProperty.call(r,s)){var l=a?Object.getOwnPropertyDescriptor(r,s):null;l&&(l.get||l.set)?Object.defineProperty(n,s,l):n[s]=r[s]}n.default=r,t&&t.set(r,n)})(_r(d[1]));var e=r(_r(d[2])),t=_r(d[3]),n=_r(d[4]),a=_r(d[5]),s=_r(d[6]),l=_r(d[7]),o=_r(d[8]),u=_r(d[9]),c=_r(d[10]),i=_r(d[11]),j=_r(d[12]),x=_r(d[13]),f=_r(d[14]),p=_r(d[15]),h=_r(d[16]),y=_r(d[17]),B=_r(d[18]),C=_r(d[19]),N=_r(d[20]);function O(r){if("function"!=typeof WeakMap)return null;var e=new WeakMap,t=new WeakMap;return(O=function(r){return r?t:e})(r)}_e.default=({isColumn:r=!1})=>{const{currentOrder:O}=(0,C.useCurrentOrder)();if(!O)throw new Error('Current order is not defined');return(0,N.jsxs)(o.VStack,{className:`gap-1 p-2 h-full ${r&&'pl-0'}`,children:[(0,N.jsx)(a.ErrorBoundary,{children:O.isNew?(0,N.jsxs)(n.Card,{className:"flex-1",children:[(0,N.jsx)(n.CardHeader,{className:"p-2 bg-input",children:(0,N.jsx)(a.ErrorBoundary,{children:(0,N.jsx)(p.CartHeader,{})})}),(0,N.jsx)(n.CardContent,{className:"flex-1 p-0",children:(0,N.jsx)(u.AddCartItemButtons,{})})]}):(0,N.jsxs)(n.Card,{className:"flex-1",children:[(0,N.jsx)(n.CardHeader,{className:"p-2 bg-input",children:(0,N.jsx)(a.ErrorBoundary,{children:(0,N.jsx)(p.CartHeader,{})})}),(0,N.jsxs)(n.CardContent,{className:"flex-1 p-0",children:[(0,N.jsx)(e.default,{className:"flex-1",children:(0,N.jsx)(a.ErrorBoundary,{children:(0,N.jsx)(h.CartTable,{})})}),(0,N.jsx)(u.AddCartItemButtons,{}),(0,N.jsx)(a.ErrorBoundary,{children:(0,N.jsx)(B.Totals,{})}),(0,N.jsx)(s.HStack,{className:"p-2 bg-muted [&>*]:flex-1",children:(0,N.jsxs)(a.ErrorBoundary,{children:[(0,N.jsx)(c.AddNoteButton,{}),(0,N.jsx)(i.OrderMetaButton,{}),(0,N.jsx)(x.SaveButton,{})]})}),(0,N.jsx)(s.HStack,{className:"gap-0 w-full",children:(0,N.jsxs)(a.ErrorBoundary,{children:[(0,N.jsx)(f.VoidButton,{}),(0,N.jsx)(t.ButtonGroupSeparator,{className:"bg-input"}),(0,N.jsx)(j.PayButton,{})]})})]})]})}),(0,N.jsx)(a.ErrorBoundary,{children:(0,N.jsx)(l.Suspense,{children:(0,N.jsx)(y.OpenOrderTabs,{})})})]})}}),3789,[1,17,320,1167,2389,888,891,2155,1130,3790,3808,3809,3812,3814,3815,3816,3822,3847,3849,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.AddCartItemButtons=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&{}.hasOwnProperty.call(e,c)){var a=s?Object.getOwnPropertyDescriptor(e,c):null;a&&(a.get||a.set)?Object.defineProperty(n,c,a):n[c]=e[c]}n.default=e,r&&r.set(e,n)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]),n=_r(d[4]),s=_r(d[5]),c=_r(d[6]),a=_r(d[7]),o=_r(d[8]),i=_r(d[9]);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}_e.AddCartItemButtons=()=>{const l=(0,o.useT)();return(0,i.jsxs)(r.VStack,{className:"p-2 gap-1",children:[(0,i.jsxs)(e.HStack,{children:[(0,i.jsx)(t.Text,{className:"flex-1",children:l('Add Miscellaneous Product',{_tags:'core'})}),(0,i.jsx)(n.AddCartItemButton,{title:l('Add Miscellaneous Product',{_tags:'core'}),children:(0,i.jsx)(c.AddMiscProduct,{})})]}),(0,i.jsxs)(e.HStack,{children:[(0,i.jsx)(t.Text,{className:"flex-1",children:l('Add Fee',{_tags:'core'})}),(0,i.jsx)(n.AddCartItemButton,{title:l('Add Fee',{_tags:'core'}),children:(0,i.jsx)(s.AddFee,{})})]}),(0,i.jsxs)(e.HStack,{children:[(0,i.jsx)(t.Text,{className:"flex-1",children:l('Add Shipping',{_tags:'core'})}),(0,i.jsx)(n.AddCartItemButton,{title:l('Add Shipping',{_tags:'core'}),children:(0,i.jsx)(a.AddShipping,{})})]})]})}}),3790,[17,891,1100,1130,3791,3792,3798,3803,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.AddCartItemButton=void 0;!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var a=o?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n)})(_r(d[0]));var e=_r(d[1]),r=_r(d[2]),t=_r(d[3]),n=_r(d[4]);function i(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:r})(e)}_e.AddCartItemButton=({title:i,children:o})=>(0,n.jsx)(r.ErrorBoundary,{children:(0,n.jsxs)(e.Dialog,{children:[(0,n.jsx)(e.DialogTrigger,{asChild:!0,children:(0,n.jsx)(t.IconButton,{name:"circlePlus"})}),(0,n.jsxs)(e.DialogContent,{size:"lg",children:[(0,n.jsx)(e.DialogHeader,{children:(0,n.jsx)(e.DialogTitle,{children:i})}),(0,n.jsx)(e.DialogBody,{children:o})]})]})})}),3791,[17,3296,888,1102,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.AddFee=void 0;var t=O(_r(d[1])),a=e(_r(d[2])),r=_r(d[3]),n=e(_r(d[4])),o=_r(d[5]),s=O(_r(d[6])),l=_r(d[7]),c=_r(d[8]),i=_r(d[9]),u=_r(d[10]),_=_r(d[11]),x=_r(d[12]),p=_r(d[13]),j=_r(d[14]),f=_r(d[15]),F=_r(d[16]),b=_r(d[17]);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}const C=s.object({name:s.string().optional(),prices_include_tax:s.boolean().optional(),tax_status:s.enum(['taxable','none']),tax_class:s.string().optional(),amount:s.string().optional(),percent:s.boolean().default(!1)});_e.AddFee=()=>{const e=(0,u.useT)(),{addFee:s}=(0,F.useAddFee)(),{onOpenChange:h}=(0,l.useRootContext)(),O=(0,o.useForm)({resolver:(0,r.zodResolver)(C),defaultValues:{name:'',amount:'0',prices_include_tax:!0,tax_status:'taxable',tax_class:'standard',percent:!1}}),v=t.useCallback((t=>{const{name:a,amount:r,percent:o,tax_status:l,tax_class:c,prices_include_tax:i,percent_of_cart_total_with_tax:u}=t;s({name:(0,n.default)(a)?e('Fee',{_tags:'core'}):a,amount:r,tax_status:l,tax_class:'standard'===c?'':c,percent:o,prices_include_tax:i,percent_of_cart_total_with_tax:u}),h(!1)}),[s,h,e]),y=O.watch('percent');return(0,b.jsx)(c.Form,Object.assign({},O,{children:(0,b.jsxs)(i.VStack,{className:"gap-4",children:[(0,b.jsx)(x.FormErrors,{}),(0,b.jsxs)(i.VStack,{children:[(0,b.jsx)(c.FormField,{control:O.control,name:"name",render:({field:t})=>(0,b.jsx)(c.FormInput,Object.assign({label:e('Fee Name',{_tags:'core'}),placeholder:e('Fee',{_tags:'core'})},t))}),(0,b.jsxs)(a.default,{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(c.FormField,{control:O.control,name:"amount",render:({field:t})=>(0,b.jsx)(c.FormInput,Object.assign({customComponent:y?p.NumberInput:_.CurrencyInput,label:e(y?'Percent':'Amount',{_tags:'core'})},t))}),(0,b.jsxs)(i.VStack,{className:"justify-center",children:[(0,b.jsx)(c.FormField,{control:O.control,name:"percent",render:({field:t})=>(0,b.jsx)(c.FormSwitch,Object.assign({label:e('Percentage of Cart Total',{_tags:'core'})},t))}),(0,b.jsx)(c.FormField,{control:O.control,name:"prices_include_tax",render:({field:t})=>(0,b.jsx)(c.FormSwitch,Object.assign({label:e('Amount Includes Tax',{_tags:'core'})},t))})]}),(0,b.jsx)(c.FormField,{control:O.control,name:"tax_class",render:({field:t})=>(0,b.jsx)(c.FormSelect,Object.assign({customComponent:j.TaxClassSelect,label:e('Tax Class',{_tags:'core'})},t))}),(0,b.jsx)(c.FormField,{control:O.control,name:"tax_status",render:({field:t})=>(0,b.jsx)(c.FormRadioGroup,Object.assign({label:e('Tax Status',{_tags:'core'}),customComponent:f.TaxStatusRadioGroup},t))})]})]}),(0,b.jsxs)(l.DialogFooter,{className:"px-0",children:[(0,b.jsx)(l.DialogClose,{children:e('Cancel',{_tags:'core'})}),(0,b.jsx)(l.DialogAction,{onPress:O.handleSubmit(v),children:e('Add to Cart',{_tags:'core'})})]})]})}))}}),3792,[1,17,320,3271,1908,3273,3274,3296,3275,1130,2083,3456,3400,3457,3461,3462,3793,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useAddFee=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r})(_r(d[1])),a=_r(d[2]),r=e(_r(d[3])),n=_r(d[4]),o=_r(d[5]),u=_r(d[6]);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}_e.useAddFee=()=>{const{addItemToOrder:e}=(0,n.useAddItemToOrder)(),s=(0,u.useT)(),{calculateFeeLineTaxesAndTotals:c}=(0,o.useCalculateFeeLineTaxAndTotals)();return{addFee:t.useCallback((async t=>{try{const a=Array.isArray(t.meta_data)?[...t.meta_data]:[];a.push({key:'_woocommerce_pos_data',value:JSON.stringify({amount:t.amount,percent:t.percent,prices_include_tax:t.prices_include_tax})});const r=c({name:t.name,tax_class:t.tax_class,tax_status:t.tax_status,meta_data:a});await e('fee_lines',r)}catch(e){r.default.error(e),a.Toast.show({type:'error',text1:s('Error adding Fee to cart',{_tags:'core'})})}}),[c,e,s])}}}),3793,[1,17,1139,1767,3794,3795,2083]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useAddItemToOrder=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var c=a?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(n,u,c):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),a=_r(d[4]);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}_e.useAddItemToOrder=()=>{const{currentOrder:o,setCurrentOrderID:u}=(0,a.useCurrentOrder)(),{collection:c}=(0,n.useCollection)('orders'),s=e.useCallback((async(e,t)=>{const n=o.getLatest(),a=Object.assign({},n.toJSON(),{date_created_gmt:(0,r.convertLocalDateToUTCString)(new Date),[e]:[t]});n.remove();const s=await c.insert(a);return u(s?.uuid),s}),[c,o,u]);return{addItemToOrder:e.useCallback((async(e,r)=>{const n=o.getLatest();r.meta_data=r.meta_data||[];const a=r.meta_data.find((e=>'_woocommerce_pos_uuid'===e.key));return a&&a.value||r.meta_data.push({key:'_woocommerce_pos_uuid',value:(0,t.v4)()}),n.isNew?s(e,r):n.incrementalUpdate({$push:{[e]:r}})}),[o,s])}}}),3794,[17,1929,2744,3389,3778]);
__d((function(g,_r,_i,_a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useCalculateFeeLineTaxAndTotals=void 0;var e=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=o(e);if(a&&a.has(t))return a.get(t);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&{}.hasOwnProperty.call(t,l)){var u=n?Object.getOwnPropertyDescriptor(t,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=t[l]}return r.default=t,a&&a.set(t,r),r})(_r(d[1])),a=t(_r(d[2])),r=_r(d[3]),n=_r(d[4]),l=_r(d[5]);function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(o=function(t){return t?a:e})(t)}_e.useCalculateFeeLineTaxAndTotals=()=>{const{calculateTaxesFromValue:t}=(0,n.useCalculateTaxesFromValue)(),{getFeeLineData:o}=(0,r.useFeeLineData)(),{currentOrder:u}=(0,l.useCurrentOrder)(),c=e.useCallback((({amount:t,percent_of_cart_total_with_tax:e})=>{const a=u.getLatest(),r=t/100,{cart_total:n,cart_total_tax:l}=(a.line_items||[]).reduce(((t,e)=>(null!==e.product_id&&(t.cart_total+=parseFloat(e.total),t.cart_total_tax+=parseFloat(e.total_tax)),t)),{cart_total:0,cart_total_tax:0});return(e?n+l:n)*r}),[u]);return{calculateFeeLineTaxesAndTotals:e.useCallback((e=>{const{amount:r,percent:n,prices_include_tax:l,percent_of_cart_total_with_tax:u}=o(e);let s=r;n&&(s=c({amount:s,percent_of_cart_total_with_tax:u}));const _=t({amount:s,taxClass:e.tax_class,taxStatus:e.tax_status,amountIncludesTax:l}),i=l?s-_.total:s;return Object.assign({},e,{total:String((0,a.default)(i,6)),total_tax:String((0,a.default)(_.total,6)),taxes:_.taxes.map((t=>Object.assign({},t,{total:String((0,a.default)(t.total,6))})))})}),[c,t,o])}}}),3795,[1,17,1777,3796,3797,3778]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useFeeLineData=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=u?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.useFeeLineData=()=>{const{store:a}=(0,n.useAppState)(),u='yes'===(0,t.useObservableEagerState)(a.prices_include_tax$);return{getFeeLineData:e.useCallback((e=>(0,r.extractFeeLineData)(e,u)),[u])}}}),3796,[17,1170,3785,1168]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useCalculateTaxesFromValue=void 0;var t=e(_r(d[1])),a=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=r?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,a&&a.set(e,n),n})(_r(d[2])),n=e(_r(d[3])),r=_r(d[4]),u=_r(d[5]);const l=["amount","taxStatus","shipping"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}_e.useCalculateTaxesFromValue=()=>{const{rates:e,calcTaxes:s,pricesIncludeTax:o}=(0,u.useTaxRates)();return{calculateTaxesFromValue:a.useCallback((a=>{let{amount:u,taxStatus:c,shipping:i=!1}=a,f=(0,t.default)(a,l);const p=(0,n.default)(f.taxClass)?'standard':f.taxClass,x=f.amountIncludesTax??o;let _=e.filter((e=>e.class===p));return i&&(_=_.filter((e=>!0===e.shipping))),s&&'none'!==c&&0!==_.length?(0,r.calculateTaxes)({amount:u,rates:_,amountIncludesTax:x}):{total:0,taxes:[]}}),[s,o,e])}}}),3797,[1,31,17,1908,3463,3473]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.AddMiscProduct=void 0;var t=O(_r(d[1])),r=e(_r(d[2])),a=_r(d[3]),o=e(_r(d[4])),s=_r(d[5]),n=O(_r(d[6])),l=_r(d[7]),c=_r(d[8]),i=_r(d[9]),u=_r(d[10]),p=_r(d[11]),x=_r(d[12]),f=_r(d[13]),j=_r(d[14]),_=_r(d[15]),b=_r(d[16]);function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(F=function(e){return e?r:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=F(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var n=o?Object.getOwnPropertyDescriptor(e,s):null;n&&(n.get||n.set)?Object.defineProperty(a,s,n):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}const P=n.object({name:n.string().optional(),price:n.string().default('0'),sku:n.string().optional(),tax_status:n.enum(['taxable','none']),tax_class:n.string().optional()});_e.AddMiscProduct=()=>{const e=(0,u.useT)(),{addProduct:n}=(0,_.useAddProduct)(),{onOpenChange:F}=(0,l.useRootContext)(),O=(0,s.useForm)({resolver:(0,a.zodResolver)(P),defaultValues:{name:'',price:'0',sku:'',tax_status:'taxable',tax_class:'standard'}}),h=t.useCallback((t=>{const{name:r,price:a,sku:s,tax_status:l,tax_class:c}=t;n({id:0,name:(0,o.default)(r)?e('Product',{_tags:'core'}):r,price:(0,o.default)(a)?'0':a,sku:s,regular_price:(0,o.default)(a)?'0':a,tax_status:l?'taxable':'none',tax_class:'standard'===c?'':c}),F(!1)}),[n,F,e]);return(0,b.jsx)(c.Form,Object.assign({},O,{children:(0,b.jsxs)(i.VStack,{className:"gap-4",children:[(0,b.jsx)(x.FormErrors,{}),(0,b.jsxs)(i.VStack,{children:[(0,b.jsx)(c.FormField,{control:O.control,name:"name",render:({field:t})=>(0,b.jsx)(c.FormInput,Object.assign({label:e('Name',{_tags:'core'}),placeholder:e('Product',{_tags:'core'})},t))}),(0,b.jsx)(c.FormField,{control:O.control,name:"sku",render:({field:t})=>(0,b.jsx)(c.FormInput,Object.assign({label:e('SKU',{_tags:'core'})},t))}),(0,b.jsx)(c.FormField,{control:O.control,name:"price",render:({field:t})=>(0,b.jsx)(c.FormInput,Object.assign({customComponent:p.CurrencyInput,label:e('Price',{_tags:'core'}),placeholder:"0"},t))}),(0,b.jsxs)(r.default,{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(c.FormField,{control:O.control,name:"tax_class",render:({field:t})=>(0,b.jsx)(c.FormSelect,Object.assign({customComponent:f.TaxClassSelect,label:e('Tax Class',{_tags:'core'})},t))}),(0,b.jsx)(c.FormField,{control:O.control,name:"tax_status",render:({field:t})=>(0,b.jsx)(c.FormRadioGroup,Object.assign({label:e('Tax Status',{_tags:'core'}),customComponent:j.TaxStatusRadioGroup},t))})]})]}),(0,b.jsxs)(l.DialogFooter,{className:"px-0",children:[(0,b.jsx)(l.DialogClose,{children:e('Cancel',{_tags:'core'})}),(0,b.jsx)(l.DialogAction,{onPress:O.handleSubmit(h),children:e('Add to Cart',{_tags:'core'})})]})]})}))}}),3798,[1,17,320,3271,1908,3273,3274,3296,3275,1130,2083,3456,3400,3461,3462,3799,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useAddProduct=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a})(_r(d[1])),r=_r(d[2]),a=_r(d[3]),n=_r(d[4]),o=e(_r(d[5])),u=_r(d[6]),i=_r(d[7]),s=_r(d[8]),c=_r(d[9]),l=_r(d[10]),f=_r(d[11]),p=_r(d[12]);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}_e.useAddProduct=()=>{const{addItemToOrder:e}=(0,u.useAddItemToOrder)(),{calculateLineItemTaxesAndTotals:y}=(0,i.useCalculateLineItemTaxAndTotals)(),{currentOrder:O}=(0,p.useCurrentOrder)(),{updateLineItem:_}=(0,s.useUpdateLineItem)(),v=(0,l.useT)(),{uiSettings:P}=(0,f.useUISettings)('pos-products'),T=(0,r.useObservableEagerState)(P.metaDataKeys$);return{addProduct:t.useCallback((async t=>{let r,u=t;if((0,n.isRxDocument)(t)){u=t.getLatest().toMutableJSON()}if(!O.isNew&&0!==u.id){const e=O.getLatest().line_items??[],t=(0,c.findByProductVariationID)(e,u.id);if(1===t.length){const e=(0,c.getUuidFromLineItem)(t[0]);e&&(r=await _(e,{quantity:t[0].quantity+1}))}}if(!r){const t=T?T.split(','):[];let a=(0,c.convertProductToLineItemWithoutTax)(u,t);a=y(a),r=await e('line_items',a)}r?a.Toast.show({type:'success',text1:v('{name} added to cart',{_tags:'core',name:u.name})}):(o.default.error('Error adding product to order',{product:u.id}),a.Toast.show({type:'error',text1:v('Error adding {name} to cart',{_tags:'core',name:u.name})}))}),[O,_,T,y,e,v])}}}),3799,[1,17,1170,1139,1765,1767,3794,3800,3802,3785,2083,2382,3778]);
__d((function(g,_r,_i,_a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useCalculateLineItemTaxAndTotals=void 0;var a=(function(t,a){if(!a&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o(a);if(e&&e.has(t))return e.get(t);var l={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&{}.hasOwnProperty.call(t,n)){var r=u?Object.getOwnPropertyDescriptor(t,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=t[n]}return l.default=t,e&&e.set(t,l),l})(_r(d[1])),e=t(_r(d[2])),l=t(_r(d[3])),u=t(_r(d[4])),n=_r(d[5]),r=_r(d[6]),s=_r(d[7]);function o(t){if("function"!=typeof WeakMap)return null;var a=new WeakMap,e=new WeakMap;return(o=function(t){return t?e:a})(t)}_e.useCalculateLineItemTaxAndTotals=()=>{const{pricesIncludeTax:t}=(0,r.useTaxRates)(),{calculateTaxesFromValue:o}=(0,s.useCalculateTaxesFromValue)(),{getLineItemData:i}=(0,n.useLineItemData)();return{calculateLineItemTaxesAndTotals:a.useCallback((a=>{const{price:n,regular_price:r,tax_status:s}=i(a),c=a.quantity??0,f=n*c,x=r*c,p=o({amount:f,taxClass:a.tax_class??'',taxStatus:s,amountIncludesTax:t}),_=o({amount:x,taxClass:a.tax_class??'',taxStatus:s,amountIncludesTax:t}),T=o({amount:n,taxClass:a.tax_class??'',taxStatus:s,amountIncludesTax:t}),b=t?f-p.total:f,v=t?x-_.total:x,y=t?n-T.total:n,I=(O=_,S=p,j=!1,(0,u.default)([...O.taxes.map((t=>t.id)),...S.taxes.map((t=>t.id))]).map((t=>{const a=(0,e.default)(O.taxes,{id:t})||{total:0},u=(0,e.default)(S.taxes,{id:t})||{total:0};return{id:t,subtotal:j?'':String((0,l.default)(a.total,6)),total:String((0,l.default)(u.total,6))}})));var O,S,j;return Object.assign({},a,{price:(0,l.default)(y,6),total:String((0,l.default)(b,6)),subtotal:String((0,l.default)(v,6)),total_tax:String((0,l.default)(p.total,6)),subtotal_tax:String((0,l.default)(_.total,6)),taxes:I})}),[o,i,t])}}}),3800,[1,17,3367,1777,2065,3801,3473,3797]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLineItemData=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=u?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.useLineItemData=()=>{const{store:a}=(0,n.useAppState)(),u='yes'===(0,t.useObservableEagerState)(a.prices_include_tax$);return{getLineItemData:e.useCallback((e=>(0,r.extractLineItemData)(e,u)),[u])}}}),3801,[17,1170,3785,1168]);
__d((function(g,_r,_i,_a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useUpdateLineItem=void 0;var t=e(_r(d[1])),a=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n})(_r(d[2])),n=e(_r(d[3])),r=_r(d[4]),i=_r(d[5]),s=_r(d[6]),u=_r(d[7]),o=_r(d[8]),c=_r(d[9]);const l=["price","regular_price","tax_status"];function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}_e.useUpdateLineItem=()=>{const{currentOrder:e}=(0,c.useCurrentOrder)(),{localPatch:_}=(0,o.useLocalMutation)(),{calculateLineItemTaxesAndTotals:m}=(0,i.useCalculateLineItemTaxAndTotals)(),{getLineItemData:p}=(0,s.useLineItemData)();return{updateLineItem:a.useCallback((async(a,n)=>{const r=e.getLatest(),i=r.toMutableJSON();let s=!1;const o=i.line_items?.map((e=>{if(s||!e.meta_data?.some((e=>'_woocommerce_pos_uuid'===e.key&&e.value===a)))return e;const r=p(e),{price:i,regular_price:o,tax_status:c}=n,_=(0,t.default)(n,l);let f=Object.assign({},e,_);return f=(0,u.updatePosDataMeta)(f,{price:i??r.price,regular_price:o??r.regular_price,tax_status:c??r.tax_status}),f=m(f),s=!0,f}));if(s&&o)return _({document:r,data:{line_items:o}})}),[m,e,p,_]),splitLineItem:a.useCallback((async t=>{const a=e.getLatest(),i=a.line_items.findIndex((e=>e.meta_data.some((e=>'_woocommerce_pos_uuid'===e.key&&e.value===t))));if(-1===i)return void console.error('Line item not found');const s=a.line_items[i];if(s.quantity<=1)return void console.error('Line item quantity must be greater than 1');const u=m(Object.assign({},s,{quantity:1})),o=Math.floor(s.quantity),c=s.quantity-o,l=parseFloat(c.toFixed(6)),p=[Object.assign({},u)];(0,n.default)(u,'id');for(let e=1;e<o;e++){const e=Object.assign({},u,{meta_data:u.meta_data.map((e=>'_woocommerce_pos_uuid'===e.key?Object.assign({},e,{value:(0,r.v4)()}):e))});p.push(e)}if(l>0){const e=m(Object.assign({},u,{quantity:l})),t=Object.assign({},e,{quantity:l,meta_data:e.meta_data.map((e=>'_woocommerce_pos_uuid'===e.key?Object.assign({},e,{value:(0,r.v4)()}):e))});p.push(t)}const f=[...a.line_items.slice(0,i),...p,...a.line_items.slice(i+1)];return _({document:a,data:{line_items:f}})}),[m,e,_])}}}),3802,[1,31,17,2032,1929,3800,3801,3785,3401,3778]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.AddShipping=void 0;var t=C(_r(d[1])),o=e(_r(d[2])),a=_r(d[3]),n=e(_r(d[4])),s=_r(d[5]),r=_r(d[6]),l=C(_r(d[7])),i=_r(d[8]),c=_r(d[9]),u=_r(d[10]),p=_r(d[11]),_=_r(d[12]),x=_r(d[13]),h=_r(d[14]),j=_r(d[15]),f=_r(d[16]),b=_r(d[17]),F=_r(d[18]),S=_r(d[19]);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(O=function(e){return e?o:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=O(t);if(o&&o.has(e))return o.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var r=n?Object.getOwnPropertyDescriptor(e,s):null;r&&(r.get||r.set)?Object.defineProperty(a,s,r):a[s]=e[s]}return a.default=e,o&&o.set(e,a),a}const v=l.object({method_title:l.string().optional(),method_id:l.string().optional(),amount:l.string().optional(),prices_include_tax:l.boolean().optional(),tax_status:l.enum(['taxable','none']),tax_class:l.string().optional()});_e.AddShipping=()=>{const e=(0,_.useT)(),{addShipping:l}=(0,F.useAddShipping)(),{onOpenChange:O}=(0,i.useRootContext)(),{store:C}=(0,p.useAppState)(),y=(0,s.useObservableEagerState)(C.shipping_tax_class$),A=(0,r.useForm)({resolver:(0,a.zodResolver)(v),defaultValues:{method_title:'',method_id:'',amount:'0',prices_include_tax:!0,tax_status:'taxable',tax_class:y}}),M=t.useCallback((t=>{const{method_title:o,method_id:a,amount:s,tax_status:r,tax_class:i,prices_include_tax:c}=t;l({method_title:(0,n.default)(o)?e('Shipping',{_tags:'core'}):o,method_id:(0,n.default)(a)?'local_pickup':a,amount:(0,n.default)(s)?'0':s,tax_status:r,tax_class:'standard'===i?'':i,prices_include_tax:c}),O(!1)}),[l,O,e]);return(0,S.jsx)(c.Form,Object.assign({},A,{children:(0,S.jsxs)(u.VStack,{className:"gap-4",children:[(0,S.jsx)(h.FormErrors,{}),(0,S.jsx)(u.VStack,{children:(0,S.jsxs)(o.default,{className:"grid grid-cols-2 gap-4",children:[(0,S.jsx)(c.FormField,{control:A.control,name:"method_title",render:({field:t})=>(0,S.jsx)(c.FormInput,Object.assign({label:e('Shipping Method Title',{_tags:'core'}),placeholder:e('Shipping',{_tags:'core'})},t))}),(0,S.jsx)(c.FormField,{control:A.control,name:"method_id",render:({field:t})=>(0,S.jsx)(c.FormSelect,Object.assign({customComponent:j.ShippingMethodSelect,label:e('Shipping Method',{_tags:'core'})},t))}),(0,S.jsx)(c.FormField,{control:A.control,name:"amount",render:({field:t})=>(0,S.jsx)(c.FormInput,Object.assign({customComponent:x.CurrencyInput,label:e('Amount',{_tags:'core'})},t))}),(0,S.jsx)(o.default,{className:"justify-center",children:(0,S.jsx)(c.FormField,{control:A.control,name:"prices_include_tax",render:({field:t})=>(0,S.jsx)(c.FormSwitch,Object.assign({label:e('Amount Includes Tax',{_tags:'core'})},t))})}),(0,S.jsx)(c.FormField,{control:A.control,name:"tax_class",render:({field:t})=>(0,S.jsx)(c.FormSelect,Object.assign({label:e('Tax Class',{_tags:'core'}),customComponent:f.TaxClassSelect},t))}),(0,S.jsx)(c.FormField,{control:A.control,name:"tax_status",render:({field:t})=>(0,S.jsx)(c.FormRadioGroup,Object.assign({label:e('Tax Status',{_tags:'core'}),customComponent:b.TaxStatusRadioGroup},t))})]})}),(0,S.jsxs)(i.DialogFooter,{className:"px-0",children:[(0,S.jsx)(i.DialogClose,{children:e('Cancel',{_tags:'core'})}),(0,S.jsx)(i.DialogAction,{onPress:A.handleSubmit(M),children:e('Add to Cart',{_tags:'core'})})]})]})}))}}),3803,[1,17,320,3271,1908,1170,3273,3274,3296,3275,1130,1168,2083,3456,3400,3804,3461,3462,3805,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ShippingMethodSelect=void 0;var t=e(_r(d[1])),l=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=s(t);if(l&&l.has(e))return l.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var u=r?Object.getOwnPropertyDescriptor(e,n):null;u&&(u.get||u.set)?Object.defineProperty(a,n,u):a[n]=e[n]}return a.default=e,l&&l.set(e,a),a})(_r(d[2])),a=_r(d[3]),r=_r(d[4]),n=_r(d[5]),u=_r(d[6]),o=_r(d[7]),i=_r(d[8]);const c=["onValueChange","value"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(s=function(e){return e?l:t})(e)}_e.ShippingMethodSelect=l.forwardRef(((e,s)=>{let{onValueChange:p,value:f}=e;(0,t.default)(e,c);const{extraData:h}=(0,o.useExtraData)(),v=(0,a.useObservableEagerState)(h.shippingMethods$),[b,j]=l.useState(0),S=(0,u.useT)(),y=l.useMemo((()=>(v||[]).map((e=>({label:e.title,value:e.id})))),[v]),_=y.find((e=>e.value===f?.value))?.label;return(0,i.jsxs)(r.Select,{ref:s,value:Object.assign({},f,{label:_}),onValueChange:p,children:[(0,i.jsx)(r.SelectTrigger,{onLayout:e=>{j(e.nativeEvent.layout.width)},children:(0,i.jsx)(r.SelectValue,{placeholder:S('Select Shipping Method',{_tags:'core'})})}),(0,i.jsx)(r.SelectContent,{style:{width:b},children:(0,i.jsx)(r.SelectGroup,{children:y.map((e=>(0,i.jsx)(r.SelectItem,{label:e.label,value:e.value,children:(0,i.jsx)(n.Text,{children:e.label})},e.value)))})})]})}))}),3804,[1,31,17,1170,3300,1100,2083,3430,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useAddShipping=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,a&&a.set(e,r),r})(_r(d[1])),a=_r(d[2]),r=e(_r(d[3])),n=_r(d[4]),i=_r(d[5]),o=_r(d[6]);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}_e.useAddShipping=()=>{const{addItemToOrder:e}=(0,n.useAddItemToOrder)(),u=(0,o.useT)(),{calculateShippingLineTaxesAndTotals:s}=(0,i.useCalculateShippingLineTaxAndTotals)();return{addShipping:t.useCallback((async t=>{try{const a=Array.isArray(t.meta_data)?[...t.meta_data]:[];a.push({key:'_woocommerce_pos_data',value:JSON.stringify({amount:t.amount,prices_include_tax:t.prices_include_tax,tax_class:t.tax_class,tax_status:t.tax_status})});const r=s({method_title:t.method_title,method_id:t.method_id,meta_data:a});await e('shipping_lines',r)}catch(e){r.default.error(e),a.Toast.show({type:'error',text1:u('Error adding Shipping to cart',{_tags:'core'})})}}),[e,s,u])}}}),3805,[1,17,1139,1767,3794,3806,2083]);
__d((function(g,_r,_i,_a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useCalculateShippingLineTaxAndTotals=void 0;var e=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=u(e);if(a&&a.has(t))return a.get(t);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&{}.hasOwnProperty.call(t,l)){var i=r?Object.getOwnPropertyDescriptor(t,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=t[l]}return n.default=t,a&&a.set(t,n),n})(_r(d[1])),a=t(_r(d[2])),n=_r(d[3]),r=_r(d[4]);function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(u=function(t){return t?a:e})(t)}_e.useCalculateShippingLineTaxAndTotals=()=>{const{calculateTaxesFromValue:t}=(0,r.useCalculateTaxesFromValue)(),{getShippingLineData:u}=(0,n.useShippingLineData)();return{calculateShippingLineTaxesAndTotals:e.useCallback((e=>{const{amount:n,prices_include_tax:r,tax_status:l,tax_class:i}=u(e),o=t({amount:n,taxClass:i,taxStatus:l,amountIncludesTax:r,shipping:!0}),s=r?n-o.total:n;return Object.assign({},e,{total:String((0,a.default)(s,6)),total_tax:String((0,a.default)(o.total,6)),taxes:o.taxes.map((t=>Object.assign({},t,{total:String((0,a.default)(t.total,6))})))})}),[t,u])}}}),3806,[1,17,1777,3807,3797]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useShippingLineData=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var p=i?Object.getOwnPropertyDescriptor(e,u):null;p&&(p.get||p.set)?Object.defineProperty(n,u,p):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.useShippingLineData=()=>{const{store:a}=(0,n.useAppState)(),i=(0,t.useObservableEagerState)(a.shipping_tax_class$),u='yes'===(0,t.useObservableEagerState)(a.prices_include_tax$);return{getShippingLineData:e.useCallback((e=>(0,r.extractShippingLineData)(e,u,i)),[u,i])}}}),3807,[17,1170,3785,1168]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.AddNoteButton=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),o=_r(d[4]),a=_r(d[5]),i=_r(d[6]),l=_r(d[7]),s=_r(d[8]);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}_e.AddNoteButton=()=>{const{currentOrder:u}=(0,l.useCurrentOrder)(),c=(0,t.useObservableEagerState)(u.customer_note$),f=(0,a.useT)(),{localPatch:h}=(0,i.useLocalMutation)(),[j,p]=e.useState(!1),[_,O]=e.useState(c);e.useEffect((()=>{O(c)}),[c]);const x=e.useCallback((async()=>{await h({document:u,data:{customer_note:_}}),p(!1)}),[u,h,_]);return(0,s.jsxs)(n.Dialog,{open:j,onOpenChange:p,children:[(0,s.jsx)(n.DialogTrigger,{asChild:!0,children:(0,s.jsx)(r.Button,{variant:"outline",children:f('Order Note',{_tags:'core'})})}),(0,s.jsxs)(n.DialogContent,{children:[(0,s.jsx)(n.DialogHeader,{children:(0,s.jsx)(n.DialogTitle,{children:f('Order Note',{_tags:'core'})})}),(0,s.jsx)(n.DialogBody,{children:(0,s.jsx)(o.Textarea,{autoFocus:!0,value:_,minHeight:80,onChangeText:O})}),(0,s.jsxs)(n.DialogFooter,{children:[(0,s.jsx)(n.DialogClose,{children:f('Cancel',{_tags:'core'})}),(0,s.jsx)(n.DialogAction,{onPress:x,children:f('Add Note',{_tags:'core'})})]})]})]})}}),3808,[17,1170,1167,3296,3320,2083,3401,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.OrderMetaButton=void 0;!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,t&&t.set(e,n)})(_r(d[0]));var e=_r(d[1]),r=_r(d[2]),t=_r(d[3]),n=_r(d[4]),o=_r(d[5]),i=_r(d[6]);function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}_e.OrderMetaButton=()=>{const{currentOrder:a}=(0,o.useCurrentOrder)(),l=(0,n.useT)();return(0,i.jsxs)(r.Dialog,{children:[(0,i.jsx)(r.DialogTrigger,{asChild:!0,children:(0,i.jsx)(e.Button,{variant:"outline",children:l('Order Meta',{_tags:'core'})})}),(0,i.jsxs)(r.DialogContent,{size:"lg",children:[(0,i.jsx)(r.DialogHeader,{children:(0,i.jsx)(r.DialogTitle,{children:l('Order Meta',{_tags:'core'})})}),(0,i.jsx)(r.DialogBody,{children:(0,i.jsx)(t.EditOrderMeta,{order:a})})]})]})}}),3809,[17,1167,3296,3810,2083,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditOrderMeta=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}return a.default=e,t&&t.set(e,a),a})(_r(d[0])),r=_r(d[1]),t=_r(d[2]),a=_r(d[3]),n=_r(d[4]),s=_r(d[5]),o=_r(d[6]),c=_r(d[7]);function l(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:r})(e)}_e.EditOrderMeta=({order:l})=>{const i=(0,o.useT)(),[u,f]=e.useState('form'),j=(0,r.useObservablePickState)(l.$,(()=>{const e=l.getLatest();return{currency:e.currency,transaction_id:e.transaction_id,meta_data:e.meta_data}}),'currency','transaction_id','meta_data');return(0,c.jsxs)(t.Tabs,{value:u,onValueChange:f,children:[(0,c.jsxs)(t.TabsList,{className:"flex-row w-full",children:[(0,c.jsx)(t.TabsTrigger,{value:"form",className:"flex-1",children:(0,c.jsx)(a.Text,{children:i('Form',{_tags:'core'})})}),(0,c.jsx)(t.TabsTrigger,{value:"json",className:"flex-1",children:(0,c.jsx)(a.Text,{children:i('JSON',{_tags:'core'})})})]}),(0,c.jsx)(t.TabsContent,{value:"form",children:(0,c.jsx)(s.EditOrderMetaForm,{order:l,formData:j})}),(0,c.jsx)(t.TabsContent,{value:"json",children:(0,c.jsx)(n.Tree,{value:l.getLatest().toJSON()})})]})}}),3810,[17,1170,3402,1100,2390,3811,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditOrderMetaForm=void 0;var r=x(_r(d[1])),t=e(_r(d[2])),a=_r(d[3]),o=_r(d[4]),n=x(_r(d[5])),s=_r(d[6]),c=_r(d[7]),l=_r(d[8]),i=_r(d[9]),u=_r(d[10]),f=_r(d[11]),j=_r(d[12]),p=_r(d[13]),b=_r(d[14]);function _(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_=function(e){return e?t:r})(e)}function x(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var s=o?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(a,n,s):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a}const O=n.object({currency:n.string().optional(),transaction_id:n.string().optional(),meta_data:j.metaDataSchema});_e.EditOrderMetaForm=({order:e,formData:n})=>{const _=(0,i.useT)(),{localPatch:x}=(0,p.useLocalMutation)(),{onOpenChange:y}=(0,s.useRootContext)(),h=(0,o.useForm)({resolver:(0,a.zodResolver)(O),defaultValues:Object.assign({},n)});r.useEffect((()=>{h.reset(Object.assign({},n))}),[n,h]);const F=r.useCallback((async r=>{await x({document:e,data:r}),y(!1)}),[x,y,e]);return(0,b.jsx)(c.Form,Object.assign({},h,{children:(0,b.jsxs)(l.VStack,{className:"gap-4",children:[(0,b.jsx)(f.FormErrors,{}),(0,b.jsxs)(l.VStack,{children:[(0,b.jsxs)(t.default,{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(c.FormField,{control:h.control,name:"currency",render:({field:e})=>(0,b.jsx)(c.FormCombobox,Object.assign({customComponent:u.CurrencySelect,label:_('Currency',{_tags:'core'})},e))}),(0,b.jsx)(c.FormField,{control:h.control,name:"transaction_id",render:({field:e})=>(0,b.jsx)(c.FormInput,Object.assign({label:_('Transaction ID',{_tags:'core'})},e))})]}),(0,b.jsx)(j.MetaDataForm,{})]}),(0,b.jsxs)(s.DialogFooter,{className:"px-0",children:[(0,b.jsx)(s.DialogClose,{children:_('Cancel',{_tags:'core'})}),(0,b.jsx)(s.DialogAction,{onPress:h.handleSubmit(F),children:_('Save',{_tags:'core'})})]})]})}))}}),3811,[1,17,320,3271,3273,3274,3296,3275,1130,2083,3441,3400,3407,3401,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PayButton=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n})(_r(d[1])),r=_r(d[2]),n=_r(d[3]),a=_r(d[4]),o=_r(d[5]),u=_r(d[6]),s=_r(d[7]),c=e(_r(d[8])),l=_r(d[9]),i=_r(d[10]),f=_r(d[11]);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}_e.PayButton=()=>{const{currentOrder:e}=(0,i.useCurrentOrder)(),p=(0,n.useObservableEagerState)(e.total$),{format:y}=(0,l.useCurrentOrderCurrencyFormat)(),_=(0,r.useNavigation)(),[v,O]=t.useState(!1),b=(0,c.default)(),h=(0,s.useT)(),P=t.useCallback((async()=>{O(!0);try{await b(e).then((t=>{(0,a.isRxDocument)(t)&&_.dispatch(r.StackActions.push('Checkout',{orderID:e.uuid}))}))}catch(e){u.Toast.show({type:'error',text1:h('{message}',{_tags:'core',message:e.message||'Error'})})}finally{O(!1)}}),[b,e,_,h]);return(0,f.jsx)(o.Button,{size:"lg",onPress:P,variant:"success",className:"rounded-t-none rounded-bl-none flex-[3]",loading:v,children:h('Checkout {order_total}',{order_total:y(parseFloat(p)||0),_tags:'core'})})}}),3812,[1,17,487,1170,1398,1167,1139,2083,3408,3813,3778,483]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useCurrentOrderCurrencyFormat=void 0;var u=r(d[0]),t=r(d[1]),n=r(d[2]);e.useCurrentOrderCurrencyFormat=c=>{const{currentOrder:o}=(0,n.useCurrentOrder)(),s=(0,u.useObservableEagerState)(o.currency_symbol$),{format:y}=(0,t.useCurrencyFormat)(Object.assign({currencySymbol:s},c));return{format:y}}}),3813,[1170,3434,3778]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SaveButton=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n})(_r(d[1])),r=e(_r(d[2])),n=_r(d[3]),a=_r(d[4]),o=_r(d[5]),u=_r(d[6]),s=e(_r(d[7])),c=_r(d[8]),i=_r(d[9]);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}_e.SaveButton=()=>{const{currentOrder:e}=(0,c.useCurrentOrder)(),l=(0,s.default)(),[f,p]=t.useState(!1),v=(0,u.useT)(),y=t.useCallback((async()=>{p(!0);try{await l(e).then((e=>{(0,n.isRxDocument)(e)&&o.Toast.show({type:'success',text1:v('Order #{number} saved',{_tags:'core',number:e.number})})}))}catch(e){o.Toast.show({type:'error',text1:v('{message}',{_tags:'core',message:e.message||'Error'})})}finally{p(!1)}}),[e,l,v]);return(0,i.jsx)(r.default,{children:(0,i.jsx)(a.Button,{variant:"outline",onPress:y,loading:f,disabled:f,children:v('Save to Server',{_tags:'core'})})})}}),3814,[1,17,320,1398,1167,1139,2083,3408,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.VoidButton=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n})(_r(d[1])),r=_r(d[2]),n=_r(d[3]),o=_r(d[4]),a=e(_r(d[5])),u=_r(d[6]),c=e(_r(d[7])),i=_r(d[8]),s=_r(d[9]);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}_e.VoidButton=()=>{const{currentOrder:e}=(0,i.useCurrentOrder)(),l=(0,r.useNavigation)(),f=(0,c.default)(),p=(0,u.useT)(),v=t.useCallback((async t=>{try{await e.collection.insert(t),l.setParams({orderID:t.uuid})}catch(e){a.default.error(e)}}),[l,e.collection]),y=t.useCallback((async()=>{const t=await e.toPopulatedJSON(),r=e.getLatest();r.id&&f(r.id,r.collection),r.remove(),o.Toast.show({type:'success',text1:p('Order removed',{_tags:'core'}),props:{dismissable:!0,action:{label:p('Undo',{_tags:'core'}),action:()=>v(t)}}})}),[e,p,f,v]);return(0,s.jsx)(n.Button,{size:"lg",onPress:y,variant:"destructive",className:"rounded-t-none rounded-br-none flex-1",children:p('Void',{_tags:'core'})})}}),3815,[1,17,487,1167,1139,1767,2083,3409,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.CartHeader=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),s=_r(d[4]),o=_r(d[5]),a=_r(d[6]),i=_r(d[7]),l=_r(d[8]),u=_r(d[9]),c=_r(d[10]),f=_r(d[11]),x=_r(d[12]),j=_r(d[13]),h=_r(d[14]),p=_r(d[15]),C=_r(d[16]);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}_e.CartHeader=()=>{const{addCustomer:b}=(0,p.useAddCustomer)(),[_,y]=e.useState(!1),P=(0,f.useT)(),v=e.useRef(null),{isPro:w}=(0,h.useLicense)(),S=e.useCallback((async({item:e})=>{e&&await b(e),y(!1)}),[b]);e.useEffect((()=>{_&&v?.current&&v.current.open()}),[_]);const T=e.useCallback((e=>{e||setTimeout((()=>{y(!1)}),10)}),[]);return(0,C.jsxs)(s.HStack,{children:[(0,C.jsxs)(s.HStack,{className:"flex-wrap flex-1",children:[(0,C.jsxs)(a.Text,{className:"font-bold",children:[P('Customer',{_tags:'core'}),":"]}),(0,C.jsx)(n.ErrorBoundary,{children:_?(0,C.jsxs)(r.Combobox,{onValueChange:S,onOpenChange:T,children:[(0,C.jsx)(r.ComboboxTriggerPrimitive,{ref:v,asChild:!0,children:(0,C.jsx)(t.ButtonPill,{size:"xs",leftIcon:"user",variant:"muted",children:(0,C.jsx)(t.ButtonText,{children:P('Select Customer',{_tags:'core'})})})}),(0,C.jsx)(r.ComboboxContent,{children:(0,C.jsx)(x.CustomerSearch,{withGuest:!0})})]}):(0,C.jsx)(u.Customer,{setShowCustomerSelect:y})})]}),w?(0,C.jsx)(l.AddNewCustomer,{}):(0,C.jsxs)(i.Tooltip,{children:[(0,C.jsx)(i.TooltipTrigger,{asChild:!0,children:(0,C.jsx)(o.IconButton,{disabled:!0,name:"userPlus"})}),(0,C.jsx)(i.TooltipContent,{children:(0,C.jsx)(a.Text,{children:P('Upgrade to Pro',{_tags:'core'})})})]}),(0,C.jsx)(j.UISettingsDialog,{title:P('Cart Settings',{_tags:'core'}),children:(0,C.jsx)(c.UISettingsForm,{})})]})}}),3816,[17,1167,3406,888,891,1102,1100,1103,3817,3818,3820,2083,3445,3322,3762,3821,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.AddNewCustomer=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=n?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o})(_r(d[1])),r=_r(d[2]),o=_r(d[3]),n=_r(d[4]),s=_r(d[5]),a=_r(d[6]),i=_r(d[7]),l=_r(d[8]),c=_r(d[9]),u=_r(d[10]),f=_r(d[11]),p=_r(d[12]),h=_r(d[13]),j=_r(d[14]),x=e(_r(d[15])),y=_r(d[16]),_=_r(d[17]);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}_e.AddNewCustomer=()=>{const e=(0,f.useT)(),[w,v]=t.useState(!1),{create:O}=(0,j.useMutation)({collectionName:'customers'}),[b,C]=t.useState(!1),{format:P}=(0,x.default)(),{currentOrder:T}=(0,y.useCurrentOrder)(),{localPatch:D}=(0,h.useLocalMutation)(),M=(0,o.useForm)({resolver:(0,r.zodResolver)(p.customerFormSchema),defaultValues:{}});t.useEffect((()=>{w||M.reset({})}),[M,w]);const S=t.useCallback((async t=>{C(!0);try{const r=await O({data:t});if((0,n.isRxDocument)(r)&&(c.Toast.show({type:'success',text1:e('{name} saved',{_tags:'core',name:P(r)})}),T)){const e=r.toJSON();await D({document:T,data:{customer_id:e.id,billing:e.billing,shipping:e.shipping}}),v(!1)}}catch(t){c.Toast.show({type:'error',text1:e('{message}',{_tags:'core',message:t.message||'Error'})})}finally{C(!1)}}),[O,T,P,D,e]);return(0,_.jsx)(a.ErrorBoundary,{children:(0,_.jsxs)(s.Dialog,{open:w,onOpenChange:v,children:[(0,_.jsxs)(u.Tooltip,{children:[(0,_.jsx)(u.TooltipTrigger,{asChild:!0,onPress:()=>v(!0),children:(0,_.jsx)(i.IconButton,{name:"userPlus"})}),(0,_.jsx)(u.TooltipContent,{children:(0,_.jsx)(l.Text,{children:e('Add new customer',{_tags:'core'})})})]}),(0,_.jsxs)(s.DialogContent,{size:"lg",children:[(0,_.jsx)(s.DialogHeader,{children:(0,_.jsx)(s.DialogTitle,{children:e('Add new customer',{_tags:'core'})})}),(0,_.jsx)(s.DialogBody,{children:(0,_.jsx)(p.CustomerForm,{form:M,onClose:()=>v(!1),onSubmit:S,loading:b})})]})]})})}}),3817,[1,17,3271,3273,1398,3296,888,1102,1100,1139,1103,2083,3410,3401,3423,3424,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Customer=void 0;var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n})(_r(d[1])),t=_r(d[2]),n=_r(d[3]),o=_r(d[4]),i=_r(d[5]),l=_r(d[6]),s=e(_r(d[7])),a=_r(d[8]),u=_r(d[9]);function c(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:r})(e)}_e.Customer=({setShowCustomerSelect:e})=>{const{currentOrder:c}=(0,a.useCurrentOrder)(),f=(0,t.useObservableEagerState)(c.billing$),p=(0,t.useObservableEagerState)(c.shipping$),b=(0,t.useObservableEagerState)(c.customer_id$),{format:h}=(0,s.default)(),j=h({billing:f,shipping:p,id:b}),v=(0,l.useT)(),[O,_]=r.useState(!1);return(0,u.jsxs)(o.Dialog,{open:O,onOpenChange:_,children:[(0,u.jsx)(o.DialogTrigger,{asChild:!0,children:(0,u.jsx)(n.ButtonPill,{size:"xs",leftIcon:"user",removable:!0,onRemove:()=>e(!0),children:(0,u.jsx)(n.ButtonText,{children:j})})}),(0,u.jsxs)(o.DialogContent,{size:"lg",children:[(0,u.jsx)(o.DialogHeader,{children:(0,u.jsx)(o.DialogTitle,{children:v('Edit Customer Address',{_tags:'core'})})}),(0,u.jsx)(o.DialogBody,{children:(0,u.jsx)(i.EditCartCustomerForm,{})})]})]})}}),3818,[1,17,1170,1167,3296,3819,2083,3424,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditCartCustomerForm=void 0;var s=N(_r(d[1])),t=_r(d[2]),r=_r(d[3]),a=_r(d[4]),i=_r(d[5]),n=N(_r(d[6])),o=_r(d[7]),l=_r(d[8]),c=_r(d[9]),u=_r(d[10]),p=_r(d[11]),h=_r(d[12]),b=_r(d[13]),f=_r(d[14]),x=_r(d[15]),j=_r(d[16]),O=_r(d[17]),y=_r(d[18]),C=_r(d[19]),_=_r(d[20]),S=_r(d[21]),v=e(_r(d[22])),w=_r(d[23]),P=_r(d[24]);function M(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(M=function(e){return e?t:s})(e)}function N(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=M(s);if(t&&t.has(e))return t.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var n=a?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(r,i,n):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}const T=n.object(Object.assign({},j.billingAddressSchema.shape,y.shippingAddressSchema.shape));_e.EditCartCustomerForm=s.forwardRef(((e,n)=>{const M=(0,x.useT)(),{currentOrder:N}=(0,w.useCurrentOrder)(),A=(0,r.useObservableEagerState)(N.customer_id$),E=(0,r.useObservableEagerState)(N.billing$),F=(0,r.useObservableEagerState)(N.shipping$),k=s.useMemo((()=>JSON.parse(JSON.stringify(E))),[E]),D=s.useMemo((()=>JSON.parse(JSON.stringify(F))),[F]),{localPatch:V}=(0,C.useLocalMutation)(),{patch:B}=(0,_.useMutation)({collectionName:'customers'}),{onOpenChange:J}=(0,c.useRootContext)(),{collection:R}=(0,S.useCollection)('customers'),{format:W}=(0,v.default)(),[$,z]=s.useState(!1),H=(0,a.useForm)({resolver:(0,t.zodResolver)(T),defaultValues:{billing:k,shipping:D}});s.useEffect((()=>{H.reset({billing:k,shipping:D})}),[k,D,H]);const L=async e=>{await V({document:N,data:{billing:e.billing,shipping:e.shipping}})},q=async e=>{await L(e);const s=await R.findOne({selector:{id:A}}).exec();s||b.Toast.show({type:'error',text1:M('No customer found',{_tags:'core'})}),z(!0);try{const t=await B({document:s,data:{billing:e.billing,shipping:e.shipping}});(0,i.isRxDocument)(t)&&b.Toast.show({type:'success',text1:M('{name} saved',{_tags:'core',name:W(t)})})}catch(e){b.Toast.show({type:'error',text1:M('{message}',{_tags:'core',message:e.message||'Error'})})}finally{z(!1)}},G=s.useCallback((()=>{const e=H.getValues().billing;H.setValue('shipping',e)}),[H]);return(0,P.jsx)(u.Form,Object.assign({},H,{children:(0,P.jsxs)(f.VStack,{className:"gap-4",children:[(0,P.jsx)(O.FormErrors,{}),(0,P.jsxs)(l.Collapsible,{defaultOpen:!0,children:[(0,P.jsx)(l.CollapsibleTrigger,{children:(0,P.jsx)(h.Text,{children:M('Billing Address',{_tags:'core'})})}),(0,P.jsx)(l.CollapsibleContent,{children:(0,P.jsx)(j.BillingAddressForm,{})})]}),(0,P.jsxs)(l.Collapsible,{children:[(0,P.jsx)(p.HStack,{children:(0,P.jsx)(l.CollapsibleTrigger,{children:(0,P.jsx)(h.Text,{children:M('Shipping Address',{_tags:'core'})})})}),(0,P.jsx)(l.CollapsibleContent,{children:(0,P.jsxs)(f.VStack,{className:"gap-4",children:[(0,P.jsx)(o.Button,{variant:"muted",onPress:G,children:(0,P.jsx)(o.ButtonText,{children:M('Copy billing address to shipping address',{_tags:'core'})})}),(0,P.jsx)(y.ShippingAddressForm,{})]})})]}),(0,P.jsxs)(c.DialogFooter,{className:"px-0",children:[(0,P.jsx)(c.DialogClose,{children:M('Close',{_tags:'core'})}),0!==A&&(0,P.jsx)(c.DialogAction,{onPress:async()=>{await H.handleSubmit(q)(),J(!1)},loading:$,children:M('Save to Order & Customer',{_tags:'core'})}),(0,P.jsx)(c.DialogAction,{onPress:async()=>{await H.handleSubmit(L)(),J(!1)},children:M('Save to Order',{_tags:'core'})})]})]})}))}))}),3819,[1,17,3271,1170,3273,1398,3274,1167,3324,3296,3275,891,1100,1139,1130,2083,3411,3400,3422,3401,3423,3389,3424,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.schema=_e.UISettingsForm=void 0;var e=f(_r(d[0])),t=_r(d[1]),n=_r(d[2]),r=_r(d[3]),o=f(_r(d[4])),s=_r(d[5]),c=_r(d[6]),a=_r(d[7]),i=_r(d[8]),l=_r(d[9]);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var c=o?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(r,s,c):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}const p=_e.schema=o.object(Object.assign({autoShowReceipt:o.boolean(),autoPrintReceipt:o.boolean(),quickDiscounts:o.string().optional()},a.columnsFormSchema.shape));_e.UISettingsForm=()=>{const{uiSettings:o,getUILabel:u,resetUI:f,patchUI:b}=(0,i.useUISettings)('pos-cart'),j=(0,n.useObservableState)(o.$,o.get()),{buttonPressHandlerRef:h}=(0,a.useDialogContext)();h.current=f;const F=(0,r.useForm)({resolver:(0,t.zodResolver)(p),defaultValues:Object.assign({},j)});return e.useEffect((()=>{F.reset(Object.assign({},j))}),[j,F]),(0,s.useFormChangeHandler)({form:F,onChange:b}),(0,l.jsx)(c.VStack,{space:"lg",children:(0,l.jsx)(s.Form,Object.assign({},F,{children:(0,l.jsxs)(c.VStack,{children:[(0,l.jsx)(s.FormField,{control:F.control,name:"autoShowReceipt",render:({field:e})=>(0,l.jsx)(s.FormSwitch,Object.assign({label:u('autoShowReceipt')},e))}),(0,l.jsx)(s.FormField,{control:F.control,name:"autoPrintReceipt",render:({field:e})=>(0,l.jsx)(s.FormSwitch,Object.assign({label:u('autoPrintReceipt')},e))}),(0,l.jsx)(s.FormField,{control:F.control,name:"quickDiscounts",render:({field:e})=>(0,l.jsx)(s.FormInput,Object.assign({label:u('quickDiscounts')},e))}),(0,l.jsx)(a.UISettingsColumnsForm,{columns:j.columns,getUILabel:u})]})}))})}}),3820,[17,3271,1170,3273,3274,3275,1130,3322,2382,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useAddCustomer=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var u={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(u,o,a):u[o]=e[o]}return u.default=e,r&&r.set(e,u),u})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),u=_r(d[3]),n=_r(d[4]),o=_r(d[5]),a=_r(d[6]),s=_r(d[7]);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}_e.useAddCustomer=()=>{const{currentOrder:l}=(0,s.useCurrentOrder)(),c=(0,a.useGuestCustomer)(),{localPatch:i}=(0,o.useLocalMutation)(),{store:f}=(0,n.useAppState)(),p=(0,t.useObservableEagerState)(f.store_country$);return{addCustomer:e.useCallback((async e=>{let t=(0,r.isRxDocument)(e)?e.toMutableJSON():e;return t=0!==t.id||t.billing||t.shipping?t:c,i({document:l,data:(0,u.transformCustomerJSONToOrderJSON)(t,p)})}),[p,l,c,i])}}}),3821,[17,1170,1398,3785,1168,3401,3439,3778]);
__d((function(g,_r,_i,_a,m,_e,_d){var e=_r(_d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.CartTable=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var l={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=r?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(l,u,i):l[u]=e[u]}return l.default=e,n&&n.set(e,l),l})(_r(_d[1])),n=e(_r(_d[2])),l=_r(_d[3]),r=e(_r(_d[4])),u=e(_r(_d[5])),i=_r(_d[6]),a=_r(_d[7]),o=_r(_d[8]),s=_r(_d[9]),c=_r(_d[10]),d=_r(_d[11]),f=_r(_d[12]),p=_r(_d[13]),h=_r(_d[14]),b=_r(_d[15]),w=_r(_d[16]),y=_r(_d[17]),x=_r(_d[18]),_=_r(_d[19]),j=_r(_d[20]),R=_r(_d[21]),T=_r(_d[22]),O=_r(_d[23]),P=_r(_d[24]),M=_r(_d[25]),v=_r(_d[26]),C=_r(_d[27]),S=_r(_d[28]);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const A={line_items:{actions:d.Actions,name:w.ProductName,price:b.Price,regular_price:_.RegularPrice,quantity:x.Quantity,subtotal:T.Subtotal,total:y.ProductTotal,sku:C.SKU},fee_lines:{actions:d.Actions,name:p.FeeName,price:h.FeePrice,quantity:()=>null,subtotal:()=>null,total:f.FeeAndShippingTotal,sku:()=>null},shipping_lines:{actions:d.Actions,name:R.ShippingTitle,price:j.ShippingPrice,quantity:()=>null,subtotal:()=>null,total:f.FeeAndShippingTotal,sku:()=>null}},D=(e,t)=>e.map((e=>({item:e,uuid:(0,v.getUuidFromLineItem)(e),type:t})));_e.CartTable=()=>{const{uiSettings:e,getUILabel:d}=(0,O.useUISettings)('pos-cart'),f=(0,i.useObservableEagerState)(e.columns$),{line_items:p,fee_lines:h,shipping_lines:b}=(0,M.useCartLines)(),w=t.useRef(new Map),y=t.useRef(null),{currentOrder:x}=(0,P.useCurrentOrder)(),_=t.useRef([]),j=t.useRef(null),R=t.useRef(null);R.current=x;const T=t.useMemo((()=>[...D(p,'line_items'),...D(h,'fee_lines'),...D(b,'shipping_lines')]),[p,h,b]),v=t.useMemo((()=>{if(!R?.current.uuid)return[];if(R.current.uuid!==j?.current?.uuid)return j.current=R.current,_.current=T,[];const e=T.reduce(((e,t)=>{const n=_.current.find((e=>e.uuid===t.uuid));return n?'line_items'===t.type&&t.item.quantity!==n.item.quantity&&e.push(t.uuid):e.push(t.uuid),e}),[]);return e.length>0&&(_.current=T),e}),[T]),C=t.useMemo((()=>f.filter((e=>e.show)).map((e=>({accessorKey:e.key,header:({column:e})=>(0,S.jsx)(c.Text,{className:'font-medium text-muted-foreground',numberOfLines:1,children:d(e.id)}),cell:e=>{const t=(0,u.default)(A,[e.row.original.type,e.column.id]);return t?(0,S.jsx)(a.ErrorBoundary,{children:(0,S.jsx)(t,Object.assign({},e))}):null},meta:Object.assign({},e,{show:t=>{const n=(0,r.default)(e.display,{key:t});return!(!n||!n.show)}})})))),[f,d]),k=(0,l.useReactTable)({data:T,columns:C,getCoreRowModel:(0,l.getCoreRowModel)(),getRowId:e=>e.uuid,meta:{onChange:e=>{console.log('onChange called without handler',e)},rowRefs:w,newRowUUIDs:v,scrollToRow:e=>{const t=w.current.get(e),n=y.current;t&&n&&t.measureLayout(n,((e,t,l,r)=>{n.measure(((e,l,u,i)=>{(t<l||t+r>l+i)&&n.scrollTo({y:t,animated:!0})}))}),(e=>{console.error('Measure layout failed',e)}))}}});return(0,S.jsxs)(s.Table,{"aria-labelledby":"cart-table",className:"h-full",children:[(0,S.jsx)(s.TableHeader,{children:k.getHeaderGroups().map((e=>(0,S.jsx)(s.TableRow,{children:e.headers.map((e=>{const t=e.column.columnDef.meta;return(0,S.jsx)(s.TableHead,{style:{flexGrow:t?.width?0:t?.flex?t.flex:1,flexBasis:t?.width?t.width:void 0,alignItems:(0,o.getFlexAlign)(t?.align||'left')},children:e.isPlaceholder||t?.hideLabel?null:(0,l.flexRender)(e.column.columnDef.header,e.getContext())},e.id)}))},e.id)))}),(0,S.jsx)(n.default,{ref:y,children:(0,S.jsx)(s.TableBody,{children:k.getRowModel().rows.map(((e,t)=>(0,S.jsx)(s.PulseTableRow,{ref:t=>w.current.set(e.id,t),index:t,table:k,row:e,children:e.getVisibleCells().map((e=>{const t=e.column.columnDef.meta;return(0,S.jsx)(s.TableCell,{style:{flexGrow:t?.width?0:t?.flex?t.flex:1,flexBasis:t?.width?t.width:void 0,alignItems:(0,o.getFlexAlign)(t?.align||'left')},children:(0,l.flexRender)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)))})})]})}}),3822,[1,17,343,3371,3367,899,1170,888,894,3377,1100,3823,3825,3826,3831,3832,3833,3836,3837,3838,3839,3841,3844,2382,3778,3845,3785,3846,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Actions=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o})(_r(d[0])),t=_r(d[1]),n=_r(d[2]),o=_r(d[3]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.Actions=({row:r,table:i})=>{const{uuid:s,type:u}=r.original,{removeLineItem:a}=(0,n.useRemoveLineItem)(),c=e.useCallback((()=>{const e=i.options.meta.rowRefs.current.get(s);e&&e?.pulseRemove&&e.pulseRemove((()=>{a(s,u)}))}),[a,i.options.meta.rowRefs,u,s]);if(i.options.meta.newRowUUIDs.includes(s)){const e=i.options.meta.rowRefs.current.get(s);e&&e?.pulseAdd&&e.pulseAdd((()=>{i.options.meta.newRowUUIDs=i.options.meta.newRowUUIDs.filter((e=>e!==s))}))}return(0,o.jsx)(t.IconButton,{name:"circleXmark",variant:"destructive",size:"4xl",onPress:c})}}),3823,[17,1102,3824,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useRemoveLineItem=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var s=a?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r})(_r(d[0])),t=_r(d[1]),n=_r(d[2]),r=_r(d[3]),a=_r(d[4]);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}_e.useRemoveLineItem=()=>{const{currentOrder:o}=(0,a.useCurrentOrder)(),{localPatch:u}=(0,r.useLocalMutation)(),s=(0,n.useT)(),c=e.useCallback((async(e,t,n)=>{const r=o.getLatest(),a=r[t].findIndex((t=>t.meta_data.some((t=>'_woocommerce_pos_uuid'===t.key&&t.value===e))));let s;a>=0?(s=[...r[t]],s[a]=n):s=[...r[t],n],await u({document:r,data:{[t]:s}})}),[o,u]);return{removeLineItem:e.useCallback(((e,n)=>{const r=o.getLatest();let a;const i=(r[n]||[]).map((t=>{if(t.meta_data.some((t=>'_woocommerce_pos_uuid'===t.key&&t.value===e))){if(a=t,t.id)switch(n){case'line_items':return Object.assign({},t,{product_id:null});case'fee_lines':return Object.assign({},t,{name:null});case'shipping_lines':return Object.assign({},t,{method_id:null});default:return t}return null}return t})).filter((e=>null!==e));u({document:r,data:{[n]:i}}),a&&t.Toast.show({type:'success',text1:s('{name} removed from cart',{name:a?.name||a?.method_title,_tags:'core'}),props:{dismissable:!0,action:{label:s('Undo',{_tags:'core'}),action:()=>c(e,n,a)}}})}),[o,u,s,c])}}}),3824,[17,1139,2083,3401,3778]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.FeeAndShippingTotal=void 0;var t=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=u(e);if(r&&r.has(t))return r.get(t);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var l=n?Object.getOwnPropertyDescriptor(t,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=t[o]}return a.default=t,r&&r.set(t,a),a})(_r(d[0])),e=_r(d[1]),r=_r(d[2]),a=_r(d[3]),n=_r(d[4]),o=_r(d[5]),l=_r(d[6]);function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(u=function(t){return t?r:e})(t)}_e.FeeAndShippingTotal=({row:u,column:i})=>{const s=u.original.item,{format:c}=(0,o.useCurrentOrderCurrencyFormat)(),{store:f}=(0,n.useAppState)(),p=(0,e.useObservableEagerState)(f.tax_display_cart$),x=t.useMemo((()=>'incl'===p?parseFloat(s.total)+parseFloat(s.total_tax):s.total),[s.total,s.total_tax,p]);return(0,l.jsxs)(a.VStack,{space:"xs",className:"justify-end",children:[(0,l.jsx)(r.Text,{className:"text-right",children:c(x||0)}),i.columnDef.meta.show('tax')&&(0,l.jsx)(r.Text,{className:"text-sm text-muted-foreground text-right",children:`${p} ${c(s.total_tax)||0} tax`})]})}}),3825,[17,1170,1100,1130,1168,3813,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.FeeName=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,a&&a.set(e,r),r})(_r(d[1])),a=e(_r(d[2])),r=_r(d[3]),n=_r(d[4]),i=_r(d[5]),s=_r(d[6]),l=_r(d[7]),u=_r(d[8]),c=_r(d[9]),o=_r(d[10]),f=_r(d[11]),p=_r(d[12]);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}_e.FeeName=({row:e})=>{const{item:x,uuid:j}=e.original,{updateFeeLine:y}=(0,f.useUpdateFeeLine)(),_=(0,c.useT)(),h=t.useMemo((()=>x.meta_data.filter((e=>!e.key||!e.key.startsWith('_')))),[x.meta_data]);return(0,p.jsxs)(s.VStack,{className:"w-full",children:[(0,p.jsxs)(n.HStack,{className:"gap-0",children:[(0,p.jsx)(a.default,{className:"flex-1",children:(0,p.jsx)(o.EditableName,{value:x.name,onChangeText:e=>y(j,{name:e})})}),(0,p.jsx)(l.EditCartItemButton,{title:_('Edit {name}',{_tags:'core',name:x.name}),children:(0,p.jsx)(u.EditFeeLine,{uuid:j,item:x})})]}),h.length>0&&(0,p.jsx)(r.Box,{className:"grid gap-1 grid-cols-2",children:h.map((e=>(0,p.jsxs)(t.Fragment,{children:[(0,p.jsx)(i.Text,{className:"text-sm",children:`${e.key}:`}),(0,p.jsx)(i.Text,{className:"text-sm",children:e.value})]},e.id||e.display_key||e.key)))})]})}}),3826,[1,17,320,2220,891,1100,1130,3827,3828,2083,3486,3830,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditCartItemButton=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),o=_r(d[4]),i=_r(d[5]),l=_r(d[6]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.EditCartItemButton=({title:a,children:s})=>{const[c,u]=e.useState(!1);return(0,l.jsx)(r.ErrorBoundary,{children:(0,l.jsxs)(t.Dialog,{open:c,onOpenChange:u,children:[(0,l.jsxs)(i.Tooltip,{children:[(0,l.jsx)(i.TooltipTrigger,{asChild:!0,onPress:()=>u(!0),children:(0,l.jsx)(n.IconButton,{name:"ellipsisVertical"})}),(0,l.jsx)(i.TooltipContent,{children:(0,l.jsx)(o.Text,{children:a})})]}),(0,l.jsxs)(t.DialogContent,{size:"lg",children:[(0,l.jsx)(t.DialogHeader,{children:(0,l.jsx)(t.DialogTitle,{children:a})}),(0,l.jsx)(t.DialogBody,{children:s})]})]})})}}),3827,[17,3296,888,1102,1100,1103,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditFeeLine=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n})(_r(d[0])),r=_r(d[1]),t=_r(d[2]),n=_r(d[3]),a=_r(d[4]),s=_r(d[5]),i=_r(d[6]);function l(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:r})(e)}_e.EditFeeLine=({uuid:l,item:o})=>{const u=(0,s.useT)(),[c,f]=e.useState('form');return(0,i.jsxs)(r.Tabs,{value:c,onValueChange:f,children:[(0,i.jsxs)(r.TabsList,{className:"flex-row w-full",children:[(0,i.jsx)(r.TabsTrigger,{value:"form",className:"flex-1",children:(0,i.jsx)(t.Text,{children:u('Form',{_tags:'core'})})}),(0,i.jsx)(r.TabsTrigger,{value:"json",className:"flex-1",children:(0,i.jsx)(t.Text,{children:u('JSON',{_tags:'core'})})})]}),(0,i.jsx)(r.TabsContent,{value:"form",children:(0,i.jsx)(a.EditFeeLineForm,{uuid:l,item:o})}),(0,i.jsx)(r.TabsContent,{value:"json",children:(0,i.jsx)(n.Tree,{value:o})})]})}}),3828,[17,3402,1100,2390,3829,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditFeeLineForm=void 0;var t=w(_r(d[1])),a=e(_r(d[2])),n=_r(d[3]),r=e(_r(d[4])),o=_r(d[5]),s=w(_r(d[6])),c=_r(d[7]),l=_r(d[8]),i=_r(d[9]),u=_r(d[10]),_=_r(d[11]),p=_r(d[12]),x=_r(d[13]),f=_r(d[14]),j=_r(d[15]),F=_r(d[16]),b=_r(d[17]),h=_r(d[18]),O=_r(d[19]);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,a&&a.set(e,n),n}const y=s.object({name:s.string().optional(),prices_include_tax:s.boolean().optional(),tax_status:s.enum(['taxable','none']),tax_class:s.string().optional(),amount:s.number().optional(),percent:s.boolean().default(!1),meta_data:x.metaDataSchema});_e.EditFeeLineForm=({uuid:e,item:s})=>{const v=(0,u.useT)(),{updateFeeLine:w}=(0,h.useUpdateFeeLine)(),{onOpenChange:C}=(0,c.useRootContext)(),{getFeeLineData:S}=(0,b.useFeeLineData)(),{amount:D,percent:P,prices_include_tax:T,percent_of_cart_total_with_tax:k}=S(s),L=(0,o.useForm)({resolver:(0,n.zodResolver)(y),defaultValues:{name:s.name,amount:(0,r.default)(D),percent:P,tax_status:s.tax_status,tax_class:''===s.tax_class?'standard':s.tax_class,prices_include_tax:T,percent_of_cart_total_with_tax:k,meta_data:s.meta_data}}),M=t.useCallback((t=>{w(e,{name:t.name,amount:String(t.amount),tax_status:t.tax_status,tax_class:'standard'===t.tax_class?'':t.tax_class,percent:t.percent,prices_include_tax:t.prices_include_tax,percent_of_cart_total_with_tax:t.percent_of_cart_total_with_tax}),C(!1)}),[w,e,C]),N=L.watch('percent');return(0,O.jsx)(l.Form,Object.assign({},L,{children:(0,O.jsxs)(i.VStack,{className:"gap-4",children:[(0,O.jsx)(p.FormErrors,{}),(0,O.jsx)(l.FormField,{control:L.control,name:"name",render:({field:e})=>(0,O.jsx)(l.FormInput,Object.assign({label:v('Fee Name',{_tags:'core'}),placeholder:v('Fee',{_tags:'core'})},e))}),(0,O.jsxs)(a.default,{className:"grid grid-cols-2 gap-4",children:[(0,O.jsx)(l.FormField,{control:L.control,name:"amount",render:({field:e})=>(0,O.jsx)(l.FormInput,Object.assign({customComponent:N?f.NumberInput:_.CurrencyInput,label:v(N?'Percent':'Amount',{_tags:'core'}),type:"numeric"},e))}),(0,O.jsxs)(i.VStack,{className:"justify-center",children:[(0,O.jsx)(l.FormField,{control:L.control,name:"percent",render:({field:e})=>(0,O.jsx)(l.FormSwitch,Object.assign({label:v('Percentage of Cart Total',{_tags:'core'})},e))}),(0,O.jsx)(l.FormField,{control:L.control,name:"prices_include_tax",render:({field:e})=>(0,O.jsx)(l.FormSwitch,Object.assign({label:v('Amount Includes Tax',{_tags:'core'})},e))})]}),(0,O.jsx)(l.FormField,{control:L.control,name:"tax_class",render:({field:e})=>(0,O.jsx)(l.FormSelect,Object.assign({label:v('Tax Class',{_tags:'core'}),customComponent:j.TaxClassSelect},e))}),(0,O.jsx)(l.FormField,{control:L.control,name:"tax_status",render:({field:e})=>(0,O.jsx)(l.FormRadioGroup,Object.assign({label:v('Tax Status',{_tags:'core'}),customComponent:F.TaxStatusRadioGroup},e))})]}),(0,O.jsx)(x.MetaDataForm,{}),(0,O.jsxs)(c.DialogFooter,{className:"px-0",children:[(0,O.jsx)(c.DialogClose,{children:v('Close',{_tags:'core'})}),(0,O.jsx)(c.DialogAction,{onPress:L.handleSubmit(M),children:v('Save',{_tags:'core'})})]})]})}))}}),3829,[1,17,320,3271,1781,3273,3274,3296,3275,1130,2083,3456,3400,3407,3457,3461,3462,3796,3830,483]);
__d((function(g,_r,_i,_a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useUpdateFeeLine=void 0;var t=e(_r(d[1])),a=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var o=r?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,a&&a.set(e,n),n})(_r(d[2])),n=_r(d[3]),r=_r(d[4]),u=_r(d[5]),o=_r(d[6]),c=_r(d[7]);const i=["amount","percent","prices_include_tax","percent_of_cart_total_with_tax"];function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}_e.useUpdateFeeLine=()=>{const{currentOrder:e}=(0,c.useCurrentOrder)(),{localPatch:_}=(0,o.useLocalMutation)(),{calculateFeeLineTaxesAndTotals:l}=(0,n.useCalculateFeeLineTaxAndTotals)(),{getFeeLineData:s}=(0,r.useFeeLineData)();return{updateFeeLine:a.useCallback((async(a,n)=>{const r=e.getLatest(),o=r.toMutableJSON();let c=!1;const p=o.fee_lines?.map((e=>{if(c||!e.meta_data?.some((e=>'_woocommerce_pos_uuid'===e.key&&e.value===a)))return e;const r=s(e),{amount:o,percent:_,prices_include_tax:p,percent_of_cart_total_with_tax:f}=n,O=(0,t.default)(n,i);let y=Object.assign({},e,O);return y=(0,u.updatePosDataMeta)(y,{amount:o??r.amount,percent:_??r.percent,prices_include_tax:p??r.prices_include_tax,percent_of_cart_total_with_tax:f??r.percent_of_cart_total_with_tax}),y=l(y),c=!0,y}));if(c&&p)return _({document:r,data:{fee_lines:p}})}),[l,e,s,_])}}}),3830,[1,31,17,3795,3796,3785,3401,3778]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.FeePrice=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=e[u]}r.default=e,n&&n.set(e,r)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),n=_r(d[3]),r=_r(d[4]),a=_r(d[5]),u=_r(d[6]),o=_r(d[7]);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}_e.FeePrice=({row:i})=>{const{item:c,uuid:s}=i.original,{updateFeeLine:f}=(0,u.useUpdateFeeLine)(),{getFeeLineData:p}=(0,a.useFeeLineData)(),{percent:l,amount:j}=p(c);return(0,o.jsxs)(e.HStack,{space:"xs",className:"justify-center",children:[l?(0,o.jsx)(r.NumberInput,{value:j,onChangeText:e=>f(s,{amount:e})}):(0,o.jsx)(n.CurrencyInput,{value:j,onChangeText:e=>f(s,{amount:e})}),l&&(0,o.jsx)(t.Icon,{name:"percent",size:"sm"})]})}}),3831,[17,891,898,3456,3457,3796,3830,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Price=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,r&&r.set(e,n)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]),n=_r(d[4]),a=_r(d[5]),i=_r(d[6]);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}_e.Price=({row:u})=>{const{item:o,uuid:p}=u.original,{updateLineItem:s}=(0,a.useUpdateLineItem)(),{getLineItemData:c}=(0,n.useLineItemData)(),{price:f}=c(o),{uiSettings:l}=(0,r.useUISettings)('pos-cart'),y=(0,e.useObservableEagerState)(l.quickDiscounts$);return(0,i.jsx)(t.CurrencyInput,{value:parseFloat(f),onChangeText:e=>s(p,{price:e}),discounts:(v=y,'string'==typeof v?v.split(',').map(Number):Array.isArray(v)?v.map(Number):[])});var v}}),3832,[17,1170,3456,2382,3801,3802,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ProductName=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r})(_r(d[1])),a=e(_r(d[2])),r=_r(d[3]),n=_r(d[4]),s=_r(d[5]),l=_r(d[6]),i=_r(d[7]),u=_r(d[8]),c=_r(d[9]),o=_r(d[10]),f=_r(d[11]),p=_r(d[12]);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}_e.ProductName=({row:e,column:x})=>{const{item:y,uuid:j}=e.original,{updateLineItem:_}=(0,f.useUpdateLineItem)(),h=(0,c.useT)(),k=t.useMemo((()=>y.meta_data.filter((e=>!e.key||!e.key.startsWith('_')))),[y.meta_data]);return(0,p.jsxs)(l.VStack,{className:"w-full",children:[(0,p.jsxs)(n.HStack,{className:"gap-0",children:[(0,p.jsx)(a.default,{className:"flex-1",children:(0,p.jsx)(o.EditableName,{value:y.name,onChangeText:e=>_(j,{name:e})})}),(0,p.jsx)(i.EditCartItemButton,{title:h('Edit {name}',{_tags:'core',name:y.name}),children:(0,p.jsx)(u.EditLineItem,{uuid:j,item:y})})]}),x.columnDef.meta.show('sku')&&(0,p.jsx)(s.Text,{className:"text-sm",children:y.sku}),k.length>0&&(0,p.jsx)(l.VStack,{space:"xs",children:k.map((e=>(0,p.jsxs)(n.HStack,{className:"flex-wrap gap-0",children:[(0,p.jsx)(s.Text,{className:"text-xs text-muted-foreground",children:`${(0,r.decode)(e.display_key||e.key)}: `}),(0,p.jsx)(s.Text,{className:"text-xs",children:(0,r.decode)(e.display_value||e.value)})]},e.id||e.key||e.display_key)))})]})}}),3833,[1,17,320,3390,891,1100,1130,3827,3834,2083,3486,3802,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditLineItem=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(n,s,l):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n})(_r(d[0])),r=_r(d[1]),t=_r(d[2]),n=_r(d[3]),a=_r(d[4]),s=_r(d[5]),l=_r(d[6]);function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}_e.EditLineItem=({uuid:o,item:i,onClose:u})=>{const c=(0,s.useT)(),[f,j]=e.useState('form');return(0,l.jsxs)(r.Tabs,{value:f,onValueChange:j,children:[(0,l.jsxs)(r.TabsList,{className:"flex-row w-full",children:[(0,l.jsx)(r.TabsTrigger,{value:"form",className:"flex-1",children:(0,l.jsx)(t.Text,{children:c('Form',{_tags:'core'})})}),(0,l.jsx)(r.TabsTrigger,{value:"json",className:"flex-1",children:(0,l.jsx)(t.Text,{children:c('JSON',{_tags:'core'})})})]}),(0,l.jsx)(r.TabsContent,{value:"form",children:(0,l.jsx)(a.EditLineItemForm,{uuid:o,item:i})}),(0,l.jsx)(r.TabsContent,{value:"json",children:(0,l.jsx)(n.Tree,{value:i})})]})}}),3834,[17,3402,1100,2390,3835,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditLineItemForm=void 0;var t=I(_r(d[1])),a=e(_r(d[2])),r=_r(d[3]),n=e(_r(d[4])),o=_r(d[5]),s=I(_r(d[6])),l=_r(d[7]),i=_r(d[8]),c=_r(d[9]),u=_r(d[10]),p=_r(d[11]),_=_r(d[12]),x=_r(d[13]),j=_r(d[14]),f=_r(d[15]),b=_r(d[16]),F=_r(d[17]),y=_r(d[18]),O=_r(d[19]);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}const h=s.object({name:s.string().optional(),sku:s.string().optional(),quantity:s.number().optional(),price:s.number().optional(),regular_price:s.number().optional(),tax_status:s.enum(['taxable','none']),tax_class:s.string().optional(),meta_data:x.metaDataSchema});_e.EditLineItemForm=({uuid:e,item:s})=>{const C=(0,u.useT)(),{updateLineItem:I}=(0,y.useUpdateLineItem)(),{onOpenChange:v}=(0,l.useRootContext)(),{getLineItemData:k}=(0,F.useLineItemData)(),{price:S,regular_price:D,tax_status:P}=k(s),q=(0,o.useForm)({resolver:(0,r.zodResolver)(h),defaultValues:{name:s.name,sku:s.sku,quantity:s.quantity,price:(0,n.default)(S),regular_price:(0,n.default)(D),tax_status:P,tax_class:''===s.tax_class?'standard':s.tax_class,meta_data:s.meta_data}}),w=t.useCallback((t=>{I(e,{name:t.name,sku:t.sku,quantity:t.quantity,price:String(t.price),regular_price:String(t.regular_price),tax_status:t.tax_status,tax_class:'standard'===t.tax_class?'':t.tax_class,meta_data:t.meta_data}),v(!1)}),[I,e,v]);return(0,O.jsx)(i.Form,Object.assign({},q,{children:(0,O.jsxs)(c.VStack,{className:"gap-4",children:[(0,O.jsx)(_.FormErrors,{}),(0,O.jsx)(i.FormField,{control:q.control,name:"name",render:({field:e})=>(0,O.jsx)(i.FormInput,Object.assign({label:C('Name',{_tags:'core'})},e))}),(0,O.jsxs)(a.default,{className:"grid grid-cols-2 gap-4",children:[(0,O.jsx)(i.FormField,{control:q.control,name:"sku",render:({field:e})=>(0,O.jsx)(i.FormInput,Object.assign({label:C('SKU',{_tags:'core'})},e))}),(0,O.jsx)(i.FormField,{control:q.control,name:"quantity",render:({field:e})=>(0,O.jsx)(i.FormInput,Object.assign({customComponent:j.NumberInput,label:C('Quantity',{_tags:'core'}),type:"numeric"},e))}),(0,O.jsx)(i.FormField,{control:q.control,name:"price",render:({field:e})=>(0,O.jsx)(i.FormInput,Object.assign({customComponent:p.CurrencyInput,label:C('Price',{_tags:'core'}),type:"numeric"},e))}),(0,O.jsx)(i.FormField,{control:q.control,name:"regular_price",render:({field:e})=>(0,O.jsx)(i.FormInput,Object.assign({customComponent:p.CurrencyInput,label:C('Regular Price',{_tags:'core'}),type:"numeric"},e))}),(0,O.jsx)(i.FormField,{control:q.control,name:"tax_class",render:({field:e})=>(0,O.jsx)(i.FormSelect,Object.assign({label:C('Tax Class',{_tags:'core'}),customComponent:f.TaxClassSelect},e))}),(0,O.jsx)(i.FormField,{control:q.control,name:"tax_status",render:({field:e})=>(0,O.jsx)(i.FormRadioGroup,Object.assign({label:C('Tax Status',{_tags:'core'}),customComponent:b.TaxStatusRadioGroup},e))})]}),(0,O.jsx)(x.MetaDataForm,{withDisplayValues:!0}),(0,O.jsxs)(l.DialogFooter,{className:"px-0",children:[(0,O.jsx)(l.DialogClose,{children:C('Close',{_tags:'core'})}),(0,O.jsx)(l.DialogAction,{onPress:q.handleSubmit(w),children:C('Save',{_tags:'core'})})]})]})}))}}),3835,[1,17,320,3271,1781,3273,3274,3296,3275,1130,2083,3456,3400,3407,3457,3461,3462,3801,3802,483]);
__d((function(g,_r,_i,_a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ProductTotal=void 0;var e=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=i(e);if(a&&a.has(t))return a.get(t);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var u=l?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=t[o]}return r.default=t,a&&a.set(t,r),r})(_r(d[1])),a=t(_r(d[2])),r=_r(d[3]),l=_r(d[4]),o=_r(d[5]),u=_r(d[6]),s=_r(d[7]),n=_r(d[8]);function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(i=function(t){return t?a:e})(t)}_e.ProductTotal=({row:t,column:i})=>{const c=t.original.item,{format:f}=(0,s.useCurrentOrderCurrencyFormat)(),{store:x}=(0,u.useAppState)(),p=(0,r.useObservableEagerState)(x.tax_display_cart$),{displayTotal:h,displaySubtotal:_}=e.useMemo((()=>'incl'===p?{displayTotal:(0,a.default)(c.total)+(0,a.default)(c.total_tax),displaySubtotal:(0,a.default)(c.subtotal)+(0,a.default)(c.subtotal_tax)}:{displayTotal:(0,a.default)(c.total),displaySubtotal:(0,a.default)(c.subtotal)}),[c.subtotal,c.subtotal_tax,c.total,c.total_tax,p]),b=parseFloat(c.total)!==parseFloat(c.subtotal);return(0,n.jsxs)(o.VStack,{space:"xs",className:"justify-end",children:[b&&i.columnDef.meta.show('on_sale')&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Text,{className:"text-muted-foreground line-through text-right",children:f(_||0)}),i.columnDef.meta.show('tax')&&(0,n.jsx)(l.Text,{className:"text-sm text-muted-foreground line-through text-right",children:`${p} ${f(c.subtotal_tax||0)} tax`})]}),(0,n.jsx)(l.Text,{className:"text-right",children:f(h||0)}),i.columnDef.meta.show('tax')&&(0,n.jsx)(l.Text,{className:"text-sm text-muted-foreground text-right",children:`${p} ${f(c.total_tax||0)} tax`})]})}}),3836,[1,17,1781,1170,1100,1130,1168,3813,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Quantity=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),n=_r(d[3]),r=_r(d[4]),i=_r(d[5]),a=_r(d[6]);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}_e.Quantity=({row:u,column:o})=>{const{item:l,uuid:s}=u.original,{updateLineItem:c,splitLineItem:p}=(0,i.useUpdateLineItem)(),f=(0,n.useT)();return(0,a.jsxs)(t.VStack,{className:"justify-center items-center gap-1",children:[(0,a.jsx)(r.NumberInput,{value:l.quantity,onChangeText:e=>c(s,{quantity:e})}),o.columnDef.meta.show('split')&&l.quantity>1&&(0,a.jsx)(e.Text,{variant:"link",className:"text-sm text-primary",onPress:()=>p(s),children:f('Split',{_tags:'core',_context:'Split quantity'})})]})}}),3837,[17,1100,1130,2083,3457,3802,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.RegularPrice=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=u?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,r&&r.set(e,n)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]),n=_r(d[4]),u=_r(d[5]),a=_r(d[6]);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}_e.RegularPrice=({row:i})=>{const o=i.original.item,c=i.original.uuid,{updateLineItem:l}=(0,u.useUpdateLineItem)(),{getLineItemData:p}=(0,n.useLineItemData)(),{regular_price:s}=p(o),{uiSettings:f}=(0,r.useUISettings)('pos-cart'),y=(0,e.useObservableEagerState)(f.quickDiscounts$);return(0,a.jsx)(t.CurrencyInput,{value:s,onChangeText:e=>l(c,{regular_price:e}),discounts:(_=y,'string'==typeof _?_.split(',').map(Number):Array.isArray(_)?_.map(Number):[])});var _}}),3838,[17,1170,3456,2382,3801,3802,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.ShippingPrice=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=u?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),n=_r(d[3]),r=_r(d[4]);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}_e.ShippingPrice=({row:i})=>{const{item:u,uuid:a}=i.original,{updateShippingLine:o}=(0,n.useUpdateShippingLine)(),{getShippingLineData:p}=(0,t.useShippingLineData)(),{amount:f}=p(u);return(0,r.jsx)(e.CurrencyInput,{value:f,onChangeText:e=>o(a,{amount:e})})}}),3839,[17,3456,3807,3840,483]);
__d((function(g,_r,_i,_a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useUpdateShippingLine=void 0;var t=e(_r(d[1])),a=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=r?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,a&&a.set(e,n),n})(_r(d[2])),n=_r(d[3]),r=_r(d[4]),u=_r(d[5]),i=_r(d[6]),s=_r(d[7]);const o=["amount","prices_include_tax","tax_class","tax_status"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}_e.useUpdateShippingLine=()=>{const{currentOrder:e}=(0,s.useCurrentOrder)(),{localPatch:c}=(0,i.useLocalMutation)(),{calculateShippingLineTaxesAndTotals:p}=(0,n.useCalculateShippingLineTaxAndTotals)(),{getShippingLineData:l}=(0,r.useShippingLineData)();return{updateShippingLine:a.useCallback((async(a,n)=>{const r=e.getLatest(),i=r.toMutableJSON();let s=!1;const _=i.shipping_lines?.map((e=>{if(s||!e.meta_data?.some((e=>'_woocommerce_pos_uuid'===e.key&&e.value===a)))return e;const r=l(e),{amount:i,prices_include_tax:c,tax_class:_,tax_status:f}=n,x=(0,t.default)(n,o);let h=Object.assign({},e,x);return h=(0,u.updatePosDataMeta)(h,{amount:i??r.amount,prices_include_tax:c??r.prices_include_tax,tax_class:_??r.tax_class,tax_status:f??r.tax_status}),h=p(h),s=!0,h}));if(s&&_)return c({document:r,data:{shipping_lines:_}})}),[p,e,l,c])}}}),3840,[1,31,17,3806,3807,3785,3401,3778]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ShippingTitle=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=p(t);if(i&&i.has(e))return i.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}n.default=e,i&&i.set(e,n)})(_r(d[1]));var t=e(_r(d[2])),i=_r(d[3]),n=_r(d[4]),r=_r(d[5]),a=_r(d[6]),l=_r(d[7]),u=_r(d[8]),o=_r(d[9]);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(p=function(e){return e?i:t})(e)}_e.ShippingTitle=({row:e})=>{const{item:p,uuid:f}=e.original,{updateShippingLine:c}=(0,u.useUpdateShippingLine)(),s=(0,a.useT)();return(0,o.jsxs)(i.HStack,{className:"gap-0 w-full",children:[(0,o.jsx)(t.default,{className:"flex-1",children:(0,o.jsx)(l.EditableName,{value:p.method_title,onChangeText:e=>c(f,{method_title:e})})}),(0,o.jsx)(n.EditCartItemButton,{title:s('Edit {name}',{_tags:'core',name:p.method_title}),children:(0,o.jsx)(r.EditShippingLine,{uuid:f,item:p})})]})}}),3841,[1,17,320,891,3827,3842,2083,3486,3840,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditShippingLine=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n})(_r(d[0])),r=_r(d[1]),t=_r(d[2]),n=_r(d[3]),i=_r(d[4]),a=_r(d[5]),s=_r(d[6]);function l(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:r})(e)}_e.EditShippingLine=({uuid:l,item:o,onClose:u})=>{const c=(0,a.useT)(),[f,p]=e.useState('form');return(0,s.jsxs)(r.Tabs,{value:f,onValueChange:p,children:[(0,s.jsxs)(r.TabsList,{className:"flex-row w-full",children:[(0,s.jsx)(r.TabsTrigger,{value:"form",className:"flex-1",children:(0,s.jsx)(t.Text,{children:c('Form',{_tags:'core'})})}),(0,s.jsx)(r.TabsTrigger,{value:"json",className:"flex-1",children:(0,s.jsx)(t.Text,{children:c('JSON',{_tags:'core'})})})]}),(0,s.jsx)(r.TabsContent,{value:"form",children:(0,s.jsx)(i.EditShippingLineForm,{uuid:l,item:o})}),(0,s.jsx)(r.TabsContent,{value:"json",children:(0,s.jsx)(n.Tree,{value:o})})]})}}),3842,[17,3402,1100,2390,3843,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.EditShippingLineForm=void 0;var t=v(_r(d[1])),a=e(_r(d[2])),n=_r(d[3]),o=e(_r(d[4])),s=_r(d[5]),i=v(_r(d[6])),r=_r(d[7]),l=_r(d[8]),c=_r(d[9]),u=_r(d[10]),_=_r(d[11]),p=_r(d[12]),x=_r(d[13]),j=_r(d[14]),h=_r(d[15]),f=_r(d[16]),F=_r(d[17]),b=_r(d[18]),S=_r(d[19]);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,a&&a.set(e,n),n}const y=i.object({method_title:i.string().optional(),method_id:i.string().optional(),instance_id:i.string().optional(),amount:i.number().optional(),prices_include_tax:i.boolean().optional(),tax_status:i.enum(['taxable','none']),tax_class:i.string().optional(),meta_data:x.metaDataSchema});_e.EditShippingLineForm=({uuid:e,item:i})=>{const O=(0,u.useT)(),{updateShippingLine:v}=(0,b.useUpdateShippingLine)(),{onOpenChange:C}=(0,r.useRootContext)(),{getShippingLineData:D}=(0,F.useShippingLineData)(),{amount:M,tax_status:I,tax_class:P,prices_include_tax:T}=D(i),w=(0,s.useForm)({resolver:(0,n.zodResolver)(y),defaultValues:{method_title:i.method_title,method_id:i.method_id,instance_id:i.instance_id,amount:(0,o.default)(M),prices_include_tax:T,tax_status:I,tax_class:''===P?'standard':P,meta_data:i.meta_data}}),L=t.useCallback((t=>{v(e,{method_title:t.method_title,method_id:t.method_id,instance_id:t.instance_id,amount:String(t.amount),tax_status:t.tax_status,tax_class:'standard'===t.tax_class?'':t.tax_class,prices_include_tax:t.prices_include_tax,meta_data:t.meta_data}),C(!1)}),[v,e,C]);return(0,S.jsx)(l.Form,Object.assign({},w,{children:(0,S.jsxs)(c.VStack,{className:"gap-4",children:[(0,S.jsx)(p.FormErrors,{}),(0,S.jsx)(l.FormField,{control:w.control,name:"method_title",render:({field:e})=>(0,S.jsx)(l.FormInput,Object.assign({label:O('Shipping Method Title',{_tags:'core'})},e))}),(0,S.jsxs)(a.default,{className:"grid grid-cols-2 gap-4",children:[(0,S.jsx)(l.FormField,{control:w.control,name:"method_id",render:({field:e})=>(0,S.jsx)(l.FormSelect,Object.assign({label:O('Shipping Method',{_tags:'core'}),customComponent:j.ShippingMethodSelect},e))}),(0,S.jsx)(l.FormField,{control:w.control,name:"instance_id",render:({field:e})=>(0,S.jsx)(l.FormInput,Object.assign({label:O('Instance ID',{_tags:'core'})},e))}),(0,S.jsx)(l.FormField,{control:w.control,name:"amount",render:({field:e})=>(0,S.jsx)(l.FormInput,Object.assign({customComponent:_.CurrencyInput,label:O('Amount',{_tags:'core'}),type:"numeric"},e))}),(0,S.jsx)(a.default,{className:"justify-center",children:(0,S.jsx)(l.FormField,{control:w.control,name:"prices_include_tax",render:({field:e})=>(0,S.jsx)(l.FormSwitch,Object.assign({label:O('Amount Includes Tax',{_tags:'core'})},e))})}),(0,S.jsx)(l.FormField,{control:w.control,name:"tax_class",render:({field:e})=>(0,S.jsx)(l.FormSelect,Object.assign({label:O('Tax Class',{_tags:'core'}),customComponent:h.TaxClassSelect},e))}),(0,S.jsx)(l.FormField,{control:w.control,name:"tax_status",render:({field:e})=>(0,S.jsx)(l.FormRadioGroup,Object.assign({label:O('Tax Status',{_tags:'core'}),customComponent:f.TaxStatusRadioGroup},e))})]}),(0,S.jsx)(x.MetaDataForm,{}),(0,S.jsxs)(r.DialogFooter,{className:"px-0",children:[(0,S.jsx)(r.DialogClose,{children:O('Close',{_tags:'core'})}),(0,S.jsx)(r.DialogAction,{onPress:w.handleSubmit(L),children:O('Save',{_tags:'core'})})]})]})}))}}),3843,[1,17,320,3271,1781,3273,3274,3296,3275,1130,2083,3456,3400,3407,3804,3461,3462,3807,3840,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Subtotal=void 0;var t=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=l(e);if(r&&r.has(t))return r.get(t);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&{}.hasOwnProperty.call(t,n)){var u=o?Object.getOwnPropertyDescriptor(t,n):null;u&&(u.get||u.set)?Object.defineProperty(a,n,u):a[n]=t[n]}return a.default=t,r&&r.set(t,a),a})(_r(d[0])),e=_r(d[1]),r=_r(d[2]),a=_r(d[3]),o=_r(d[4]),n=_r(d[5]),u=_r(d[6]);function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(l=function(t){return t?r:e})(t)}_e.Subtotal=({row:l,column:s})=>{const c=l.original.item,{format:i}=(0,n.useCurrencyFormat)(),{store:f}=(0,o.useAppState)(),p=(0,e.useObservableEagerState)(f.tax_display_cart$),b=t.useMemo((()=>'incl'===p?parseFloat(c.subtotal)+parseFloat(c.subtotal_tax):c.subtotal),[c.subtotal,c.subtotal_tax,p]);return(0,u.jsxs)(a.VStack,{space:"xs",className:"justify-end",children:[(0,u.jsx)(r.Text,{children:i(b||0)}),s.columnDef.meta.show('tax')&&(0,u.jsx)(r.Text,{className:"text-sm text-muted",children:`${p} ${i(c.subtotal_tax)||0} tax`})]})}}),3844,[17,1170,1100,1130,1168,3434,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useCartLines=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),a=_r(d[4]),i=_r(d[5]),l=_r(d[6]);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}_e.useCartLines=()=>{const{currentOrder:s}=(0,l.useCurrentOrder)(),u=(0,t.useObservableEagerState)(s.line_items$),o=(0,t.useObservableEagerState)(s.fee_lines$),f=(0,t.useObservableEagerState)(s.shipping_lines$),{getFeeLineData:c}=(0,n.useFeeLineData)(),{updateFeeLine:p}=(0,a.useUpdateFeeLine)(),_=e.useMemo((()=>({line_items:(u||[]).filter((e=>null!==e.product_id)),fee_lines:(o||[]).filter((e=>null!==e.name)),shipping_lines:(f||[]).filter((e=>null!==e.method_id))})),[u,o,f]),O=(0,t.useObservable)((e=>e.pipe((0,r.skip)(1),(0,r.map)((([e])=>(e||[]).reduce(((e,t)=>(e.cart_total+=parseFloat(t.total),e.cart_total_tax+=parseFloat(t.total_tax),e)),{cart_total:0,cart_total_tax:0}))),(0,r.distinctUntilChanged)(((e,t)=>JSON.stringify(e)===JSON.stringify(t))))),[u]);return(0,t.useSubscription)(O,(async()=>{const e=(o||[]).filter((e=>{const{percent:t}=c(e);return t}));if(e.length>0)for(const t of e){const e=(0,i.getUuidFromLineItem)(t);await p(e,{})}})),_}}),3845,[17,1170,1395,3796,3830,3785,3778]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.SKU=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var f=i?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(o,u,f):o[u]=e[u]}o.default=e,n&&n.set(e,o)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.SKU=({row:r,column:n})=>{const o=r.original.item;return(0,t.jsx)(e.Text,{children:o[n.id]?String(o[n.id]):''})}}),3846,[17,1100,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.OpenOrderTabs=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(r);if(n&&n.has(e))return n.get(e);var t={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(t,a,i):t[a]=e[a]}return t.default=e,n&&n.set(e,t),t})(_r(d[0])),r=_r(d[1]),n=_r(d[2]),t=_r(d[3]),o=_r(d[4]),a=_r(d[5]),i=_r(d[6]),l=_r(d[7]),s=_r(d[8]);function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:r})(e)}_e.OpenOrderTabs=()=>{const{currentOrder:u,openOrders:c,setCurrentOrderID:p}=(0,l.useCurrentOrder)(),f=(0,i.useT)(),O=e.useCallback((e=>{p('new'===e?'':e)}),[p]);return(0,s.jsx)(n.Tabs,{value:u.isNew?'new':u.uuid,onValueChange:O,orientation:"horizontal",children:(0,s.jsxs)(n.ScrollableTabsList,{className:"p-0",children:[c.map((({id:e,document:r})=>(0,s.jsx)(n.TabsTrigger,{value:e,children:(0,s.jsx)(a.CartTabTitle,{order:r})},e))),(0,s.jsx)(n.TabsTrigger,{value:"new",asChild:!0,children:(0,s.jsxs)(o.Tooltip,{children:[(0,s.jsx)(o.TooltipTrigger,{children:(0,s.jsx)(r.Icon,{name:"plus"})}),(0,s.jsx)(o.TooltipContent,{children:(0,s.jsx)(t.Text,{children:f('Open new order',{_tags:'core'})})})]})})]})})}}),3847,[17,898,3402,1100,1103,3848,2083,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.CartTabTitle=void 0;!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=n?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}a.default=e,t&&t.set(e,a)})(_r(d[0]));var e=_r(d[1]),r=_r(d[2]),t=_r(d[3]),a=_r(d[4]),n=_r(d[5]);function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}_e.CartTabTitle=({order:o})=>{const u=(0,e.useObservableEagerState)(o.total$),l=(0,e.useObservableEagerState)(o.currency_symbol$),{format:c}=(0,a.useCurrencyFormat)({currencySymbol:l}),f=(0,t.useT)();return(0,n.jsx)(r.Text,{children:f('Cart {order_total}',{order_total:c(parseFloat(u)||0),_tags:'core'})})}}),3848,[17,1170,1100,2083,3434,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Totals=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=j(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var s=l?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(a,n,s):a[n]=e[n]}a.default=e,r&&r.set(e,a)})(_r(d[1]));var t=e(_r(d[2])),r=_r(d[3]),a=_r(d[4]),l=_r(d[5]),n=_r(d[6]),s=_r(d[7]),c=_r(d[8]),o=_r(d[9]),i=_r(d[10]),u=_r(d[11]),x=_r(d[12]),f=_r(d[13]);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(j=function(e){return e?r:t})(e)}_e.Totals=()=>{const e=(0,o.useT)(),{format:j}=(0,i.useCurrentOrderCurrencyFormat)(),{inclOrExcl:_}=(0,u.useTaxInclOrExcl)({context:'cart'}),{subtotal:p,subtotal_tax:h,fee_total:T,fee_tax:b,tax_lines:O,total_tax:y,discount_tax:v,discount_total:w,shipping_tax:k,shipping_total:S}=(0,x.useOrderTotals)(),N=(0,t.default)(p),P=(0,t.default)(h),M=(0,t.default)(w),H=(0,t.default)(v),C=(0,t.default)(T),D=(0,t.default)(S),E=(0,t.default)(y),F=(0,t.default)(b),W=(0,t.default)(k),B=0!==M,I=0!==D,L=0!==C,V=0!==E,q=0!==N||B||I||L||V,z='incl'===_?N+P:N,A='incl'===_?M+H:M,G='incl'===_?C+F:C,J='incl'===_?D+W:D;return(0,f.jsxs)(f.Fragment,{children:[q?(0,f.jsxs)(n.VStack,{className:"p-2 border-border border-t bg-muted/40",children:[(0,f.jsxs)(a.HStack,{children:[(0,f.jsxs)(l.Text,{className:"grow",children:[e('Subtotal',{_tags:'core'}),":"]}),(0,f.jsx)(l.Text,{children:j(z)})]}),B&&(0,f.jsxs)(a.HStack,{children:[(0,f.jsxs)(l.Text,{className:"grow",children:[e('Discount',{_tags:'core'}),":"]}),(0,f.jsx)(l.Text,{children:j(-1*A)})]}),L&&(0,f.jsxs)(a.HStack,{children:[(0,f.jsxs)(l.Text,{className:"grow",children:[e('Fees',{_tags:'core'}),":"]}),(0,f.jsx)(l.Text,{children:j(G)})]}),I&&(0,f.jsxs)(a.HStack,{children:[(0,f.jsxs)(l.Text,{className:"grow",children:[e('Shipping',{_tags:'core'}),":"]}),(0,f.jsx)(l.Text,{children:j(J)})]}),V?(0,f.jsx)(r.ErrorBoundary,{children:(0,f.jsx)(c.Taxes,{totalTax:y,taxLines:O})}):null]}):null,(0,f.jsx)(s.CustomerNote,{})]})}}),3849,[1,17,1781,888,891,1100,1130,3850,3852,2083,3813,3487,3853,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.CustomerNote=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=x(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n})(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),o=_r(d[4]),s=_r(d[5]),a=_r(d[6]),u=_r(d[7]),l=_r(d[8]),c=_r(d[9]),i=_r(d[10]),f=_r(d[11]),p=_r(d[12]),j=_r(d[13]),b=_r(d[14]);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(x=function(e){return e?r:t})(e)}_e.CustomerNote=()=>{const[e,x]=t.useState(!1),{currentOrder:_}=(0,j.useCurrentOrder)(),h=(0,o.useObservableEagerState)(_.customer_note$),[y,O]=t.useState(h),v=(0,f.useT)(),{localPatch:P}=(0,p.useLocalMutation)();t.useEffect((()=>{O(h)}),[h]);const T=t.useCallback((()=>{P({document:_,data:{customer_note:y.replace(/^\s+|\s+$/g,'').trim()}}),x(!1)}),[_,P,y]);return(0,n.default)(y)?null:(0,b.jsxs)(s.HStack,{className:"p-2 border-y-1 bg-gray-50 items-start",children:[(0,b.jsxs)(i.Tooltip,{children:[(0,b.jsx)(i.TooltipTrigger,{children:(0,b.jsx)(a.Icon,{name:"messageLines",className:"fill-secondary-foreground"})}),(0,b.jsx)(i.TooltipContent,{children:(0,b.jsx)(l.Text,{children:v('Customer Note',{_tags:'core'})})})]}),(0,b.jsx)(r.default,{className:"flex-1",children:e?(0,b.jsx)(c.Textarea,{value:y,onChangeText:O,autoFocus:!0,onBlur:T,onSubmitEditing:T,blurOnSubmit:!0}):(0,b.jsx)(u.Pressable,{onPress:()=>x(!0),children:(0,b.jsx)(l.Text,{children:y})})})]})}}),3850,[1,17,320,1908,1170,891,898,3851,1100,3320,1103,2083,3401,3778,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Pressable=void 0;var t=e(_r(d[1])),r=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var u=o?Object.getOwnPropertyDescriptor(e,f):null;u&&(u.get||u.set)?Object.defineProperty(n,f,u):n[f]=e[f]}return n.default=e,r&&r.set(e,n),n})(_r(d[2])),n=e(_r(d[3])),o=_r(d[4]);const f=["style"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}_e.Pressable=r.forwardRef(((e,l)=>{const{style:u}=e,a=(0,t.default)(e,f),i=r.useCallback((e=>{let t=[];if('function'==typeof u){t=[u(e),{flexDirection:'row'}]}else t=[{flexDirection:'row'},u];return t}),[u]);return(0,o.jsx)(n.default,Object.assign({style:i,ref:l},a))}))}),3851,[1,31,17,445,483]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Taxes=void 0;t(r(d[1]));var s=r(d[2]),x=r(d[3]),c=r(d[4]),l=r(d[5]),n=r(d[6]),o=r(d[7]),u=r(d[8]),T=r(d[9]),j=r(d[10]);e.Taxes=({totalTax:t,taxLines:h=[]})=>{const{store:_}=(0,n.useAppState)(),p=(0,s.useObservableEagerState)(_.tax_total_display$),{format:S}=(0,u.useCurrentOrderCurrencyFormat)(),{inclOrExcl:f}=(0,T.useTaxInclOrExcl)({context:'cart'}),k=(0,o.useT)();return'itemized'===p?(0,j.jsxs)(x.HStack,{children:[(0,j.jsxs)(c.Text,{className:"grow",children:[k('Taxes',{_tags:'core'}),":"]}),(0,j.jsx)(l.VStack,{children:h.map(((t,s)=>{const l=parseFloat(t.tax_total)+parseFloat(t.shipping_tax_total);return(0,j.jsxs)(x.HStack,{className:"justify-end",children:[(0,j.jsxs)(c.Text,{className:"text-xs text-muted-foreground",children:[f," ",t.label]}),(0,j.jsx)(c.Text,{children:S(l||0)})]},s)}))})]}):(0,j.jsxs)(x.HStack,{children:[(0,j.jsxs)(c.Text,{className:"grow",children:[k('Total Tax',{_tags:'core'}),":"]}),(0,j.jsxs)(x.HStack,{children:[(0,j.jsx)(c.Text,{className:"text-xs text-muted-foreground",children:f}),(0,j.jsx)(c.Text,{children:S(t||0)})]})]})}}),3852,[1,17,1170,891,1100,1130,1168,2083,3813,3487,483]);
__d((function(g,_r,_i,_a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useOrderTotals=void 0;var e=(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=u(e);if(a&&a.has(t))return a.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var r=i?Object.getOwnPropertyDescriptor(t,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=t[o]}return n.default=t,a&&a.set(t,n),n})(_r(d[1])),a=t(_r(d[2])),n=t(_r(d[3])),i=_r(d[4]),o=_r(d[5]),r=_r(d[6]),l=_r(d[7]),s=_r(d[8]);function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(u=function(t){return t?a:e})(t)}_e.useOrderTotals=()=>{const{currentOrder:t}=(0,s.useCurrentOrder)(),{allRates:u,taxRoundAtSubtotal:_}=(0,r.useTaxRates)(),{localPatch:c}=(0,l.useLocalMutation)(),{line_items:p,fee_lines:f,shipping_lines:x}=(0,o.useCartLines)(),O=e.useMemo((()=>(0,i.calculateOrderTotals)({lineItems:p,feeLines:f,shippingLines:x,taxRates:u,taxRoundAtSubtotal:_})),[p,f,x,u,_]);return(0,n.default)((()=>{const e=(0,a.default)(t,['discount_tax','discount_total','shipping_tax','shipping_total','cart_tax','total_tax','total','tax_lines']),n=(0,a.default)(O,['discount_tax','discount_total','shipping_tax','shipping_total','cart_tax','total_tax','total','tax_lines']);JSON.stringify(e)!==JSON.stringify(n)&&c({document:t,data:{discount_tax:O.discount_tax,discount_total:O.discount_total,shipping_tax:O.shipping_tax,shipping_total:O.shipping_total,cart_tax:O.cart_tax,total_tax:O.total_tax,total:O.total,tax_lines:O.tax_lines}})}),[O]),O}}),3853,[1,17,2208,3781,3854,3845,3473,3401,3778]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.calculateOrderTotals=function({lineItems:t=[],shippingLines:s=[],feeLines:_=[],taxRates:u=[],taxRoundAtSubtotal:x=!1}){let f=0,c=0,p=0,h=0,S=0,b=0,y=0,A=0,E=0,v=0,O=0;const j=u.reduce(((t,l)=>(t[l.id]={rate_id:l.id,label:l.name,compound:l.compound,tax_total:0,shipping_tax_total:0,rate_percent:parseFloat(l.rate),meta_data:[]},t)),{});t.forEach((t=>{const l=n(t.subtotal),o=n(t.total),s=n(t.subtotal_tax),_=n(t.total_tax);f+=l-o,c+=s-_,b+=l,y+=s,A+=o,E+=_,Array.isArray(t.taxes)&&t.taxes.forEach((t=>{j[t.id].tax_total+=n(t.total)}))})),_.forEach((t=>{v+=n(t.total),O+=n(t.total_tax),A+=n(t.total),E+=n(t.total_tax),Array.isArray(t.taxes)&&t.taxes.forEach((t=>{j[t.id].tax_total+=n(t.total)}))})),s.forEach((t=>{p+=n(t.total),h+=n(t.total_tax),A+=n(t.total),E+=n(t.total_tax),Array.isArray(t.taxes)&&t.taxes.forEach((t=>{j[t.id].shipping_tax_total+=n(t.total)}))}));const F=Object.values(j)||[];S+=(0,o.default)(F,'tax_total');const L=F.map((t=>0===t.tax_total&&0===t.shipping_tax_total?null:Object.assign({},t,{tax_total:String((0,l.default)(t.tax_total,6)),shipping_tax_total:String((0,l.default)(t.shipping_tax_total,6))}))).filter(Boolean);return{discount_total:String((0,l.default)(f,6)),discount_tax:String((0,l.default)(c,6)),shipping_total:String((0,l.default)(p,6)),shipping_tax:String((0,l.default)(h,6)),cart_tax:String((0,l.default)(S,6)),total:String((0,l.default)(A+E,6)),total_tax:String((0,l.default)(E,6)),tax_lines:L,subtotal:String((0,l.default)(b,6)),subtotal_tax:String((0,l.default)(y,6)),fee_total:String((0,l.default)(v,6)),fee_tax:String((0,l.default)(O,6))}};var l=t(r(d[1])),o=t(r(d[2]));function n(t){return isNaN(t)?0:parseFloat(t)}}),3854,[1,1777,3466]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=Q(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n]}return a.default=e,r&&r.set(e,a),a})(_r(d[1])),r=e(_r(d[2])),a=_r(d[3]),o=_r(d[4]),n=_r(d[5]),i=_r(d[6]),s=_r(d[7]),c=_r(d[8]),l=_r(d[9]),u=_r(d[10]),p=_r(d[11]),y=_r(d[12]),f=_r(d[13]),x=_r(d[14]),j=_r(d[15]),b=_r(d[16]),h=_r(d[17]),P=_r(d[18]),S=_r(d[19]),v=_r(d[20]),k=_r(d[21]),_=_r(d[22]),w=_r(d[23]),O=e(_r(d[24])),N=_r(d[25]),D=_r(d[26]),I=_r(d[27]),T=_r(d[28]),q=_r(d[29]),C=_r(d[30]),B=_r(d[31]),M=_r(d[32]),V=_r(d[33]),K=_r(d[34]),E=_r(d[35]);function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(Q=function(e){return e?r:t})(e)}const R={simple:{actions:y.Actions,image:N.ProductImage,name:f.Name,price:x.Price,sku:j.SKU,stock_quantity:b.StockQuantity},variable:{actions:h.VariableActions,image:I.VariableProductImage,name:f.Name,price:T.VariableProductPrice,stock_quantity:b.StockQuantity,sku:j.SKU}},U={actions:P.ProductVariationActions,image:C.ProductVariationImage,name:S.ProductVariationName,stock_quantity:b.StockQuantity,price:x.Price,sku:j.SKU},F=({column:e,row:t})=>{let a='simple';return'variable'===t.original.document.type&&(a='variable'),(0,r.default)(R,[a,e.id])},W=({column:e,row:t})=>(0,r.default)(U,e.id),A=({item:e,index:t})=>'variable'===e.original.document.type?(0,E.jsx)(q.VariableProductRow,{row:e,index:t}):(0,E.jsx)(i.DataTableRow,{row:e,index:t}),H=()=>(0,E.jsx)(w.DataTableFooter,{children:(0,E.jsx)(D.TaxBasedOn,{})});_e.default=({isColumn:e=!1})=>{const{uiSettings:r}=(0,K.useUISettings)('pos-products'),{calcTaxes:i}=(0,V.useTaxRates)(),y=(0,a.useObservableEagerState)(r.showOutOfStock$),f=t.useRef(null),x=(0,_.useT)(),{parentQuery:j}=(0,p.useRelationalQuery)({queryKeys:['products',{target:'pos',type:'relational'}],collectionName:'products',initialParams:{sort:[{[r.sortBy]:r.sortDirection}]},infiniteScroll:!0},{queryKeys:['variations',{target:'pos',type:'relational'}],collectionName:'variations',initialParams:{sort:[{id:r.sortDirection}]},endpoint:'products/variations',greedy:!0}),{onKeyPress:b}=(0,k.useBarcode)(j,f);t.useEffect((()=>{y?j.removeWhere('stock_status').exec():j.where('stock_status').equals('instock').exec()}),[j,y]);const h=t.useMemo((()=>({variationRenderCell:W})),[]);return(0,E.jsx)(o.Box,{className:`p-2 h-full ${e&&'pr-0'}`,children:(0,E.jsxs)(n.Card,{className:"flex-1",children:[(0,E.jsx)(n.CardHeader,{className:"p-2 bg-input",children:(0,E.jsx)(s.ErrorBoundary,{children:(0,E.jsxs)(u.VStack,{children:[(0,E.jsxs)(c.HStack,{children:[(0,E.jsx)(s.ErrorBoundary,{children:(0,E.jsx)(B.QuerySearchInput,{ref:f,query:j,placeholder:x('Search Products',{_tags:'core'}),className:"flex-1",onKeyPress:b})}),(0,E.jsx)(M.UISettingsDialog,{title:x('Product Settings',{_tags:'core'}),children:(0,E.jsx)(v.UISettingsForm,{})})]}),(0,E.jsx)(s.ErrorBoundary,{children:(0,E.jsx)(O.default,{query:j})})]})})}),(0,E.jsx)(n.CardContent,{className:"flex-1 p-0",children:(0,E.jsx)(s.ErrorBoundary,{children:(0,E.jsx)(l.Suspense,{children:(0,E.jsx)(w.DataTable,{id:"pos-products",query:j,renderCell:F,renderItem:A,noDataMessage:x('No products found',{_tags:'core'}),estimatedItemSize:100,extraContext:{taxLocation:'pos'},TableFooterComponent:i?H:w.DataTableFooter,getItemType:e=>e.original.document.type,tableMeta:h})})})})]})})}}),3855,[1,17,899,1170,2220,2389,3370,888,891,2155,1130,2168,3856,3857,3861,3862,3859,3863,3879,3880,3881,3882,2083,3366,3498,3513,3514,3520,3521,3522,3528,3428,3322,3473,2382,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Actions=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&{}.hasOwnProperty.call(e,c)){var i=u?Object.getOwnPropertyDescriptor(e,c):null;i&&(i.get||i.set)?Object.defineProperty(o,c,i):o[c]=e[c]}o.default=e,r&&r.set(e,o)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}_e.Actions=({row:n})=>{const{addProduct:o}=(0,t.useAddProduct)();return(0,r.jsx)(e.IconButton,{name:"circlePlus",variant:"success",size:"4xl",onPress:()=>o(n.original.document)})}}),3856,[17,1102,3799,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Name=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var c=r?Object.getOwnPropertyDescriptor(e,n):null;c&&(c.get||c.set)?Object.defineProperty(s,n,c):s[n]=e[n]}s.default=e,a&&a.set(e,s)})(_r(d[1]));var t=_r(d[2]),a=_r(d[3]),s=_r(d[4]),r=_r(d[5]),n=_r(d[6]),c=_r(d[7]),o=_r(d[8]),u=e(_r(d[9])),i=_r(d[10]),l=_r(d[11]),f=_r(d[12]);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}_e.Name=e=>{const j=e.row.original.document,{show:b}=e.column.columnDef.meta,p=(0,a.useObservableEagerState)(j.name$);return(0,f.jsxs)(r.VStack,{space:"xs",className:"w-full",children:[(0,f.jsx)(s.Text,{className:"font-bold",children:(0,t.decode)(p)}),b('sku')&&(0,f.jsx)(s.Text,{className:"text-sm",children:j.sku}),b('barcode')&&(0,f.jsx)(s.Text,{className:"text-sm",children:j.barcode}),b('stock_quantity')&&(0,f.jsx)(l.StockQuantity,Object.assign({},e,{className:"text-sm",withText:!0})),b('meta_data')&&(0,f.jsx)(n.MetaData,{product:j}),b('categories')&&(0,f.jsx)(o.ProductCategories,Object.assign({},e)),b('tags')&&(0,f.jsx)(i.ProductTags,Object.assign({},e)),b('attributes')&&(0,f.jsx)(c.PlainAttributes,Object.assign({},e)),'variable'===j.type&&(0,f.jsx)(c.ProductAttributes,Object.assign({},e)),'grouped'===j.type&&(0,f.jsx)(u.default,Object.assign({},e))]})}}),3857,[1,17,3390,1170,1100,1130,3858,3488,3490,3491,3492,3859,483]);
__d((function(g,_r,_i,_a,_m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.MetaData=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var s=n?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),a=_r(d[3]),n=_r(d[4]),u=_r(d[5]);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}_e.MetaData=({product:o})=>{const{uiSettings:s}=(0,n.useUISettings)('pos-products'),l=(0,t.useObservableEagerState)(s.metaDataKeys$),c=e.useMemo((()=>{const e=l?l.split(','):[];return(o.meta_data||[]).filter((t=>t.key&&e.includes(t.key))).map((({key:e,value:t})=>({key:e,value:t})))}),[l,o.meta_data]);return 0===c.length?null:(0,u.jsx)(a.VStack,{space:"xs",children:c.map((e=>(0,u.jsxs)(r.Text,{className:"text-sm",children:[(0,u.jsx)(r.Text,{className:"text-secondary-foreground",children:`${e.key}: `}),e.value]},`${e.id}`)))})}}),3858,[17,1170,1100,1130,2382,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.StockQuantity=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}n.default=e,r&&r.set(e,n)})(_r(d[1]));var t=e(_r(d[2])),r=_r(d[3]),n=_r(d[4]),a=_r(d[5]),u=_r(d[6]),o=_r(d[7]);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}_e.StockQuantity=({row:e,className:l,withText:i=!1})=>{const c=e.original.document,s=(0,r.useObservableEagerState)(c.stock_quantity$),f=(0,r.useObservableEagerState)(c.manage_stock$),{format:p}=(0,u.useNumberFormat)(),y=(0,a.useT)();return f&&(0,t.default)(s)?i?(0,o.jsx)(n.Text,{className:l,children:y('{quantity} in stock',{quantity:p(s),_tags:'core'})}):f&&(0,t.default)(s)?(0,o.jsx)(n.Text,{className:l,children:p(s)}):null:null}}),3859,[1,17,3860,1170,1100,2083,3436,483]);
__d((function(g,r,i,a,m,e,d){var n=r(d[0]).isFinite;m.exports=function(t){return'number'==typeof t&&n(t)}}),3860,[907]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Price=void 0;!(function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=s(e);if(a&&a.has(t))return a.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&{}.hasOwnProperty.call(t,n)){var i=o?Object.getOwnPropertyDescriptor(t,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=t[n]}r.default=t,a&&a.set(t,r)})(_r(d[0]));var t=_r(d[1]),e=_r(d[2]),a=_r(d[3]),r=_r(d[4]),o=_r(d[5]);function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(s=function(t){return t?a:e})(t)}_e.Price=({row:s,column:n})=>{const i=s.original.document,c=(0,t.useObservableEagerState)(i.price$),l=(0,t.useObservableEagerState)(i.regular_price$),u=(0,t.useObservableEagerState)(i.tax_status$),x=(0,t.useObservableEagerState)(i.tax_class$),p=(0,t.useObservableEagerState)(i.on_sale$),f=(0,e.useDataTable)();return n.columnDef.meta.show('on_sale')&&p?(0,o.jsxs)(a.VStack,{space:"xs",className:"justify-end",children:[(0,o.jsx)(r.PriceWithTax,{price:l,taxStatus:u,taxClass:x,taxDisplay:n.columnDef.meta.show('tax')?'text':'tooltip',taxLocation:f?.taxLocation,strikethrough:!0}),(0,o.jsx)(r.PriceWithTax,{price:c,taxStatus:u,taxClass:x,taxDisplay:n.columnDef.meta.show('tax')?'text':'tooltip',taxLocation:f?.taxLocation})]}):(0,o.jsx)(r.PriceWithTax,{price:c,taxStatus:u,taxClass:x,taxDisplay:n.columnDef.meta.show('tax')?'text':'tooltip',taxLocation:f?.taxLocation})}}),3861,[17,1170,3370,1130,3493,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.SKU=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}o.default=e,r&&r.set(e,o)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}_e.SKU=({row:n})=>{const o=n.original.document,u=(0,e.useObservableEagerState)(o.sku$);return(0,r.jsx)(t.Text,{children:u})}}),3862,[17,1170,1100,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.VariableActions=void 0;var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n})(_r(d[1])),t=_r(d[2]),n=_r(d[3]),o=e(_r(d[4])),a=_r(d[5]),i=_r(d[6]);function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:r})(e)}_e.VariableActions=({row:e})=>{const u=e.original.document,{addVariation:c}=(0,a.useAddVariation)(),l=r.useRef(null),s=r.useCallback(((e,r)=>{c(e,u,r),l.current&&l.current.close()}),[c,u]);return(0,i.jsxs)(n.Popover,{children:[(0,i.jsx)(n.PopoverTrigger,{ref:l,asChild:!0,children:(0,i.jsx)(t.IconButton,{name:"circleChevronRight",variant:"success",size:"4xl"})}),(0,i.jsx)(n.PopoverContent,{side:"right",className:"w-auto max-w-80 p-2",children:(0,i.jsx)(o.default,{parent:u,addToCart:s})})]})}}),3863,[1,17,1102,3396,3864,3878,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n})(_r(d[1])),t=_r(d[2]),n=_r(d[3]),a=_r(d[4]),o=e(_r(d[5])),i=_r(d[6]);function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:r})(e)}_e.default=({parent:e,addToCart:u})=>{const f=(0,a.useQuery)({queryKeys:['variations',{parentID:e.id}],collectionName:'variations',initialParams:{selector:{id:{$in:e.variations}}},endpoint:`products/${e.id}/variations`,greedy:!0});return r.useEffect((()=>()=>{f.removeWhere('attributes').exec()}),[]),(0,i.jsx)(t.ErrorBoundary,{children:(0,i.jsx)(n.Suspense,{children:(0,i.jsx)(o.default,{query:f,parent:e,addToCart:u})})})}}),3864,[1,17,888,2155,2168,3865,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a})(_r(d[1])),r=_r(d[2]),a=_r(d[3]),n=_r(d[4]),o=_r(d[5]),s=_r(d[6]),i=e(_r(d[7])),u=e(_r(d[8])),c=_r(d[9]),l=_r(d[10]),p=_r(d[11]),f=_r(d[12]);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}_e.default=({query:e,parent:b,addToCart:y})=>{const h=(0,r.useObservableSuspense)(e.resource),v=(0,r.useObservableEagerState)(e.rxQuery$.pipe((0,a.map)((()=>e.getVariationMatches())))),j=1===h.count&&h.hits[0].document,{format:x}=(0,p.useCurrencyFormat)(),_=(0,l.useT)(),O=t.useMemo((()=>(0,c.parseAttributes)(b.attributes,v,h.hits)),[b.attributes,v,h.hits]),M=t.useCallback((t=>{t.option?e.variationMatch(t).exec():e.removeVariationMatch({id:t.id,name:t.name}).exec()}),[e]),k=t.useCallback((()=>{if(j){const e=(O||[]).filter((e=>e.selected)).map((e=>({attr_id:e.selected.id,display_key:e.selected.name,display_value:e.selected.option})));y(j,e)}}),[y,O,j]);return(0,f.jsxs)(s.VStack,{className:"min-w-52",children:[O.map((({attribute:e,optionCounts:t,selected:r})=>(0,f.jsxs)(s.VStack,{space:"xs",children:[(0,f.jsx)(o.Text,{children:e.name}),e.characterCount<15?(0,f.jsx)(i.default,{attribute:e,onSelect:M,selected:r?.option,optionCounts:t}):(0,f.jsx)(u.default,{attribute:e,onSelect:M,selected:r?.option})]},e.name))),j&&(0,f.jsx)(n.Button,{onPress:k,children:(0,f.jsx)(n.ButtonText,{children:_('Add to Cart')+': '+x(j.price)})})]})}}),3865,[1,17,1170,1395,1167,1100,1130,3866,3876,3877,2083,3434,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=o?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n})(_r(d[1])),r=e(_r(d[2])),n=_r(d[3]),o=_r(d[4]),u=_r(d[5]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.default=({attribute:e,onSelect:a,selected:l="",optionCounts:i})=>{const[f,c]=t.useState(l),p=e?.options||[];t.useEffect((()=>{c(l)}),[l]);return(0,u.jsx)(r.default,{className:"flex-row",children:(0,u.jsx)(o.ToggleGroup,{value:f,onValueChange:t=>{c(t),a?.({id:e.id,name:e.name,option:t})},type:"single",children:p.map((e=>(0,u.jsx)(o.ToggleGroupItem,{value:e,disabled:0===i[e],children:(0,u.jsx)(n.Text,{children:e})},e)))})})}}),3866,[1,17,320,1100,3867,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ToggleGroupItem=_e.ToggleGroup=void 0;var t=e(_r(d[1])),r=f(_r(d[2])),n=f(_r(d[3])),o=_r(d[4]),a=_r(d[5]),i=_r(d[6]),s=_r(d[7]);const l=["className","variant","size","children"],u=["className","children","variant","size","isFirstItem","isLastItem"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}const p=r.createContext(null);function v(){const e=r.useContext(p);if(null===e)throw new Error('ToggleGroup compound components cannot be rendered outside the ToggleGroup component');return e}(_e.ToggleGroup=r.forwardRef(((e,a)=>{let{className:i,variant:u,size:c,children:f}=e,v=(0,t.default)(e,l);const b=r.Children.toArray(f);return(0,s.jsx)(n.Root,Object.assign({ref:a,className:(0,o.cn)('flex flex-row items-center gap-0','border border-border rounded-md',i)},v,{children:(0,s.jsx)(p.Provider,{value:{variant:u,size:c},children:b.map(((e,t)=>{if(!r.isValidElement(e))return e;const n=0===t,o=t===b.length-1;return r.cloneElement(e,{isFirstItem:n,isLastItem:o})}))})}))}))).displayName=n.Root.displayName;(_e.ToggleGroupItem=r.forwardRef(((e,r)=>{let{className:l,children:c,variant:f,size:p,isFirstItem:b,isLastItem:h}=e,y=(0,t.default)(e,u);const x=v(),{value:j}=n.useRootContext();return(0,s.jsx)(a.TextClassContext.Provider,{value:(0,o.cn)((0,i.toggleTextVariants)({variant:f,size:p}),n.utils.getIsSelected(j,y.value)?'text-accent-foreground':'web:group-hover:text-muted-foreground'),children:(0,s.jsx)(n.Item,Object.assign({ref:r,className:(0,o.cn)((0,i.toggleVariants)({variant:x.variant||f,size:x.size||p}),y.disabled&&'web:pointer-events-none opacity-50',n.utils.getIsSelected(j,y.value)&&'bg-accent',b&&'rounded-r-none',!h&&'border-r border-border rounded-none',h&&'rounded-l-none',l)},y,{children:c}))})}))).displayName=n.Item.displayName}),3867,[1,31,17,3868,894,1100,3873,483]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))}),3868,[3869]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Root=_e.Item=void 0,_e.useItemContext=function(){const e=l.useContext(b);if(!e)throw new Error("ToggleGroupItem compound components cannot be rendered outside the ToggleGroupItem component");return e},_e.useRootContext=h,_e.utils=void 0;var t=e(_r(d[1])),o=f(_r(d[2])),n=f(_r(d[3])),r=_r(d[4]),l=f(_r(d[5])),a=e(_r(d[6])),u=e(_r(d[7])),i=_r(d[8]);const s=["asChild","type","value","onValueChange","disabled","rovingFocus","orientation","dir","loop"],c=["asChild","value","disabled","onPress"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(p=function(e){return e?o:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=p(t);if(o&&o.has(e))return o.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}return n.default=e,o&&o.set(e,n),n}var v=l.createContext(null);function h(){const e=l.useContext(v);if(!e)throw new Error("ToggleGroup compound components cannot be rendered outside the ToggleGroup component");return e}(_e.Root=l.forwardRef(((e,r)=>{let{asChild:l,type:a,value:c,onValueChange:p,disabled:f=!1,rovingFocus:h,orientation:b,dir:C,loop:y}=e,j=(0,t.default)(e,s);const w=l?n.View:u.default;return(0,i.jsx)(v.Provider,{value:{type:a,value:c,disabled:f,onValueChange:p},children:(0,i.jsx)(o.Root,{type:a,value:c,onValueChange:p,disabled:f,rovingFocus:h,orientation:b,dir:C,loop:y,asChild:!0,children:(0,i.jsx)(w,Object.assign({ref:r},j))})})}))).displayName="RootToggleGroup";var b=l.createContext(null);(_e.Item=l.forwardRef(((e,l)=>{let{asChild:u,value:s,disabled:p=!1,onPress:f}=e,v=(0,t.default)(e,c);const{type:C,disabled:y,value:j,onValueChange:w}=h();const x=u?n.Pressable:a.default;return(0,i.jsx)(b.Provider,{value:{value:s},children:(0,i.jsx)(o.Item,{value:s,asChild:!0,children:(0,i.jsx)(x,Object.assign({ref:l,onPress:function(e){f?.(e),"single"===C&&w(r.ToggleGroupUtils.getNewSingleValue(j,s)),"multiple"===C&&w(r.ToggleGroupUtils.getNewMultipleValue(j,s))},disabled:y||p,role:"button"},v))})})}))).displayName="ItemToggleGroup";_e.utils=r.ToggleGroupUtils}),3869,[1,31,3870,1101,2297,17,445,320,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createToggleGroupScope=_e.ToggleGroupItem=_e.ToggleGroup=_e.Root=_e.Item=void 0;var o=e(_r(d[1])),t=e(_r(d[2])),r=_r(d[3]),a=_r(d[4]),l=(function(e,o){if(!o&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_(o);if(t&&t.has(e))return t.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var n=a?Object.getOwnPropertyDescriptor(e,l):null;n&&(n.get||n.set)?Object.defineProperty(r,l,n):r[l]=e[l]}return r.default=e,t&&t.set(e,r),r})(_r(d[5])),n=l,s=_r(d[6]),u=_r(d[7]),i=_r(d[8]),c=_r(d[9]);const p=["type"],f=["value","defaultValue","onValueChange"],v=["value","defaultValue","onValueChange"],j=["__scopeToggleGroup","disabled","rovingFocus","orientation","dir","loop"],b=["__scopeToggleGroup","value"];function _(e){if("function"!=typeof WeakMap)return null;var o=new WeakMap,t=new WeakMap;return(_=function(e){return e?t:o})(e)}var O="ToggleGroup",[G,h]=(0,r.createContextScope)(O,[l.createRovingFocusGroupScope]);_e.createToggleGroupScope=h;var y=(0,l.createRovingFocusGroupScope)(),T=_e.ToggleGroup=t.default.forwardRef(((e,t)=>{const{type:r}=e,a=(0,o.default)(e,p);if("single"===r){const e=a;return(0,c.jsx)(w,Object.assign({},e,{ref:t}))}if("multiple"===r){const e=a;return(0,c.jsx)(I,Object.assign({},e,{ref:t}))}throw new Error(`Missing prop \`type\` expected on \`${O}\``)}));T.displayName=O;var[x,C]=G(O),w=t.default.forwardRef(((e,r)=>{const{value:a,defaultValue:l,onValueChange:n=()=>{}}=e,s=(0,o.default)(e,f),[i,p]=(0,u.useControllableState)({prop:a,defaultProp:l,onChange:n});return(0,c.jsx)(x,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:p,onItemDeactivate:t.default.useCallback((()=>p("")),[p]),children:(0,c.jsx)(V,Object.assign({},s,{ref:r}))})})),I=t.default.forwardRef(((e,r)=>{const{value:a,defaultValue:l,onValueChange:n=()=>{}}=e,s=(0,o.default)(e,v),[i=[],p]=(0,u.useControllableState)({prop:a,defaultProp:l,onChange:n}),f=t.default.useCallback((e=>p(((o=[])=>[...o,e]))),[p]),j=t.default.useCallback((e=>p(((o=[])=>o.filter((o=>o!==e))))),[p]);return(0,c.jsx)(x,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:f,onItemDeactivate:j,children:(0,c.jsx)(V,Object.assign({},s,{ref:r}))})}));T.displayName=O;var[R,P]=G(O),V=t.default.forwardRef(((e,t)=>{const{__scopeToggleGroup:r,disabled:l=!1,rovingFocus:s=!0,orientation:u,dir:p,loop:f=!0}=e,v=(0,o.default)(e,j),b=y(r),_=(0,i.useDirection)(p),O=Object.assign({role:"group",dir:_},v);return(0,c.jsx)(R,{scope:r,rovingFocus:s,disabled:l,children:s?(0,c.jsx)(n.Root,Object.assign({asChild:!0},b,{orientation:u,dir:_,loop:f,children:(0,c.jsx)(a.Primitive.div,Object.assign({},O,{ref:t}))})):(0,c.jsx)(a.Primitive.div,Object.assign({},O,{ref:t}))})})),k="ToggleGroupItem",S=_e.ToggleGroupItem=t.default.forwardRef(((e,o)=>{const r=C(k,e.__scopeToggleGroup),a=P(k,e.__scopeToggleGroup),l=y(e.__scopeToggleGroup),s=r.value.includes(e.value),u=a.disabled||e.disabled,i=Object.assign({},e,{pressed:s,disabled:u}),p=t.default.useRef(null);return a.rovingFocus?(0,c.jsx)(n.Item,Object.assign({asChild:!0},l,{focusable:!u,active:s,ref:p,children:(0,c.jsx)(D,Object.assign({},i,{ref:o}))})):(0,c.jsx)(D,Object.assign({},i,{ref:o}))}));S.displayName=k;var D=t.default.forwardRef(((e,t)=>{const{__scopeToggleGroup:r,value:a}=e,l=(0,o.default)(e,b),n=C(k,r),u={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i="single"===n.type?u:void 0;return(0,c.jsx)(s.Toggle,Object.assign({},i,l,{ref:t,onPressedChange:e=>{e?n.onItemActivate(a):n.onItemDeactivate(a)}}))}));_e.Root=T,_e.Item=S}),3870,[1,31,17,3871,1111,2259,3872,1128,2256,484]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createContext=function(e,c){const u=n.createContext(c);function s(e){const{children:c}=e,s=(0,t.default)(e,o),i=n.useMemo((()=>s),Object.values(s));return(0,r.jsx)(u.Provider,{value:i,children:c})}return s.displayName=e+"Provider",[s,function(t){const r=n.useContext(u);if(r)return r;if(void 0!==c)return c;throw new Error(`\`${t}\` must be used within \`${e}\``)}]},_e.createContextScope=function(e,o=[]){let u=[];const i=()=>{const t=u.map((e=>n.createContext(e)));return function(r){const o=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:Object.assign({},r,{[e]:o})})),[r,o])}};return i.scopeName=e,[function(o,s){const i=n.createContext(s),a=u.length;function f(o){const{scope:u,children:s}=o,f=(0,t.default)(o,c),p=u?.[e][a]||i,l=n.useMemo((()=>f),Object.values(f));return(0,r.jsx)(p.Provider,{value:l,children:s})}function p(t,r){const c=r?.[e][a]||i,u=n.useContext(c);if(u)return u;if(void 0!==s)return s;throw new Error(`\`${t}\` must be used within \`${o}\``)}return u=[...u,s],f.displayName=o+"Provider",[f,p]},s(i,...o)]};var t=e(_r(d[1])),n=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&{}.hasOwnProperty.call(e,c)){var s=o?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(r,c,s):r[c]=e[c]}return r.default=e,n&&n.set(e,r),r})(_r(d[2])),r=_r(d[3]);const o=["children"],c=["scope","children"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>{const o=n(e)[`__scope${r}`];return Object.assign({},t,o)}),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}}),3871,[1,31,17,484]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Toggle=_e.Root=void 0;var t=e(_r(d[1])),r=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n})(_r(d[2])),n=_r(d[3]),o=_r(d[4]),a=_r(d[5]),s=_r(d[6]);const l=["pressed","defaultPressed","onPressedChange"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var f=_e.Toggle=r.forwardRef(((e,r)=>{const{pressed:u,defaultPressed:f=!1,onPressedChange:i}=e,p=(0,t.default)(e,l),[c=!1,b]=(0,o.useControllableState)({prop:u,onChange:i,defaultProp:f});return(0,s.jsx)(a.Primitive.button,Object.assign({type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":e.disabled?"":void 0},p,{ref:r,onClick:(0,n.composeEventHandlers)(e.onClick,(()=>{e.disabled||b(!c)}))}))}));f.displayName="Toggle";_e.Root=f}),3872,[1,31,17,1107,1128,1111,484]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.toggleVariants=_e.toggleTextVariants=_e.Toggle=void 0;var t=e(_r(d[1])),a=c(_r(d[2])),n=c(_r(d[3])),r=_r(d[4]),i=_r(d[5]),o=_r(d[6]),s=_r(d[7]);const u=["className","variant","size"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}const f=_e.toggleVariants=(0,r.cva)('web:group web:inline-flex items-center justify-center rounded-md web:ring-offset-background web:transition-colors web:hover:bg-muted active:bg-muted web:focus-visible:outline-none web:focus-visible:ring-2 web:focus-visible:ring-ring web:focus-visible:ring-offset-2',{variants:{variant:{default:'bg-transparent',outline:'border border-input bg-transparent web:hover:bg-accent active:bg-accent active:bg-accent'},size:{default:'h-10 px-3 native:h-12 native:px-[12]',sm:'h-9 px-2.5 native:h-10 native:px-[9]',lg:'h-11 px-5 native:h-14 native:px-6'}},defaultVariants:{variant:'default',size:'default'}}),v=_e.toggleTextVariants=(0,r.cva)('text-sm native:text-base text-foreground font-medium',{variants:{variant:{default:'',outline:'web:group-hover:text-accent-foreground web:group-active:text-accent-foreground'},size:{default:'',sm:'',lg:''}},defaultVariants:{variant:'default',size:'default'}});(_e.Toggle=a.forwardRef(((e,a)=>{let{className:r,variant:l,size:c}=e,b=(0,t.default)(e,u);return(0,s.jsx)(o.TextClassContext.Provider,{value:(0,i.cn)(v({variant:l,size:c}),b.pressed?'text-accent-foreground':'web:group-hover:text-muted-foreground',r),children:(0,s.jsx)(n.Root,Object.assign({ref:a,className:(0,i.cn)(f({variant:l,size:c}),b.disabled&&'web:pointer-events-none opacity-50',b.pressed&&'bg-accent',r)},b))})}))).displayName=n.Root.displayName}),3873,[1,31,17,3874,892,894,1100,483]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))}),3874,[3875]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Root=void 0;var r=e(_r(d[1])),t=u(_r(d[2])),n=u(_r(d[3])),o=u(_r(d[4])),s=e(_r(d[5])),a=_r(d[6]);const l=["asChild","pressed","onPressedChange","disabled","onPress"];function i(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:r})(e)}function u(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}(_e.Root=o.forwardRef(((e,o)=>{let{asChild:i,pressed:u,onPressedChange:f,disabled:c,onPress:p}=e,b=(0,r.default)(e,l);const P=i?n.Pressable:s.default;return(0,a.jsx)(t.Root,{pressed:u,onPressedChange:f,disabled:c,asChild:!0,children:(0,a.jsx)(P,Object.assign({ref:o,onPress:function(e){p?.(e),f(!u)},disabled:c,role:"button"},b))})}))).displayName="RootWebToggle"}),3875,[1,31,3872,1101,17,445,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,o){if(!o&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l(o);if(t&&t.has(e))return t.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n)})(_r(d[0]));var e=_r(d[1]),o=_r(d[2]),t=_r(d[3]),n=_r(d[4]);function l(e){if("function"!=typeof WeakMap)return null;var o=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:o})(e)}_e.default=({attribute:l,onSelect:r,selected:a})=>{const i=(0,t.useT)(),c=l?.options||[];return c.length<=10?(0,n.jsxs)(o.Select,{value:{value:a,label:a},onValueChange:({value:e})=>r({id:l.id,name:l.name,option:e}),children:[(0,n.jsx)(o.SelectTrigger,{children:(0,n.jsx)(o.SelectValue,{placeholder:i('Select an option',{_tags:'core'})})}),(0,n.jsx)(o.SelectContent,{children:c.map((e=>(0,n.jsx)(o.SelectItem,{label:e,value:e},e)))})]}):(0,n.jsxs)(e.Combobox,{value:{value:a,label:a},onValueChange:({value:e})=>r({id:l.id,name:l.name,option:e}),children:[(0,n.jsx)(e.ComboboxTrigger,{children:(0,n.jsx)(e.ComboboxValue,{placeholder:i('Select an option',{_tags:'core'})})}),(0,n.jsx)(e.ComboboxContent,{children:(0,n.jsxs)(e.ComboboxSearch,{children:[(0,n.jsx)(e.ComboboxInput,{placeholder:i('Search Variations',{_tags:'core'})}),(0,n.jsx)(e.ComboboxEmpty,{children:i('No variation found',{_tags:'core'})}),(0,n.jsx)(e.ComboboxList,{children:c.map((o=>(0,n.jsx)(e.ComboboxItem,{value:o,label:o,children:o},o)))})]})})]})}}),3876,[17,3406,3300,2083,483]);
__d((function(g,r,i,_a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.parseAttributes=void 0;e.parseAttributes=(t,n,o)=>{const a=o.flatMap((n=>{const o=t?.filter((t=>t.variation&&!(n.document.attributes||[]).some((n=>n.id===t.id))));return o&&o.length>0?o.reduce(((t,n)=>t.flatMap((t=>(n.options||[]).map((o=>({document:Object.assign({},t.document,{attributes:[...t.document.attributes||[],{id:n.id,name:n.name,option:o}]})})))))),[n]):[n]}));let s=a;return n&&n.length>0&&(s=a.filter((t=>n.every((n=>(t.document.attributes||[]).some((t=>t.id===n.id&&t.name===n.name&&t.option===n.option))))))),(t||[]).filter((t=>t.variation)).sort(((t,n)=>(t.position||0)-(n.position||0))).map((t=>{const o=(t.options||[]).join('').length,a=n?.find((n=>n.name===t.name)),u={};a||(t.options||[]).forEach((n=>{const o=s.filter((o=>(o.document.attributes||[]).some((o=>o.id===t.id&&o.name===t.name&&o.option===n)))).length;u[n]=o}));const c=Object.entries(u).filter((([,t])=>t>0)),p=a||1!==c.length?a:{id:t.id,name:t.name,option:c[0][0]};return{attribute:Object.assign({},t,{characterCount:o}),optionCounts:u,selected:p}}))}}),3877,[]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useAddVariation=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,a&&a.set(e,r),r})(_r(d[1])),a=_r(d[2]),r=_r(d[3]),n=e(_r(d[4])),i=_r(d[5]),o=_r(d[6]),s=_r(d[7]),u=_r(d[8]),c=_r(d[9]),l=_r(d[10]),f=_r(d[11]);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}_e.useAddVariation=()=>{const{addItemToOrder:e}=(0,i.useAddItemToOrder)(),{currentOrder:p}=(0,f.useCurrentOrder)(),{updateLineItem:y}=(0,s.useUpdateLineItem)(),_=(0,c.useT)(),{uiSettings:v}=(0,l.useUISettings)('pos-products'),O=(0,a.useObservableEagerState)(v.metaDataKeys$),{calculateLineItemTaxesAndTotals:T}=(0,o.useCalculateLineItemTaxAndTotals)();return{addVariation:t.useCallback((async(t,a,i)=>{let o;const s=t.getLatest(),c=a.getLatest();if(!p.isNew&&0!==c.id){const e=p.getLatest().line_items??[],t=(0,u.findByProductVariationID)(e,c.id,s.id);if(1===t.length){const e=(0,u.getUuidFromLineItem)(t[0]);e&&(o=await y(e,{quantity:t[0].quantity+1}))}}if(!o){const t=O?O.split(','):[];let a=(0,u.convertVariationToLineItemWithoutTax)(s,c,i,t);a=T(a),o=await e('line_items',a)}o?r.Toast.show({type:'success',text1:_('{name} added to cart',{_tags:'core',name:c.name})}):(n.default.error('Error adding variation to order',{variation:s.id,parent:c.id,metaData:i}),r.Toast.show({type:'error',text1:_('Error adding {name} to cart',{_tags:'core',name:c.name})}))}),[p,y,O,T,e,_])}}}),3878,[1,17,1170,1139,1767,3794,3800,3802,3785,2083,2382,3778]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.ProductVariationActions=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n})(_r(d[0])),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}_e.ProductVariationActions=({row:o})=>{const a=o.original.document,i=o.getParentRow().document,{addVariation:u}=(0,r.useAddVariation)(),c=e.useMemo((()=>a.attributes.map((e=>({attr_id:e.id,display_key:e.name,display_value:e.option})))),[a]);return(0,n.jsx)(t.IconButton,{name:"circlePlus",size:"4xl",onPress:()=>u(a,i,c),variant:"success"})}}),3879,[17,1102,3878,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.ProductVariationName=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&{}.hasOwnProperty.call(e,c)){var s=o?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(n,c,s):n[c]=e[c]}n.default=e,r&&r.set(e,n)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]),n=_r(d[4]),o=_r(d[5]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.ProductVariationName=({row:a,column:c})=>{const s=a.original.document,{show:u}=c.columnDef.meta;return(0,o.jsxs)(r.VStack,{space:"xs",children:[(0,o.jsx)(t.Text,{className:"font-bold",children:(0,e.decode)(s.name)}),u('sku')&&(0,o.jsx)(t.Text,{className:"text-sm",children:s.sku}),u('barcode')&&(0,o.jsx)(t.Text,{className:"text-sm",children:s.barcode}),u('stock_quantity')&&(0,o.jsx)(n.StockQuantity,{row:a,className:"text-sm",withText:!0})]})}}),3880,[17,3390,1100,1130,3859,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.schema=_e.UISettingsForm=void 0;var e=p(_r(d[0])),t=_r(d[1]),r=_r(d[2]),o=_r(d[3]),n=p(_r(d[4])),s=_r(d[5]),a=_r(d[6]),c=_r(d[7]),l=_r(d[8]),u=_r(d[9]),i=_r(d[10]);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=n?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o}const b=_e.schema=n.object(Object.assign({showOutOfStock:n.boolean()},l.columnsFormSchema.shape,{metaDataKeys:n.string().optional()}));_e.UISettingsForm=()=>{const{uiSettings:n,getUILabel:f,patchUI:p,resetUI:j}=(0,u.useUISettings)('pos-products'),O=(0,r.useObservableState)(n.$,n.get()),{buttonPressHandlerRef:h}=(0,l.useDialogContext)();h.current=j;const y=(0,c.useT)(),F=(0,o.useForm)({resolver:(0,t.zodResolver)(b),defaultValues:Object.assign({},O)});return e.useEffect((()=>{F.reset(Object.assign({},O))}),[O,F]),(0,s.useFormChangeHandler)({form:F,onChange:p}),(0,i.jsx)(a.VStack,{children:(0,i.jsx)(s.Form,Object.assign({},F,{children:(0,i.jsxs)(a.VStack,{children:[(0,i.jsx)(s.FormField,{control:F.control,name:"showOutOfStock",render:({field:e})=>(0,i.jsx)(s.FormSwitch,Object.assign({label:f('showOutOfStock')},e))}),(0,i.jsx)(l.UISettingsColumnsForm,{columns:O.columns,getUILabel:f}),(0,i.jsx)(s.FormField,{control:F.control,name:"metaDataKeys",render:({field:e})=>(0,i.jsx)(s.FormInput,Object.assign({label:f('metaDataKeys'),description:y('A list of product meta keys that should be copied to the cart',{_tags:'core'})},e))})]})}))})}}),3881,[17,3271,1170,3273,3274,3275,1130,2083,3322,2382,483]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useBarcode=void 0;var t=r(d[0]),o=r(d[1]),s=r(d[2]),c=r(d[3]),n=r(d[4]),u=r(d[5]),l=r(d[6]),h=r(d[7]);e.useBarcode=(f,S)=>{const{barcode$:p,onKeyPress:_}=(0,n.useBarcodeDetection)(),{barcodeSearch:b}=(0,n.useBarcodeSearch)(),{addProduct:v}=(0,l.useAddProduct)(),{addVariation:y}=(0,h.useAddVariation)(),x=(0,s.useT)(),{collection:w}=(0,u.useCollection)('products'),{uiSettings:B}=(0,c.useUISettings)('pos-products'),O=(0,t.useObservableEagerState)(B.showOutOfStock$);return(0,t.useSubscription)(p,(async t=>{const s=x('Barcode scanned: {barcode}',{barcode:t,_tags:'core'}),c=await b(t);if(0===c.length||c.length>1)return o.Toast.show({text1:s,text2:x('{count} products found locally',{count:c.length,_tags:'core'}),type:'error'}),f.search(t),void S.current?.setSearch(t);const[n]=c;if(O||'instock'===n.stock_status){if('variations'===n.collection.name){const o=n.parent_id;if(!o)return f.search(t),void S.current?.setSearch(t);const s=await w.findOne({selector:{id:o}}).exec();if(!s)return f.search(t),void S.current?.setSearch(t);y(n,s)}else v(n);o.Toast.show({text1:s,text2:x('{name} added to cart',{name:n.name,_tags:'core'}),type:'success'}),S.current?.onSearch('')}else o.Toast.show({text1:s,text2:x('{name} out of stock',{name:n.name,_tags:'core'}),type:'error'})})),{onKeyPress:_}}}),3882,[1170,1139,2083,2382,3495,3389,3799,3878]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h(r);if(t&&t.has(e))return t.get(e);var s={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(s,n,o):s[n]=e[n]}return s.default=e,t&&t.set(e,s),s})(_r(d[1])),t=e(_r(d[2])),s=_r(d[3]),a=_r(d[4]),n=_r(d[5]),o=_r(d[6]),c=_r(d[7]),u=_r(d[8]),l=_r(d[9]),i=_r(d[10]),f=e(_r(d[11])),p=e(_r(d[12])),x=_r(d[13]),j=_r(d[14]);function h(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(h=function(e){return e?t:r})(e)}_e.default=()=>{const[e,h]=r.useState('products'),y=(0,x.useT)();return(0,j.jsxs)(i.VStack,{className:"h-full gap-0",children:[(0,j.jsx)(t.default,{className:"flex-1",children:'products'===e?(0,j.jsx)(u.Suspense,{children:(0,j.jsx)(a.ErrorBoundary,{children:(0,j.jsx)(p.default,{})})}):(0,j.jsx)(u.Suspense,{children:(0,j.jsx)(a.ErrorBoundary,{children:(0,j.jsx)(f.default,{})})})}),(0,j.jsxs)(n.HStack,{className:"bg-white border-border border-t gap-0",children:[(0,j.jsxs)(s.Button,{variant:"ghost",onPress:()=>h('products'),className:"flex-1 h-11",children:[(0,j.jsx)(o.Icon,{name:"gifts",className:'products'===e?'text-primary':'text-muted-foreground'}),(0,j.jsx)(l.Text,{className:(0,c.cn)('text-xs uppercase','products'===e?'text-primary':'text-muted-foreground'),children:y('Products',{_tags:'core'})})]}),(0,j.jsxs)(s.Button,{variant:"ghost",onPress:()=>h('cart'),className:"flex-1 h-11",children:[(0,j.jsx)(o.Icon,{name:"cartShopping",className:'cart'===e?'text-primary':'text-muted-foreground'}),(0,j.jsx)(l.Text,{className:(0,c.cn)('text-xs uppercase','cart'===e?'text-primary':'text-muted-foreground'),children:y('Cart',{_tags:'core'})})]})]})]})}}),3883,[1,17,320,1167,888,891,898,894,2155,1100,1130,3789,3855,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SettingsTabs=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a})(_r(d[1])),n=_r(d[2]),a=_r(d[3]),r=_r(d[4]),l=_r(d[5]),o=_r(d[6]),s=_r(d[7]),c=_r(d[8]),u=_r(d[9]),i=_r(d[10]),f=_r(d[11]),p=e(_r(d[12])),x=_r(d[13]);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}_e.SettingsTabs=()=>{const[e,j]=t.useState('general'),b=(0,f.useT)();(0,p.default)();const v=[{value:'general',label:b('General Settings',{_tags:'core'}),component:(0,x.jsx)(c.GeneralSettings,{})},{value:'tax',label:b('Tax Settings',{_tags:'core'}),component:(0,x.jsx)(i.TaxSettings,{})},{value:'barcode',label:b('Barcode Scanning',{_tags:'core'}),component:(0,x.jsx)(s.BarcodeScanning,{})},{value:'shortcuts',label:b('Keyboard Shortcuts',{_tags:'core'}),component:(0,x.jsx)(u.KeyboardShortcuts,{})}];return(0,x.jsx)(a.Modal,{children:(0,x.jsxs)(a.ModalContent,{size:"xl",children:[(0,x.jsx)(a.ModalHeader,{children:(0,x.jsx)(a.ModalTitle,{children:b('Settings',{_tags:'core'})})}),(0,x.jsx)(a.ModalBody,{children:(0,x.jsxs)(l.Tabs,{value:e,onValueChange:j,children:[(0,x.jsx)(l.TabsList,{className:"flex-row w-full",children:v.map((e=>(0,x.jsx)(l.TabsTrigger,{value:e.value,className:"flex-1",children:(0,x.jsx)(o.Text,{children:e.label})},e.value)))}),v.map((e=>(0,x.jsx)(l.TabsContent,{value:e.value,children:(0,x.jsx)(n.ErrorBoundary,{children:(0,x.jsx)(r.Suspense,{children:e.component})})},e.value)))]})})]})})}}),3884,[1,17,888,2388,2155,3402,1100,3885,3888,3892,3893,2083,3394,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.BarcodeScanning=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,r&&r.set(e,n)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]),r=_r(d[3]),n=_r(d[4]),a=_r(d[5]),o=_r(d[6]),c=_r(d[7]);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}_e.BarcodeScanning=()=>{const s=(0,o.useT)();return(0,c.jsxs)(r.VStack,{className:"gap-4",children:[(0,c.jsx)(a.BarcodeSettings,{}),(0,c.jsx)(t.Text,{className:"text-md font-bold",children:s('Barcode Scanning Test',{_tags:'core'})}),(0,c.jsx)(n.BarcodeDisplay,{}),(0,c.jsx)(e.ModalFooter,{className:"px-0",children:(0,c.jsx)(e.ModalClose,{children:s('Close',{_tags:'core'})})})]})}}),3885,[17,2388,1100,1130,3886,3887,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.BarcodeDisplay=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var c=n?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(r,s,c):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r})(_r(d[0])),t=_r(d[1]),a=_r(d[2]),r=_r(d[3]),n=_r(d[4]),s=_r(d[5]),c=_r(d[6]),o=_r(d[7]),l=_r(d[8]);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}_e.BarcodeDisplay=()=>{const[i,u]=e.useState(''),{barcode$:f}=(0,o.useBarcodeDetection)(),p=(0,t.useObservableState)(f),b=(0,c.useT)(),v=e.useCallback((e=>{u((t=>t+(0,a.getKeyFromEvent)(e)))}),[]);return(0,a.useHotkeys)('*',v),(0,l.jsxs)(s.VStack,{children:[(0,l.jsxs)(s.VStack,{space:"sm",children:[(0,l.jsx)(n.Label,{nativeID:"keypress-event",children:b('Keypress Event',{_tags:'core'})}),(0,l.jsx)(r.Input,{className:"font-mono bg-accent",value:i,editable:!1,"aria-disabled":!0})]}),(0,l.jsxs)(s.VStack,{space:"sm",children:[(0,l.jsx)(n.Label,{nativeID:"detected-barcode",children:b('Detected Barcode',{_tags:'core'})}),(0,l.jsx)(r.Input,{className:"font-mono bg-accent",value:p,editable:!1,"aria-disabled":!0})]})]})}}),3886,[17,1170,3760,3299,3279,1130,2083,3495,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.BarcodeSettings=void 0;var n=h(_r(d[1])),r=e(_r(d[2])),a=_r(d[3]),t=_r(d[4]),c=_r(d[5]),o=h(_r(d[6])),s=_r(d[7]),i=_r(d[8]),_=_r(d[9]),l=_r(d[10]),u=_r(d[11]),f=_r(d[12]),b=_r(d[13]);function p(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:n})(e)}function h(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(n);if(r&&r.has(e))return r.get(e);var a={__proto__:null},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&{}.hasOwnProperty.call(e,c)){var o=t?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(a,c,o):a[c]=e[c]}return a.default=e,r&&r.set(e,a),a}const j=o.object({barcode_scanning_avg_time_input_threshold:o.number().default(24),barcode_scanning_min_chars:o.number().default(8),barcode_scanning_prefix:o.string().optional(),barcode_scanning_suffix:o.string().optional()});_e.BarcodeSettings=()=>{const{store:e}=(0,_.useAppState)(),o=(0,l.useT)(),{localPatch:p}=(0,f.useLocalMutation)(),h=(0,t.useObservablePickState)(e.$,(()=>{const n=e.getLatest();return{barcode_scanning_avg_time_input_threshold:n.barcode_scanning_avg_time_input_threshold,barcode_scanning_min_chars:n.barcode_scanning_min_chars,barcode_scanning_prefix:n.barcode_scanning_prefix,barcode_scanning_suffix:n.barcode_scanning_suffix}}),'barcode_scanning_avg_time_input_threshold','barcode_scanning_min_chars','barcode_scanning_prefix','barcode_scanning_suffix'),x=(0,c.useForm)({resolver:(0,a.zodResolver)(j),defaultValues:Object.assign({},h)}),v=n.useCallback((async n=>{await p({document:e,data:n})}),[p,e]);return(0,s.useFormChangeHandler)({form:x,onChange:v}),n.useEffect((()=>{x.reset(Object.assign({},h))}),[h,x]),(0,b.jsx)(s.Form,Object.assign({},x,{children:(0,b.jsxs)(i.VStack,{className:"gap-4",children:[(0,b.jsx)(u.FormErrors,{}),(0,b.jsxs)(r.default,{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(s.FormField,{control:x.control,name:"barcode_scanning_avg_time_input_threshold",render:({field:e})=>(0,b.jsx)(s.FormInput,Object.assign({label:o('Barcode Average Time Input Threshold (ms)',{_tags:'core'}),type:"numeric"},e))}),(0,b.jsx)(s.FormField,{control:x.control,name:"barcode_scanning_min_chars",render:({field:e})=>(0,b.jsx)(s.FormInput,Object.assign({label:o('Barcode Minimum Length',{_tags:'core'}),type:"numeric"},e))}),(0,b.jsx)(s.FormField,{control:x.control,name:"barcode_scanning_prefix",render:({field:e})=>(0,b.jsx)(s.FormInput,Object.assign({label:o('Barcode Scanner Prefix',{_tags:'core'})},e))}),(0,b.jsx)(s.FormField,{control:x.control,name:"barcode_scanning_suffix",render:({field:e})=>(0,b.jsx)(s.FormInput,Object.assign({label:o('Barcode Scanner Suffix',{_tags:'core'})},e))})]})]})}))}}),3887,[1,17,320,3271,1170,3273,3274,3275,1130,1168,2083,3400,3401,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.GeneralSettings=void 0;var t=D(_r(d[1])),r=e(_r(d[2])),o=_r(d[3]),s=_r(d[4]),a=_r(d[5]),c=D(_r(d[6])),n=_r(d[7]),l=_r(d[8]),u=_r(d[9]),i=_r(d[10]),_=_r(d[11]),p=_r(d[12]),f=_r(d[13]),b=_r(d[14]),j=_r(d[15]),y=_r(d[16]),F=_r(d[17]),h=_r(d[18]),x=_r(d[19]),C=_r(d[20]),S=_r(d[21]),O=e(_r(d[22])),v=_r(d[23]),w=_r(d[24]),P=_r(d[25]);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(k=function(e){return e?r:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=k(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var c=s?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}const I=c.object({name:c.string().optional(),store_country:c.string().optional(),store_state:c.string().optional(),store_city:c.string().optional(),store_postcode:c.string().optional(),locale:c.string().optional(),default_customer:c.number().default(0),default_customer_is_cashier:c.boolean().default(!1),currency:c.string().default('USD'),currency_pos:c.string().default('left'),price_thousand_sep:c.string().default(','),price_decimal_sep:c.string().default('.'),price_num_decimals:c.number().default(2),thousands_group_style:c.enum(['thousand','lakh','wan']).default('thousand')});_e.GeneralSettings=()=>{const{store:e}=(0,_.useAppState)(),c=(0,s.useObservablePickState)(e.$,(()=>{const t=e.getLatest();return{name:t.name,store_country:t.store_country,store_state:t.store_state,store_city:t.store_city,store_postcode:t.store_postcode,locale:t.locale,default_customer:t.default_customer,default_customer_is_cashier:t.default_customer_is_cashier,currency:t.currency,currency_pos:t.currency_pos,price_thousand_sep:t.price_thousand_sep,price_decimal_sep:t.price_decimal_sep,price_num_decimals:t.price_num_decimals,thousands_group_style:t.thousands_group_style}}),'name','store_country','store_state','store_city','store_postcode','locale','default_customer','default_customer_is_cashier','currency','currency_pos','price_thousand_sep','price_decimal_sep','price_num_decimals','thousands_group_style'),{defaultCustomerResource:k}=(0,v.useDefaultCustomer)(),D=(0,s.useObservableSuspense)(k),M=(0,p.useT)(),{localPatch:N}=(0,S.useLocalMutation)(),{format:B}=(0,O.default)(),[G,L]=t.useState(!1),R=(0,w.useRestHttpClient)(),T=(0,a.useForm)({resolver:(0,o.zodResolver)(I),defaultValues:Object.assign({},c)}),V=t.useCallback((async t=>{await N({document:e,data:t})}),[N,e]);(0,l.useFormChangeHandler)({form:T,onChange:V}),t.useEffect((()=>{T.reset(Object.assign({},c))}),[c,T]);const W=T.watch('default_customer_is_cashier'),E=T.watch('store_country',T.getValues('store_country')),H=t.useCallback((async()=>{L(!0);try{const t=(await R.get(`stores/${e.id}`)).data;await N({document:e,data:{name:t.name,store_country:t.store_country,store_state:t.store_state,store_city:t.store_city,store_postcode:t.store_postcode,locale:t.locale,default_customer:t.default_customer,default_customer_is_cashier:t.default_customer_is_cashier,currency:t.currency,currency_pos:t.currency_pos,price_thousand_sep:t.price_thousand_sep,price_decimal_sep:t.price_decimal_sep,price_num_decimals:t.price_num_decimals}})}catch(e){console.error(e)}finally{L(!1)}}),[R,N,e]);return(0,P.jsx)(l.Form,Object.assign({},T,{children:(0,P.jsxs)(i.VStack,{className:"gap-4",children:[(0,P.jsx)(h.FormErrors,{}),(0,P.jsxs)(r.default,{className:"grid grid-cols-2 gap-4",children:[(0,P.jsx)(r.default,{className:"col-span-2",children:(0,P.jsx)(l.FormField,{control:T.control,name:"name",render:({field:e})=>(0,P.jsx)(l.FormInput,Object.assign({label:M('Store Name',{_tags:'core'})},e))})}),(0,P.jsx)(l.FormField,{control:T.control,name:"store_city",render:({field:e})=>(0,P.jsx)(l.FormInput,Object.assign({label:M('Store Base City',{_tags:'core'})},e,{disabled:!0}))}),(0,P.jsx)(l.FormField,{control:T.control,name:"store_postcode",render:({field:e})=>(0,P.jsx)(l.FormInput,Object.assign({label:M('Store Base Postcode',{_tags:'core'})},e,{disabled:!0}))}),(0,P.jsx)(l.FormField,{name:"store_state",render:({field:e})=>(0,P.jsx)(l.FormInput,Object.assign({customComponent:b.StateFormInput,label:M('Store Base State',{_tags:'core'})},e,{countryCode:E,disabled:!0}))}),(0,P.jsx)(l.FormField,{name:"store_country",render:({field:e})=>(0,P.jsx)(l.FormCombobox,Object.assign({customComponent:f.CountryCombobox,label:M('Store Base Country',{_tags:'core'})},e,{disabled:!0}))}),(0,P.jsx)(l.FormField,{control:T.control,name:"locale",render:({field:e})=>(0,P.jsx)(l.FormSelect,Object.assign({customComponent:x.LanguageSelect,label:M('Language',{_tags:'core'})},e))}),(0,P.jsxs)(i.VStack,{children:[(0,P.jsx)(l.FormField,{control:T.control,name:"default_customer",render:({field:e})=>(0,P.jsx)(l.FormCombobox,Object.assign({customComponent:F.CustomerSelect,label:M('Default Customer',{_tags:'core'}),withGuest:!0},e,{value:{value:e.value,label:B(D)},disabled:W}))}),(0,P.jsx)(l.FormField,{control:T.control,name:"default_customer_is_cashier",render:({field:e})=>(0,P.jsx)(l.FormSwitch,Object.assign({label:M('Default Customer is cashier',{_tags:'core'})},e))})]}),(0,P.jsx)(l.FormField,{control:T.control,name:"currency",render:({field:e})=>(0,P.jsx)(l.FormCombobox,Object.assign({customComponent:y.CurrencySelect,label:M('Currency',{_tags:'core'})},e))}),(0,P.jsx)(l.FormField,{control:T.control,name:"currency_pos",render:({field:e})=>(0,P.jsx)(l.FormSelect,Object.assign({customComponent:j.CurrencyPositionSelect,label:M('Currency Position',{_tags:'core'})},e))}),(0,P.jsx)(l.FormField,{control:T.control,name:"price_decimal_sep",render:({field:e})=>(0,P.jsx)(l.FormInput,Object.assign({label:M('Decimal Separator',{_tags:'core'})},e))}),(0,P.jsx)(l.FormField,{control:T.control,name:"price_num_decimals",render:({field:e})=>(0,P.jsx)(l.FormInput,Object.assign({label:M('Number of Decimals',{_tags:'core'}),type:"numeric"},e))}),(0,P.jsx)(l.FormField,{control:T.control,name:"price_thousand_sep",render:({field:e})=>(0,P.jsx)(l.FormInput,Object.assign({label:M('Thousand Separator',{_tags:'core'})},e))}),(0,P.jsx)(l.FormField,{control:T.control,name:"thousands_group_style",render:({field:e})=>(0,P.jsx)(l.FormSelect,Object.assign({label:M('Thousands Group Style',{_tags:'core'}),customComponent:C.ThousandsStyleSelect},e))})]}),(0,P.jsxs)(u.ModalFooter,{className:"px-0",children:[(0,P.jsx)(n.Button,{variant:"destructive",onPress:H,loading:G,children:M('Restore server settings',{_tags:'core'})}),(0,P.jsx)(u.ModalClose,{children:M('Close',{_tags:'core'})})]})]})}))}}),3888,[1,17,320,3271,1170,3273,3274,1167,3275,2388,1130,1168,2083,3412,3419,3889,3441,3445,3400,3890,3891,3401,3424,3783,2300,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.CurrencyPositionSelect=void 0;var t=e(_r(d[1])),l=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=c(t);if(l&&l.has(e))return l.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var u=r?Object.getOwnPropertyDescriptor(e,n):null;u&&(u.get||u.set)?Object.defineProperty(a,n,u):a[n]=e[n]}return a.default=e,l&&l.set(e,a),a})(_r(d[2])),a=_r(d[3]),r=_r(d[4]),n=_r(d[5]),u=_r(d[6]);const o=["onValueChange","value"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(c=function(e){return e?l:t})(e)}_e.CurrencyPositionSelect=l.forwardRef(((e,c)=>{let{onValueChange:i,value:s}=e;(0,t.default)(e,o);const[f,p]=l.useState(0),v=(0,n.useT)(),h=l.useMemo((()=>[{value:'left',label:v('Left',{_tags:'core'})},{value:'right',label:v('Right',{_tags:'core'})},{value:'left_space',label:v('Left with space',{_tags:'core'})},{value:'right_space',label:v('Right with space',{_tags:'core'})}]),[v]),_=h.find((e=>e.value===s?.value))?.label;return(0,u.jsxs)(a.Select,{ref:c,value:Object.assign({},s,{label:_}),onValueChange:i,children:[(0,u.jsx)(a.SelectTrigger,{onLayout:e=>{p(e.nativeEvent.layout.width)},children:(0,u.jsx)(a.SelectValue,{placeholder:v('Select a currency position',{_tags:'core'})})}),(0,u.jsx)(a.SelectContent,{style:{width:f},children:(0,u.jsx)(a.SelectGroup,{children:h.map((e=>(0,u.jsx)(a.SelectItem,{label:e.label,value:e.value,children:(0,u.jsx)(r.Text,{children:e.label})},e.value)))})})]})}))}),3889,[1,31,17,3300,1100,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.LanguageSelect=void 0;var a=e(_r(d[1])),o=(function(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=s(a);if(o&&o.has(e))return o.get(e);var n={__proto__:null},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var l=t?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,o&&o.set(e,n),n})(_r(d[2])),n=e(_r(d[3])),t=_r(d[4]),r=_r(d[5]),l=_r(d[6]),u=_r(d[7]);const c=["value","onValueChange"];function s(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,o=new WeakMap;return(s=function(e){return e?o:a})(e)}_e.LanguageSelect=o.forwardRef(((e,s)=>{let{value:i,onValueChange:b}=e;(0,a.default)(e,c);const{locales:f}=(0,l.useLocale)(),v=(0,r.useT)(),p=o.useMemo((()=>(0,n.default)(f,(e=>{let a=e.name;return e?.nativeName&&e.name!==e.nativeName&&(a+=` (${e.nativeName})`),{label:a,value:e.locale}}))),[f]),x=o.useMemo((()=>{const e=p.find((e=>e.value===i?.value));return e?.label}),[p,i]);return(0,u.jsxs)(t.Combobox,{ref:s,value:Object.assign({},i,{label:x}),onValueChange:b,children:[(0,u.jsx)(t.ComboboxTrigger,{children:(0,u.jsx)(t.ComboboxValue,{placeholder:v('Select Language',{_tags:'core'})})}),(0,u.jsx)(t.ComboboxContent,{children:(0,u.jsxs)(t.ComboboxSearch,{children:[(0,u.jsx)(t.ComboboxInput,{placeholder:v('Search Languages',{_tags:'core'})}),(0,u.jsx)(t.ComboboxEmpty,{children:v('No language found',{_tags:'core'})}),(0,u.jsx)(t.ComboboxList,{children:p.map((e=>(0,u.jsx)(t.ComboboxItem,{value:e.value,label:e.label},e.value)))})]})})]})}))}),3890,[1,31,17,2047,3406,2083,2087,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ThousandsStyleSelect=void 0;var t=e(_r(d[1])),l=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=i(t);if(l&&l.has(e))return l.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var u=n?Object.getOwnPropertyDescriptor(e,r):null;u&&(u.get||u.set)?Object.defineProperty(a,r,u):a[r]=e[r]}return a.default=e,l&&l.set(e,a),a})(_r(d[2])),a=_r(d[3]),n=_r(d[4]),r=_r(d[5]),u=_r(d[6]),o=_r(d[7]),s=_r(d[8]);const c=["onValueChange","value"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(i=function(e){return e?l:t})(e)}_e.ThousandsStyleSelect=l.forwardRef(((e,i)=>{let{onValueChange:f,value:v}=e;(0,t.default)(e,c);const[p,h]=l.useState(0),b=(0,o.useT)(),{store:y}=(0,u.useAppState)(),j=(0,a.useObservableEagerState)(y.price_thousand_sep$),S=l.useMemo((()=>[{value:'thousand',label:`123${j}456${j}789`},{value:'lakh',label:`12${j}34${j}56${j}789`},{value:'wan',label:`1${j}2345${j}6789`}]),[j]),_=S.find((e=>e.value===v?.value))?.label;return(0,s.jsxs)(n.Select,{ref:i,value:Object.assign({},v,{label:_}),onValueChange:f,children:[(0,s.jsx)(n.SelectTrigger,{onLayout:e=>{h(e.nativeEvent.layout.width)},children:(0,s.jsx)(n.SelectValue,{placeholder:b('Select thousands style',{_tags:'core'})})}),(0,s.jsx)(n.SelectContent,{style:{width:p},children:(0,s.jsx)(n.SelectGroup,{children:S.map((e=>(0,s.jsx)(n.SelectItem,{label:e.label,value:e.value,children:(0,s.jsx)(r.Text,{children:e.label})},e.value)))})})]})}))}),3891,[1,31,17,1170,3300,1100,1168,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.KeyboardShortcuts=void 0;!(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(r);if(t&&t.has(e))return t.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var i=s?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]}o.default=e,t&&t.set(e,o)})(_r(d[0]));var e=_r(d[1]),r=_r(d[2]),t=_r(d[3]),o=_r(d[4]),s=_r(d[5]);function c(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:r})(e)}_e.KeyboardShortcuts=()=>{const c=(0,o.useT)(),n=[{key:'ctrl + shift + s',description:c('Settings',{_tags:'core'})},{key:'ctrl + shift + a',description:c('POS',{_tags:'core'})},{key:'ctrl + shift + p',description:c('Products',{_tags:'core'})},{key:'ctrl + shift + o',description:c('Orders',{_tags:'core'})},{key:'ctrl + shift + c',description:c('Customers',{_tags:'core'})},{key:'ctrl + shift + ?',description:c('Support',{_tags:'core'})},{key:'ctrl + shift + l',description:c('Logout',{_tags:'core'})}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.Table,{"aria-labelledby":"keyboard-shortcuts",children:[(0,s.jsx)(r.TableHeader,{children:(0,s.jsxs)(r.TableRow,{children:[(0,s.jsx)(r.TableHead,{children:(0,s.jsx)(t.Text,{children:c('Key Combination',{_tags:'core'})})}),(0,s.jsx)(r.TableHead,{children:(0,s.jsx)(t.Text,{children:c('Description',{_tags:'core'})})})]})}),(0,s.jsx)(r.TableBody,{children:n.map((e=>(0,s.jsxs)(r.TableRow,{children:[(0,s.jsx)(r.TableCell,{children:(0,s.jsx)(t.Text,{className:"p-2 border border-border rounded bg-muted font-mono text-sm",children:e.key})}),(0,s.jsx)(r.TableCell,{children:(0,s.jsx)(t.Text,{children:e.description})})]},e.key)))})]}),(0,s.jsx)(e.ModalFooter,{className:"px-0",children:(0,s.jsx)(e.ModalClose,{children:c('Close',{_tags:'core'})})})]})}}),3892,[17,2388,3377,1100,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var a=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TaxSettings=void 0;var e=G(_r(d[1])),t=a(_r(d[2])),s=_r(d[3]),o=_r(d[4]),l=_r(d[5]),r=_r(d[6]),n=G(_r(d[7])),i=_r(d[8]),c=_r(d[9]),_=_r(d[10]),p=_r(d[11]),u=_r(d[12]),x=_r(d[13]),f=_r(d[14]),b=_r(d[15]),y=_r(d[16]),j=_r(d[17]),h=_r(d[18]),F=_r(d[19]),O=_r(d[20]),v=_r(d[21]),C=_r(d[22]);function R(a){if("function"!=typeof WeakMap)return null;var e=new WeakMap,t=new WeakMap;return(R=function(a){return a?t:e})(a)}function G(a,e){if(!e&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var t=R(e);if(t&&t.has(a))return t.get(a);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in a)if("default"!==l&&{}.hasOwnProperty.call(a,l)){var r=o?Object.getOwnPropertyDescriptor(a,l):null;r&&(r.get||r.set)?Object.defineProperty(s,l,r):s[l]=a[l]}return s.default=a,t&&t.set(a,s),s}const P=n.object({calc_taxes:n.enum(['yes','no']),prices_include_tax:n.enum(['yes','no']),tax_based_on:n.enum(['shipping','billing','base']).default('base'),shipping_tax_class:n.string(),tax_round_at_subtotal:n.enum(['yes','no']),tax_display_shop:n.enum(['incl','excl']).default('excl'),tax_display_cart:n.enum(['incl','excl']).default('excl'),price_display_suffix:n.string().optional(),tax_total_display:n.enum(['single','itemized']).default('itemized')});_e.TaxSettings=()=>{const{store:a}=(0,u.useAppState)(),n=(0,x.useT)(),R=(0,o.useNavigation)(),{localPatch:G}=(0,O.useLocalMutation)(),S=(0,v.useRestHttpClient)(),[w,k]=e.useState(!1),M=(0,l.useObservablePickState)(a.$,(()=>{const e=a.getLatest();return{calc_taxes:e.calc_taxes,prices_include_tax:e.prices_include_tax,tax_based_on:e.tax_based_on,shipping_tax_class:e.shipping_tax_class,tax_round_at_subtotal:e.tax_round_at_subtotal,tax_display_shop:e.tax_display_shop,tax_display_cart:e.tax_display_cart,price_display_suffix:e.price_display_suffix,tax_total_display:e.tax_total_display}}),'calc_taxes','prices_include_tax','tax_based_on','shipping_tax_class','tax_round_at_subtotal','tax_display_shop','tax_display_cart','price_display_suffix','tax_total_display'),N=(0,r.useForm)({resolver:(0,s.zodResolver)(P),defaultValues:Object.assign({},M)}),T=e.useCallback((async e=>{await G({document:a,data:e})}),[G,a]);(0,c.useFormChangeHandler)({form:N,onChange:T}),e.useEffect((()=>{N.reset(Object.assign({},M))}),[M,N]);const D=e.useCallback((async()=>{k(!0);try{const e=(await S.get(`stores/${a.id}`)).data;await G({document:a,data:{calc_taxes:e.calc_taxes,prices_include_tax:e.prices_include_tax,tax_based_on:e.tax_based_on,shipping_tax_class:e.shipping_tax_class,tax_round_at_subtotal:e.tax_round_at_subtotal,tax_display_shop:e.tax_display_shop,tax_display_cart:e.tax_display_cart,price_display_suffix:e.price_display_suffix,tax_total_display:e.tax_total_display}})}catch(a){console.error(a)}finally{k(!1)}}),[S,G,a]);return(0,C.jsxs)(p.VStack,{children:[(0,C.jsx)(t.default,{className:"flex-row",children:(0,C.jsx)(i.Button,{variant:"muted",onPress:()=>R.navigate('TaxRates'),children:(0,C.jsx)(i.ButtonText,{children:n('View all tax rates',{_tags:'core'})})})}),(0,C.jsx)(c.Form,Object.assign({},N,{children:(0,C.jsxs)(p.VStack,{className:"gap-4",children:[(0,C.jsx)(f.FormErrors,{}),(0,C.jsxs)(t.default,{className:"grid grid-cols-2 gap-4",children:[(0,C.jsx)(c.FormField,{control:N.control,name:"calc_taxes",render:({field:a})=>(0,C.jsx)(c.FormRadioGroup,Object.assign({customComponent:F.YesNoRadioGroup,label:n('Enable taxes',{_tags:'core'})},a))}),(0,C.jsx)(c.FormField,{control:N.control,name:"prices_include_tax",render:({field:a})=>(0,C.jsx)(c.FormRadioGroup,Object.assign({customComponent:F.YesNoRadioGroup,label:n('Prices entered with tax',{_tags:'core'})},a))}),(0,C.jsx)(c.FormField,{control:N.control,name:"tax_based_on",render:({field:a})=>(0,C.jsx)(c.FormSelect,Object.assign({customComponent:y.TaxBasedOnSelect,label:n('Calculate tax based on',{_tags:'core'})},a))}),(0,C.jsx)(c.FormField,{control:N.control,name:"shipping_tax_class",render:({field:a})=>(0,C.jsx)(c.FormSelect,Object.assign({customComponent:j.TaxClassSelect,label:n('Shipping tax class',{_tags:'core'})},a))}),(0,C.jsx)(c.FormField,{control:N.control,name:"tax_total_display",render:({field:a})=>(0,C.jsx)(c.FormRadioGroup,Object.assign({customComponent:h.TaxDisplayRadioGroup,label:n('Display tax totals',{_tags:'core'})},a))}),(0,C.jsx)(c.FormField,{control:N.control,name:"tax_round_at_subtotal",render:({field:a})=>(0,C.jsx)(c.FormRadioGroup,Object.assign({customComponent:F.YesNoRadioGroup,label:n('Round tax at subtotal level',{_tags:'core'})},a))}),(0,C.jsx)(c.FormField,{control:N.control,name:"tax_display_shop",render:({field:a})=>(0,C.jsx)(c.FormRadioGroup,Object.assign({customComponent:b.InclExclRadioGroup,label:n('Display prices in the shop',{_tags:'core'})},a))}),(0,C.jsx)(c.FormField,{control:N.control,name:"tax_display_cart",render:({field:a})=>(0,C.jsx)(c.FormRadioGroup,Object.assign({customComponent:b.InclExclRadioGroup,label:n('Display prices during cart and checkout',{_tags:'core'})},a))}),(0,C.jsx)(c.FormField,{control:N.control,name:"price_display_suffix",render:({field:a})=>(0,C.jsx)(c.FormInput,Object.assign({label:n('Price display suffix',{_tags:'core'})},a))})]}),(0,C.jsxs)(_.ModalFooter,{className:"px-0",children:[(0,C.jsx)(i.Button,{variant:"destructive",onPress:D,loading:w,children:n('Restore server settings',{_tags:'core'})}),(0,C.jsx)(_.ModalClose,{children:n('Close',{_tags:'core'})})]})]})}))]})}}),3893,[1,17,320,3271,487,1170,3273,3274,1167,3275,2388,1130,1168,2083,3400,3894,3895,3461,3896,3897,3401,2300,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.InclExclRadioGroup=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a})(_r(d[0])),r=_r(d[1]),t=_r(d[2]),a=_r(d[3]),l=_r(d[4]),n=_r(d[5]),o=_r(d[6]);function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:r})(e)}_e.InclExclRadioGroup=e.forwardRef(((e,u)=>{const c=(0,n.useT)(),{setValue:i}=(0,r.useFormContext)();return(0,o.jsx)(l.RadioGroup,Object.assign({ref:u},e,{children:[{label:c('Including tax',{_tags:'core'}),value:'incl'},{label:c('Excluding tax',{_tags:'core'}),value:'excl'}].map((r=>(0,o.jsxs)(t.HStack,{children:[(0,o.jsx)(l.RadioGroupItem,{"aria-labelledby":`label-for-${r.value}`,value:r.value}),(0,o.jsx)(a.Label,{nativeID:`label-for-${r.value}`,onPress:()=>i(e.name,r.value),children:r.label})]},r.value)))}))}))}),3894,[17,3273,891,3279,3308,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TaxBasedOnSelect=void 0;var t=e(_r(d[1])),l=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=s(t);if(l&&l.has(e))return l.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var u=r?Object.getOwnPropertyDescriptor(e,n):null;u&&(u.get||u.set)?Object.defineProperty(a,n,u):a[n]=e[n]}return a.default=e,l&&l.set(e,a),a})(_r(d[2])),a=_r(d[3]),r=_r(d[4]),n=_r(d[5]),u=_r(d[6]);const o=["onValueChange","value"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(s=function(e){return e?l:t})(e)}_e.TaxBasedOnSelect=l.forwardRef(((e,s)=>{let{onValueChange:c,value:i}=e;(0,t.default)(e,o);const[f,p]=l.useState(0),v=(0,n.useT)(),b=l.useMemo((()=>[{value:'shipping',label:v('Customer shipping address',{_tags:'core'})},{value:'billing',label:v('Customer billing address',{_tags:'core'})},{value:'base',label:v('Shop base address',{_tags:'core'})}]),[v]),h=b.find((e=>e.value===i?.value))?.label;return(0,u.jsxs)(a.Select,{ref:s,value:Object.assign({},i,{label:h}),onValueChange:c,children:[(0,u.jsx)(a.SelectTrigger,{onLayout:e=>{p(e.nativeEvent.layout.width)},children:(0,u.jsx)(a.SelectValue,{placeholder:v('Select tax based on',{_tags:'core'})})}),(0,u.jsx)(a.SelectContent,{style:{width:f},children:(0,u.jsx)(a.SelectGroup,{children:b.map((e=>(0,u.jsx)(a.SelectItem,{label:e.label,value:e.value,children:(0,u.jsx)(r.Text,{children:e.label})},e.value)))})})]})}))}),3895,[1,31,17,3300,1100,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.TaxDisplayRadioGroup=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(r);if(a&&a.has(e))return a.get(e);var t={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,a&&a.set(e,t),t})(_r(d[0])),r=_r(d[1]),a=_r(d[2]),t=_r(d[3]),l=_r(d[4]),n=_r(d[5]),o=_r(d[6]);function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:r})(e)}_e.TaxDisplayRadioGroup=e.forwardRef(((e,u)=>{const i=(0,n.useT)(),{setValue:s}=(0,r.useFormContext)();return(0,o.jsx)(l.RadioGroup,Object.assign({ref:u},e,{children:[{label:i('As a single total',{_tags:'core'}),value:'single'},{label:i('Itemized',{_tags:'core'}),value:'itemized'}].map((r=>(0,o.jsxs)(a.HStack,{children:[(0,o.jsx)(l.RadioGroupItem,{"aria-labelledby":`label-for-${r.value}`,value:r.value}),(0,o.jsx)(t.Label,{nativeID:`label-for-${r.value}`,onPress:()=>s(e.name,r.value),children:r.label})]},r.value)))}))}))}),3896,[17,3273,891,3279,3308,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.YesNoRadioGroup=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(a,n,l):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a})(_r(d[0])),r=_r(d[1]),t=_r(d[2]),a=_r(d[3]),o=_r(d[4]),n=_r(d[5]),l=_r(d[6]);function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:r})(e)}_e.YesNoRadioGroup=e.forwardRef(((e,u)=>{const i=(0,n.useT)(),{setValue:s}=(0,r.useFormContext)();return(0,l.jsx)(o.RadioGroup,Object.assign({ref:u},e,{children:[{label:i('Yes',{_tags:'core'}),value:'yes'},{label:i('No',{_tags:'core'}),value:'no'}].map((r=>(0,l.jsxs)(t.HStack,{children:[(0,l.jsx)(o.RadioGroupItem,{"aria-labelledby":`label-for-${r.value}`,value:r.value}),(0,l.jsx)(a.Label,{nativeID:`label-for-${r.value}`,onPress:()=>s(e.name,r.value),children:r.label})]},r.value)))}))}))}),3897,[17,3273,891,3279,3308,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}n.default=e,r&&r.set(e,n)})(_r(d[1]));var t=e(_r(d[2])),r=_r(d[3]),n=_r(d[4]);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}_e.default=()=>(0,n.jsx)(r.Box,{className:"h-full",children:(0,n.jsx)(t.default,{server:"711884517081612298",channel:"1093100746372829254",shard:"https://emerald.widgetbot.io",style:{height:'100%',width:'100%',border:'0px'}})})}),3898,[1,17,3899,2220,483]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";var t=(function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=e(r);if(i&&i.has(t))return i.get(t);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&{}.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a]}return n.default=t,i&&i.set(t,n),n})(_r(d[0]));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,i=new WeakMap;return(e=function(t){return t?i:r})(t)}Object.defineProperty(_e,"__esModule",{value:!0});const r=_r(d[1]),i=_r(d[2]),n=_r(d[3]),s=_r(d[4]);class a extends i.PureComponent{constructor(){super(...arguments),this.state={url:null,id:(0,s.generateUUID)()},this.api=new r.Client({id:this.state.id,iframe:null})}static getDerivedStateFromProps(t,e){let r=t.shard;r.startsWith('http')||(r=`https://${r}`),r.endsWith('/')&&(r=r.substring(0,r.length-1));let i=Object.assign(Object.assign({},t.options),{api:e.id});t.thread&&(i.thread=t.thread),t.username&&(i.username=t.username),t.avatar&&(i.avatar=t.avatar),t.token&&(i.token=t.token),t.notifications&&(i.notifications=t.notifications),t.notificationTimeout&&(i.notificationtimeout=t.notificationTimeout),t.accessibility&&(i.accessibility=t.accessibility.join()),t.settingsGroup&&(i['settings-group']=t.settingsGroup);return{url:`${r}/channels/${t.server}${t.channel?`/${t.channel}`:''}/${(0,s.searchParams)(i)}`}}componentDidMount(){const{onAPI:t}=this.props;t&&t(this.api)}render(){const{defer:e,className:r,style:i,height:s,width:a,focusable:o}=this.props;return t.createInteropElement("div",{className:r,style:Object.assign(Object.assign({},(0,n.Root)({width:a,height:s})),i)},t.createInteropElement("iframe",{src:e?'':this.state.url,ref:t=>this.api.iframe=t,style:n.Embed,tabIndex:o?null:-1,allow:"clipboard-write; fullscreen",title:"Discord chat embed"}))}}a.defaultProps={server:'299881420891881473',shard:'https://e.widgetbot.io',options:{},defer:!1,focusable:!0},_e.default=a}),3899,[293,3900,17,3904,3905]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Server=e.Client=e.API=void 0;var t=r(d[0]);Object.defineProperty(e,"API",{enumerable:!0,get:function(){return t.default}});var n=r(d[1]);Object.defineProperty(e,"Client",{enumerable:!0,get:function(){return n.default}});var u=r(d[2]);Object.defineProperty(e,"Server",{enumerable:!0,get:function(){return u.default}})}),3900,[3901,3902,3903]);
__d((function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.default=class{constructor(){this.listeners={}}socketEvent(e){try{var t=JSON.parse(e)}catch(e){return}if(t instanceof Object&&!0===t.widgetbot&&t.id===this.id){const{event:e,data:s}=t,n=this.listeners[e];n&&n.forEach((e=>e(s)))}}on(e,t){this.listeners[e]||(this.listeners[e]=[]);this.listeners[e].push(t),console.debug(`[embed-api] on '${String(e)}'`,t)}removeListener(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter((e=>e===t)),console.debug(`[embed-api] removeListener '${String(e)}'`,t))}}}),3901,[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=r(d[0]);class s extends t.default{constructor(t){super(),this.server={emit:(t,s)=>{const n=this.listeners[t];n&&n.forEach((t=>t(s)))}},Object.assign(this,t),window.addEventListener("message",(({data:t})=>this.socketEvent(t)))}emit(t,s){if(!window.parent)return!1;const n=JSON.stringify({widgetbot:!0,id:this.id,event:t,data:s});return!!this.iframe.contentWindow&&(this.iframe.contentWindow.postMessage(n,"*"),!0)}}e.default=s}),3902,[3901]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=r(d[0]);class s extends t.default{constructor(t){super(),this.targetOrigin="*",this.client={emit:(t,s)=>{const n=this.listeners[t];n&&n.forEach((t=>t(s)))}},Object.assign(this,t),window.addEventListener("message",(({data:t})=>this.socketEvent(t)))}emit(t,s){if(console.debug(`[embed-api] emit '${t}'`,s),!window.parent)return!1;const n=JSON.stringify({widgetbot:!0,id:this.id,event:t,data:s});return window.parent.postMessage(n,this.targetOrigin),!0}}e.default=s}),3903,[3901]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Embed=e.Root=void 0;e.Root=({width:o,height:t})=>Object.assign(Object.assign(Object.assign({},t&&{height:+t?`${t}px`:t}),o&&{width:+o?`${o}px`:o}),{display:'inline-block',overflow:'hidden',backgroundColor:'rgb(54, 57, 62)',borderRadius:7,verticalAlign:'top'}),e.Embed={width:'100%',height:'100%',border:'none'}}),3904,[]);
__d((function(g,_r,i,a,m,e,_d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchParams=e.generateUUID=void 0,e.generateUUID=function(){let x=(new Date).getTime();return'undefined'!=typeof performance&&'function'==typeof performance.now&&(x+=performance.now()),'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,(n=>{let o=(x+16*Math.random())%16|0;return x=Math.floor(x/16),('x'===n?o:3&o|8).toString(16)}))};e.searchParams=(x={})=>'?'+Object.keys(x).map((n=>`${encodeURIComponent(n)}=${encodeURIComponent(x[n])}`)).join('&')}),3905,[]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TaxRates=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var l=s?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r})(_r(d[1])),a=e(_r(d[2])),r=e(_r(d[3])),s=_r(d[4]),n=_r(d[5]),l=_r(d[6]),o=_r(d[7]),u=_r(d[8]),i=_r(d[9]),c=_r(d[10]),x=e(_r(d[11])),f=_r(d[12]),j=_r(d[13]);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}_e.TaxRates=({query:e})=>{const p=(0,s.useObservableSuspense)(e.resource).hits.map((({document:e})=>e)),{extraData:h}=(0,f.useExtraData)(),b=(0,s.useObservableEagerState)(h.taxClasses$),[T,v]=t.useState((0,a.default)(b,[0,'slug'],'')),M=(0,c.useT)();(0,x.default)();const y=t.useMemo((()=>{const e=(0,r.default)(p,'class');return(b||[]).map((t=>({name:t.name,slug:t.slug,rates:e[t.slug]||[]})))}),[p,b]);return(0,j.jsx)(n.Modal,{children:(0,j.jsxs)(n.ModalContent,{size:"xl",children:[(0,j.jsx)(n.ModalHeader,{children:(0,j.jsx)(n.ModalTitle,{children:(0,j.jsx)(o.Text,{children:M('Tax Rates',{_tags:'core'})})})}),(0,j.jsxs)(n.ModalBody,{children:[(0,j.jsxs)(l.Tabs,{value:T,onValueChange:v,orientation:"horizontal",children:[(0,j.jsx)(l.ScrollableTabsList,{children:y.map((e=>(0,j.jsx)(l.TabsTrigger,{value:e.slug,children:(0,j.jsx)(o.Text,{children:e.name})},e.slug)))}),y.map((e=>(0,j.jsx)(l.TabsContent,{value:e.slug,children:(0,j.jsx)(i.TaxRateTable,{rates:e.rates})},e.slug)))]}),(0,j.jsx)(u.TaxRatesFooter,{count:p.length,query:e})]}),(0,j.jsx)(n.ModalFooter,{children:(0,j.jsx)(n.ModalClose,{children:M('Close',{_tags:'core'})})})]})})}}),3906,[1,17,899,3469,1170,2388,3402,1100,3907,3908,2083,3394,3430,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TaxRatesFooter=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var c=n?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}a.default=e,r&&r.set(e,a)})(_r(d[1]));var t=_r(d[2]),r=_r(d[3]),a=_r(d[4]),n=_r(d[5]),o=_r(d[6]),c=e(_r(d[7])),u=_r(d[8]),l=_r(d[9]);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}_e.TaxRatesFooter=({count:e,query:s})=>{const{sync:i,active$:f,total$:p}=(0,n.useReplicationState)(s),{clear:b}=(0,u.useCollectionReset)(s.collection.name),v=(0,t.useObservableState)(f,!1),y=(0,t.useObservableState)(p,0),_=(0,o.useT)();return(0,l.jsxs)(r.HStack,{className:"p-2 gap-0 border-border border-t bg-muted justify-end",children:[(0,l.jsx)(a.Text,{className:"text-xs",children:_('Showing {count} of {total}',{count:e,total:y,_tags:'core'})}),(0,l.jsx)(c.default,{sync:i,clear:b,active:v})]})}}),3907,[1,17,1170,891,1100,2168,2083,3384,3383,483]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.TaxRateTable=void 0;!(function(e,l){if(!l&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(l);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in e)if("default"!==t&&{}.hasOwnProperty.call(e,t)){var c=n?Object.getOwnPropertyDescriptor(e,t):null;c&&(c.get||c.set)?Object.defineProperty(a,t,c):a[t]=e[t]}a.default=e,r&&r.set(e,a)})(_r(d[0]));var e=_r(d[1]),l=_r(d[2]),r=_r(d[3]),a=_r(d[4]),n=_r(d[5]);function s(e){if("function"!=typeof WeakMap)return null;var l=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:l})(e)}_e.TaxRateTable=({rates:s})=>{const t=(0,a.useT)();return(0,n.jsxs)(l.Table,{children:[(0,n.jsx)(l.TableHeader,{children:(0,n.jsxs)(l.TableRow,{children:[(0,n.jsx)(l.TableHead,{children:(0,n.jsx)(r.Text,{children:t('Country code',{_tags:'core '})})}),(0,n.jsx)(l.TableHead,{children:(0,n.jsx)(r.Text,{children:t('State code',{_tags:'core '})})}),(0,n.jsx)(l.TableHead,{children:(0,n.jsx)(r.Text,{children:t('Postcode',{_tags:'core '})})}),(0,n.jsx)(l.TableHead,{children:(0,n.jsx)(r.Text,{children:t('City',{_tags:'core '})})}),(0,n.jsx)(l.TableHead,{children:(0,n.jsx)(r.Text,{children:t('Rate %',{_tags:'core '})})}),(0,n.jsx)(l.TableHead,{children:(0,n.jsx)(r.Text,{children:t('Tax name',{_tags:'core '})})}),(0,n.jsx)(l.TableHead,{className:"w-12",children:(0,n.jsx)(r.Text,{children:t('Priority',{_tags:'core '})})}),(0,n.jsx)(l.TableHead,{className:"w-12",children:(0,n.jsx)(r.Text,{children:t('Compound',{_tags:'core '})})}),(0,n.jsx)(l.TableHead,{className:"w-12",children:(0,n.jsx)(r.Text,{children:t('Shipping',{_tags:'core '})})})]})}),(0,n.jsx)(l.TableBody,{children:s.map(((a,s)=>(0,n.jsxs)(l.TableRow,{index:s,children:[(0,n.jsx)(l.TableCell,{children:(0,n.jsx)(r.Text,{children:a.country})}),(0,n.jsx)(l.TableCell,{children:(0,n.jsx)(r.Text,{children:a.state?(0,n.jsx)(r.Text,{children:a.state}):(0,n.jsx)(r.Text,{className:"text-4xl leading-none",children:"*"})})}),(0,n.jsx)(l.TableCell,{children:Array.isArray(a.postcodes)&&a.postcodes.length>0?(0,n.jsx)(r.Text,{children:a.postcodes.join(', ')}):(0,n.jsx)(r.Text,{className:"text-4xl leading-none",children:"*"})}),(0,n.jsx)(l.TableCell,{children:Array.isArray(a.cities)&&a.cities.length>0?(0,n.jsx)(r.Text,{children:a.cities.join(', ')}):(0,n.jsx)(r.Text,{className:"text-4xl leading-none",children:"*"})}),(0,n.jsx)(l.TableCell,{children:(0,n.jsx)(r.Text,{children:a.rate})}),(0,n.jsx)(l.TableCell,{children:(0,n.jsx)(r.Text,{children:a.name})}),(0,n.jsx)(l.TableCell,{className:"w-12",children:a.priority}),(0,n.jsx)(l.TableCell,{className:"w-12",children:(0,n.jsx)(e.Icon,{name:a.compound?'check':'xmark'})}),(0,n.jsx)(l.TableCell,{className:"w-12",children:(0,n.jsx)(e.Icon,{name:a.shipping?'check':'xmark'})})]},a.id)))})]})}}),3908,[17,898,3377,1100,2083,483]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.UpgradeRequired=void 0;!(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}n.default=e,r&&r.set(e,n)})(_r(d[1]));var t=e(_r(d[2])),r=e(_r(d[3])),n=_r(d[4]),a=_r(d[5]),o=_r(d[6]),u=_r(d[7]),i=_r(d[8]),l=_r(d[9]),c=_r(d[10]),s=_r(d[11]),f=_r(d[12]);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}_e.UpgradeRequired=()=>{const e=(0,s.useT)(),{logout:p}=(0,c.useAppState)();return(0,f.jsx)(t.default,{style:[r.default.absoluteFillObject,{alignItems:'center',justifyContent:'center'}],children:(0,f.jsxs)(l.VStack,{children:[(0,f.jsxs)(o.HStack,{children:[(0,f.jsx)(u.Icon,{name:"triangleExclamation",variant:"destructive"}),(0,f.jsx)(i.Text,{className:"text-destructive",children:e('Please update your WooCommerce POS plugin')})]}),(0,f.jsx)(n.Box,{className:"justify-center",children:(0,f.jsx)(a.Button,{onPress:p,children:(0,f.jsx)(a.ButtonText,{children:e('Logout')})})})]})})}}),3909,[1,17,320,30,2220,1167,891,898,1100,1130,1168,2083,483]);